# 03.2.1 æ­£åˆ™æ–‡æ³• (Regular Grammar)

## ğŸ“š æ¦‚è¿° | Overview

æ­£åˆ™æ–‡æ³•æ˜¯å½¢å¼è¯­è¨€ç†è®ºä¸­æœ€åŸºç¡€çš„æ–‡æ³•ç±»å‹ï¼Œå®ƒç”Ÿæˆçš„è¯­è¨€æ°å¥½æ˜¯æœ‰é™è‡ªåŠ¨æœºèƒ½å¤Ÿè¯†åˆ«çš„è¯­è¨€ã€‚æ­£åˆ™æ–‡æ³•æ˜¯ä¹”å§†æ–¯åŸºè°±ç³»ä¸­çš„3å‹æ–‡æ³•ï¼Œå…·æœ‰æœ€ä¸¥æ ¼çš„äº§ç”Ÿå¼è§„åˆ™é™åˆ¶ï¼Œä½†ä¹Ÿå› æ­¤å…·æœ‰æœ€é«˜çš„è®¡ç®—æ•ˆç‡ã€‚

Regular grammar is the most basic type of grammar in formal language theory. The languages it generates are exactly those recognized by finite automata. As Type-3 grammars in the Chomsky hierarchy, regular grammars have the strictest production rule restrictions, resulting in the highest computational efficiency.

## ğŸ” å½¢å¼å®šä¹‰

### å³çº¿æ€§æ–‡æ³•

**å®šä¹‰ 3.2.1.1** (å³çº¿æ€§æ–‡æ³•)
å³çº¿æ€§æ–‡æ³•æ˜¯ä¸€ä¸ªå››å…ƒç»„ $G = (V, \Sigma, P, S)$ï¼Œå…¶ä¸­ï¼š

1. $V$ æ˜¯éç»ˆç»“ç¬¦é›†åˆ
2. $\Sigma$ æ˜¯ç»ˆç»“ç¬¦é›†åˆï¼Œä¸” $V \cap \Sigma = \emptyset$
3. $P$ æ˜¯äº§ç”Ÿå¼é›†åˆï¼Œæ¯ä¸ªäº§ç”Ÿå¼å½¢å¦‚ $A \to aB$ æˆ– $A \to a$ æˆ– $A \to \varepsilon$ï¼Œå…¶ä¸­ $A, B \in V$ï¼Œ$a \in \Sigma$ï¼Œ$\varepsilon$ æ˜¯ç©ºä¸²
4. $S \in V$ æ˜¯èµ·å§‹ç¬¦å·

### å·¦çº¿æ€§æ–‡æ³•

**å®šä¹‰ 3.2.1.2** (å·¦çº¿æ€§æ–‡æ³•)
å·¦çº¿æ€§æ–‡æ³•æ˜¯ä¸€ä¸ªå››å…ƒç»„ $G = (V, \Sigma, P, S)$ï¼Œå…¶ä¸­ï¼š

1. $V$ æ˜¯éç»ˆç»“ç¬¦é›†åˆ
2. $\Sigma$ æ˜¯ç»ˆç»“ç¬¦é›†åˆï¼Œä¸” $V \cap \Sigma = \emptyset$
3. $P$ æ˜¯äº§ç”Ÿå¼é›†åˆï¼Œæ¯ä¸ªäº§ç”Ÿå¼å½¢å¦‚ $A \to Ba$ æˆ– $A \to a$ æˆ– $A \to \varepsilon$ï¼Œå…¶ä¸­ $A, B \in V$ï¼Œ$a \in \Sigma$ï¼Œ$\varepsilon$ æ˜¯ç©ºä¸²
4. $S \in V$ æ˜¯èµ·å§‹ç¬¦å·

## ğŸ§© æ ¸å¿ƒæ¦‚å¿µä¸å®šä¹‰ | Core Concepts & Definitions

- **æ­£åˆ™æ–‡æ³•ï¼ˆRegular Grammarï¼‰**ï¼šäº§ç”Ÿå¼å—é™ã€å¯ç”±æœ‰é™è‡ªåŠ¨æœºè¯†åˆ«çš„æ–‡æ³•ã€‚
  
  A grammar with restricted productions, whose languages can be recognized by finite automata.
- **å³çº¿æ€§æ–‡æ³•ï¼ˆRight-Linear Grammarï¼‰**ï¼šäº§ç”Ÿå¼å³ä¾§æœ€å¤šæœ‰ä¸€ä¸ªéç»ˆç»“ç¬¦ä¸”åœ¨æœ€å³ç«¯ã€‚
  
  Productions have at most one nonterminal, which appears at the rightmost position.
- **å·¦çº¿æ€§æ–‡æ³•ï¼ˆLeft-Linear Grammarï¼‰**ï¼šäº§ç”Ÿå¼å³ä¾§æœ€å¤šæœ‰ä¸€ä¸ªéç»ˆç»“ç¬¦ä¸”åœ¨æœ€å·¦ç«¯ã€‚
  
  Productions have at most one nonterminal, which appears at the leftmost position.
- **æ­£åˆ™è¯­è¨€ï¼ˆRegular Languageï¼‰**ï¼šå¯ç”±æ­£åˆ™æ–‡æ³•ç”Ÿæˆæˆ–æœ‰é™è‡ªåŠ¨æœºè¯†åˆ«çš„è¯­è¨€ã€‚
  
  Languages generated by regular grammars or recognized by finite automata.

## ğŸ§  ç†è®ºæ€§è´¨ä¸å®šç† | Theoretical Properties & Theorems

- **ç­‰ä»·æ€§å®šç†ï¼ˆEquivalence Theoremsï¼‰**ï¼šå³çº¿æ€§æ–‡æ³•ä¸å·¦çº¿æ€§æ–‡æ³•ç­‰ä»·ï¼Œæ­£åˆ™æ–‡æ³•ä¸æœ‰é™è‡ªåŠ¨æœºã€æ­£åˆ™è¡¨è¾¾å¼ç­‰ä»·ã€‚
  
  Right-linear and left-linear grammars are equivalent; regular grammars, finite automata, and regular expressions are all equivalent in expressive power.
- **æ³µå¼•ç†ï¼ˆPumping Lemmaï¼‰**ï¼šç”¨äºè¯æ˜æŸäº›è¯­è¨€ä¸æ˜¯æ­£åˆ™è¯­è¨€ã€‚
  
  Used to prove that certain languages are not regular.
- **å°é—­æ€§ï¼ˆClosure Propertiesï¼‰**ï¼šæ­£åˆ™è¯­è¨€å¯¹å¹¶ã€äº¤ã€è¡¥ã€è¿æ¥ã€å…‹æ—é—­åŒ…ç­‰è¿ç®—å°é—­ã€‚
  
  Regular languages are closed under union, intersection, complement, concatenation, and Kleene star.
- **åˆ¤å®šæ€§ï¼ˆDecidabilityï¼‰**ï¼šæ­£åˆ™è¯­è¨€çš„åŒç±»åˆ¤å®šã€åŒ…å«åˆ¤å®šã€ç­‰ä»·åˆ¤å®šç­‰å‡ä¸ºå¯åˆ¤å®šé—®é¢˜ã€‚
  
  Membership, inclusion, and equivalence for regular languages are all decidable problems.

## ğŸ“Š åº”ç”¨ç¤ºä¾‹

### æ ‡è¯†ç¬¦æ–‡æ³•

```text
S â†’ aA | bA | ... | zA | aB | ... | zB
A â†’ aA | bA | ... | zA | 0A | ... | 9A | Îµ
B â†’ aB | bB | ... | zB | 0B | ... | 9B | _B | Îµ
```

æ­¤æ–‡æ³•æè¿°äº†ç¼–ç¨‹è¯­è¨€ä¸­çš„æ ‡è¯†ç¬¦ï¼Œå…è®¸å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œä½†å¿…é¡»ä»¥å­—æ¯å¼€å¤´ã€‚

### æ•´æ•°æ–‡æ³•

```text
S â†’ 0 | 1D | 2D | ... | 9D
D â†’ 0D | 1D | ... | 9D | Îµ
```

æ­¤æ–‡æ³•æè¿°äº†éè´Ÿæ•´æ•°ï¼Œå…è®¸0æˆ–è€…é0å¼€å¤´çš„æ•°å­—åºåˆ—ã€‚

### æ­£åˆ™è¡¨è¾¾å¼ä¸æ­£åˆ™æ–‡æ³•

- æ­£åˆ™è¡¨è¾¾å¼ `a(b|c)*d` å¯è½¬åŒ–ä¸ºæ­£åˆ™æ–‡æ³•ï¼š
  - $S \to aA$
  - $A \to bA \mid cA \mid d$

## ğŸ› ï¸ å®ç°ç¤ºä¾‹

```rust
/// æ­£åˆ™æ–‡æ³•å®ç°
struct RegularGrammar {
    non_terminals: HashSet<String>,
    terminals: HashSet<char>,
    productions: HashMap<String, Vec<String>>,
    start_symbol: String,
    is_right_linear: bool,
}

impl RegularGrammar {
    /// æ£€æŸ¥æ˜¯å¦ä¸ºå³çº¿æ€§æ–‡æ³•
    fn is_right_linear(&self) -> bool {
        for (_, productions) in &self.productions {
            for rhs in productions {
                // æ£€æŸ¥æ¯ä¸ªäº§ç”Ÿå¼æ˜¯å¦ç¬¦åˆå³çº¿æ€§æ–‡æ³•çš„å½¢å¼
                if !rhs.is_empty() {
                    let mut non_terminal_found = false;
                    for (i, c) in rhs.chars().enumerate() {
                        if self.non_terminals.contains(&c.to_string()) {
                            if i != rhs.len() - 1 {
                                return false; // éç»ˆç»“ç¬¦ä¸åœ¨æœ€å³ç«¯
                            }
                            non_terminal_found = true;
                        }
                    }
                }
            }
        }
        true
    }
    
    /// è½¬æ¢ä¸ºæœ‰é™è‡ªåŠ¨æœº
    fn to_finite_automaton(&self) -> FiniteAutomaton {
        // å®ç°ä»æ­£åˆ™æ–‡æ³•åˆ°æœ‰é™è‡ªåŠ¨æœºçš„è½¬æ¢
        // ...
    }
    
    /// ä»æ­£åˆ™è¡¨è¾¾å¼æ„é€ æ­£åˆ™æ–‡æ³•
    fn from_regex(regex: &str) -> Self {
        // è§£ææ­£åˆ™è¡¨è¾¾å¼ï¼Œæ„é€ ç­‰ä»·çš„æ­£åˆ™æ–‡æ³•
        // ...
    }
}
```

### å·¥ç¨‹åº”ç”¨æ¡ˆä¾‹

- **è¯æ³•åˆ†æå™¨**ï¼šç¼–è¯‘å™¨å‰ç«¯é€šè¿‡æ­£åˆ™æ–‡æ³•/æ­£åˆ™è¡¨è¾¾å¼æè¿°Tokenè§„åˆ™ï¼Œè‡ªåŠ¨ç”Ÿæˆæœ‰é™è‡ªåŠ¨æœºè¿›è¡Œé«˜æ•ˆè¯æ³•åˆ†æã€‚
- **æ­£åˆ™è¡¨è¾¾å¼å¼•æ“**ï¼šæ–‡æœ¬æœç´¢ã€æ•°æ®æ¸…æ´—ã€æ—¥å¿—åˆ†æç­‰åœºæ™¯å¹¿æ³›åº”ç”¨æ­£åˆ™æ–‡æ³•åŸç†ã€‚
- **åè®®è§£æ**ï¼šç½‘ç»œåè®®ã€æ•°æ®æ ¼å¼çš„ç®€å•è¯­æ³•å¯ç”¨æ­£åˆ™æ–‡æ³•å»ºæ¨¡ã€‚

## ğŸ›ï¸ å›½é™…å¯¹æ ‡ä¸æ‰¹åˆ¤æ€§åˆ†æ | International Perspective & Critical Analysis

- æ­£åˆ™æ–‡æ³•æ˜¯ç†è®ºè®¡ç®—æœºç§‘å­¦ã€ç¼–è¯‘å™¨è®¾è®¡ã€æ–‡æœ¬å¤„ç†ç­‰é¢†åŸŸçš„åŸºç¡€å·¥å…·ã€‚
- ä½†å…¶è¡¨è¾¾èƒ½åŠ›æœ‰é™ï¼Œæ— æ³•æè¿°åµŒå¥—ç»“æ„ã€åŒ¹é…æ‹¬å·ç­‰ä¸Šä¸‹æ–‡æ— å…³ç‰¹æ€§ã€‚
- å³çº¿æ€§ä¸å·¦çº¿æ€§æ–‡æ³•è™½ç­‰ä»·ï¼Œä½†å®é™…åº”ç”¨ä¸­å³çº¿æ€§æ›´å¸¸è§ã€‚
- æ­£åˆ™æ–‡æ³•çš„é«˜æ•ˆæ€§ä½¿å…¶åœ¨å®é™…å·¥ç¨‹ä¸­å¹¿æ³›åº”ç”¨ï¼Œä½†ä¹Ÿæš´éœ²äº†æ¨¡å‹çš„ç†æƒ³åŒ–å‡è®¾ã€‚
- è¿‘å¹´æ¥ï¼Œæ‰©å±•æ­£åˆ™æ–‡æ³•ï¼ˆå¦‚å¸¦çº¦æŸçš„æ­£åˆ™æ–‡æ³•ã€æ¦‚ç‡æ­£åˆ™æ–‡æ³•ï¼‰è¢«æå‡ºä»¥é€‚åº”æ›´å¤æ‚çš„åº”ç”¨éœ€æ±‚ã€‚

Regular grammars are fundamental tools in theoretical computer science, compiler design, and text processing. However, their expressive power is limitedâ€”they cannot describe nested structures or context-free features such as matching parentheses. While right-linear and left-linear grammars are equivalent, right-linear grammars are more commonly used in practice. The efficiency of regular grammars makes them widely used in engineering, but also exposes the idealized assumptions of the model. Recently, extended regular grammars (e.g., constrained or probabilistic regular grammars) have been proposed to meet more complex application needs.

## ğŸ”— ç›¸å…³å†…å®¹

- [03.1.1 æœ‰é™è‡ªåŠ¨æœº](../01_Automata_Theory/03.1.1_Finite_Automata.md) - ä¸æ­£åˆ™æ–‡æ³•ç­‰ä»·çš„è®¡ç®—æ¨¡å‹
- [03.2.2 ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•](03.2.2_Context_Free_Grammar.md) - æ¯”æ­£åˆ™æ–‡æ³•æ›´å¼ºå¤§çš„æ–‡æ³•
- [03.3.1 ä¹”å§†æ–¯åŸºè°±ç³»](../03.3_Language_Hierarchy/03.3.1_Chomsky_Hierarchy.md) - æ­£åˆ™æ–‡æ³•åœ¨è¯­è¨€å±‚æ¬¡ä¸­çš„ä½ç½®

## å‚è€ƒæ–‡çŒ® | References

- Hopcroft, J.E., Motwani, R., Ullman, J.D. "Introduction to Automata Theory, Languages, and Computation"
- Wikipedia: [Regular grammar](https://en.wikipedia.org/wiki/Regular_grammar)
- Stanford Encyclopedia of Philosophy: [Formal Languages](https://plato.stanford.edu/entries/formal-languages/)
- Chomsky, N. "Three Models for the Description of Language" (1956)
- Salomaa, A. "Formal Languages" (1973)

---

## æ‰¹åˆ¤æ€§åˆ†æ | Critical Analysis

- æ­£åˆ™æ–‡æ³•ç†è®ºå¼ºè°ƒå½¢å¼åŒ–ã€å¯åˆ¤å®šæ€§å’Œé«˜æ•ˆå®ç°ï¼Œä½†åœ¨å¤„ç†åµŒå¥—ç»“æ„ã€ä¸Šä¸‹æ–‡ç›¸å…³æ€§ç­‰å¤æ‚è¯­è¨€ç°è±¡æ—¶å­˜åœ¨å±€é™ã€‚
- å³çº¿æ€§ä¸å·¦çº¿æ€§æ–‡æ³•è™½ç†è®ºç­‰ä»·ï¼Œä½†å®é™…å·¥ç¨‹å®ç°å’Œå·¥å…·æ”¯æŒå¤šåå‘å³çº¿æ€§ã€‚
- æ–°å…´æ¨¡å‹ï¼ˆå¦‚å¸¦çº¦æŸã€æ¦‚ç‡æ­£åˆ™æ–‡æ³•ï¼‰è™½æ‰©å±•äº†ç†è®ºè¾¹ç•Œï¼Œä½†å®é™…åº”ç”¨å’Œå¯éªŒè¯æ€§ä»éœ€è¿›ä¸€æ­¥ç ”ç©¶ã€‚
- ä¸åŒå­¦æ´¾å¯¹æ­£åˆ™æ–‡æ³•ä¸è‡ªç„¶è¯­è¨€ã€è®¤çŸ¥æœºåˆ¶çš„å…³ç³»å­˜åœ¨äº‰è®®ã€‚

- Regular grammar theory emphasizes formalization, decidability, and efficient implementation, but faces limitations in handling nested structures and context-sensitive phenomena.
- While right-linear and left-linear grammars are theoretically equivalent, engineering practice and tool support often favor right-linear grammars.
- Emerging models (e.g., constrained, probabilistic regular grammars) extend theoretical boundaries, but practical applications and verifiability require further research.
- There are debates among different schools regarding the relationship between regular grammars, natural language, and cognitive mechanisms.
