# 03.1.1 有限自动机 (Finite Automata)

## 📚 概述

有限自动机是最简单的计算模型，能够识别正则语言。它由有限数量的状态、输入符号和状态转移规则组成，是自动机理论的基础。

## 🔍 主要类型

### 确定性有限自动机 (DFA)

**定义 3.1.1** (确定性有限自动机)
确定性有限自动机是一个五元组 $M = (Q, \Sigma, \delta, q_0, F)$，其中：

1. $Q$ 是有限状态集
2. $\Sigma$ 是有限输入字母表
3. $\delta: Q \times \Sigma \to Q$ 是转移函数
4. $q_0 \in Q$ 是初始状态
5. $F \subseteq Q$ 是接受状态集

**定义 3.1.2** (DFA的扩展转移函数)
扩展转移函数 $\hat{\delta}: Q \times \Sigma^* \to Q$ 定义为：

1. $\hat{\delta}(q, \varepsilon) = q$
2. $\hat{\delta}(q, wa) = \delta(\hat{\delta}(q, w), a)$

**定义 3.1.3** (DFA接受的语言)
DFA $M$ 接受的语言定义为：
$$L(M) = \{w \in \Sigma^* \mid \hat{\delta}(q_0, w) \in F\}$$

**特点**：
- 确定性：每个状态对每个输入符号有唯一的转移
- 无记忆：只依赖当前状态和输入符号
- 计算能力：可以识别所有正则语言

### 非确定性有限自动机 (NFA)

**定义 3.1.4** (非确定性有限自动机)
非确定性有限自动机是一个五元组 $M = (Q, \Sigma, \delta, q_0, F)$，其中：

1. $Q$ 是有限状态集
2. $\Sigma$ 是有限输入字母表
3. $\delta: Q \times \Sigma \to 2^Q$ 是转移函数
4. $q_0 \in Q$ 是初始状态
5. $F \subseteq Q$ 是接受状态集

**定义 3.1.5** (NFA的扩展转移函数)
扩展转移函数 $\hat{\delta}: Q \times \Sigma^* \to 2^Q$ 定义为：

1. $\hat{\delta}(q, \varepsilon) = \{q\}$
2. $\hat{\delta}(q, wa) = \bigcup_{p \in \hat{\delta}(q, w)} \delta(p, a)$

**定义 3.1.6** (NFA接受的语言)
NFA $M$ 接受的语言定义为：
$$L(M) = \{w \in \Sigma^* \mid \hat{\delta}(q_0, w) \cap F \neq \emptyset\}$$

**特点**：
- 非确定性：一个状态对一个输入符号可能有多个可能的转移
- 并行计算：可以同时处于多个状态
- 计算能力：与DFA等价，都识别正则语言

### 带ε-转移的非确定性有限自动机 (ε-NFA)

**定义 3.1.7** (ε-NFA)
ε-NFA是一个五元组 $M = (Q, \Sigma, \delta, q_0, F)$，其中：

1. $Q$ 是有限状态集
2. $\Sigma$ 是有限输入字母表
3. $\delta: Q \times (\Sigma \cup \{\varepsilon\}) \to 2^Q$ 是转移函数
4. $q_0 \in Q$ 是初始状态
5. $F \subseteq Q$ 是接受状态集

**定义 3.1.8** (ε-闭包)
状态 $q$ 的ε-闭包 $ECLOSE(q)$ 定义为：
$$ECLOSE(q) = \{p \in Q \mid q \stackrel{\varepsilon^*}{\Rightarrow} p\}$$
其中 $\stackrel{\varepsilon^*}{\Rightarrow}$ 表示通过零个或多个ε-转移可达。

**特点**：
- 空转移：可以在不读取输入符号的情况下改变状态
- 灵活性：简化了自动机的构造
- 计算能力：与DFA和NFA等价

## 🔗 等价性与转换

### DFA与NFA的等价性

**定理 3.1.2** (DFA与NFA的等价性)
对于每个NFA，存在等价的DFA。

**证明**：
构造DFA $M' = (Q', \Sigma, \delta', q_0', F')$，其中：

- $Q' = 2^Q$（NFA状态集的幂集）
- $q_0' = \{q_0\}$
- $F' = \{S \subseteq Q \mid S \cap F \neq \emptyset\}$
- $\delta'(S, a) = \bigcup_{q \in S} \delta(q, a)$

可以证明，对于任意输入串 $w$，$\hat{\delta}'(q_0', w) = \hat{\delta}(q_0, w)$，因此 $L(M') = L(M)$。

### ε-NFA与NFA的等价性

**定理 3.1.3** (ε-NFA与NFA的等价性)
对于每个ε-NFA，存在等价的NFA。

**证明**：
构造NFA $M' = (Q, \Sigma, \delta', q_0, F')$，其中：

- $\delta'(q, a) = \bigcup_{p \in ECLOSE(q)} \bigcup_{r \in \delta(p, a)} ECLOSE(r)$
- $F' = \{q \in Q \mid ECLOSE(q) \cap F \neq \emptyset\}$

可以证明 $L(M') = L(M)$。

## 📊 正则语言的性质

**定理 3.1.4** (有限自动机的封闭性)
正则语言在以下运算下封闭：

1. 并集
2. 交集
3. 补集
4. 连接
5. 克林闭包

**证明**：
可以通过构造相应的自动机来证明这些封闭性。例如，对于两个正则语言 $L_1$ 和 $L_2$，可以构造识别 $L_1 \cup L_2$ 的NFA，然后转换为DFA。

## 🔄 与正则表达式的等价性

**定理 3.1.5** (克林定理)
一个语言是正则的，当且仅当它可以被正则表达式表示。

**证明**：
1. 从正则表达式到ε-NFA：可以为每个正则表达式构造等价的ε-NFA
2. 从ε-NFA到正则表达式：可以通过状态消除法将ε-NFA转换为等价的正则表达式

## 🛠️ 应用

1. **词法分析**：编译器中用于标记识别
2. **模式匹配**：用于字符串搜索和正则表达式实现
3. **协议验证**：验证通信协议的正确性
4. **数字电路设计**：状态机在硬件设计中的应用

## 🔗 相关内容

- [03.2.1 正则文法](../03.2_Formal_Grammars/03.2.1_Regular_Grammar.md) - 与有限自动机等价的文法
- [03.3.1 乔姆斯基谱系](../03.3_Language_Hierarchy/03.3.1_Chomsky_Hierarchy.md) - 正则语言在语言层次中的位置
- [03.1.2 下推自动机](./03.1.2_Pushdown_Automata.md) - 比有限自动机更强大的计算模型

---

**更新时间**: 2024-12-25  
**版本**: 2.0  
**状态**: 已完成 