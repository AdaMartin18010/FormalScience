# 03.1.2 ä¸‹æ¨è‡ªåŠ¨æœº (Pushdown Automata)

## ğŸ“š æ¦‚è¿°

ä¸‹æ¨è‡ªåŠ¨æœºæ˜¯æ¯”æœ‰é™è‡ªåŠ¨æœºæ›´å¼ºå¤§çš„è®¡ç®—æ¨¡å‹ï¼Œé€šè¿‡å¼•å…¥ä¸€ä¸ªæ ˆç»“æ„æ¥å¢å¼ºå…¶è®°å¿†èƒ½åŠ›ã€‚ä¸‹æ¨è‡ªåŠ¨æœºèƒ½å¤Ÿè¯†åˆ«ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ï¼Œæ˜¯ç¼–è¯‘å™¨è®¾è®¡ä¸­è¯­æ³•åˆ†æçš„ç†è®ºåŸºç¡€ã€‚

## ğŸ” ä¸»è¦ç±»å‹

### éç¡®å®šæ€§ä¸‹æ¨è‡ªåŠ¨æœº (NPDA)

**å®šä¹‰ 3.1.10** (éç¡®å®šæ€§ä¸‹æ¨è‡ªåŠ¨æœº)
éç¡®å®šæ€§ä¸‹æ¨è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªä¸ƒå…ƒç»„ $M = (Q, \Sigma, \Gamma, \delta, q_0, Z_0, F)$ï¼Œå…¶ä¸­ï¼š

1. $Q$ æ˜¯æœ‰é™çŠ¶æ€é›†
2. $\Sigma$ æ˜¯è¾“å…¥å­—æ¯è¡¨
3. $\Gamma$ æ˜¯æ ˆå­—æ¯è¡¨
4. $\delta: Q \times (\Sigma \cup \{\varepsilon\}) \times \Gamma \to 2^{Q \times \Gamma^*}$ æ˜¯è½¬ç§»å‡½æ•°
5. $q_0 \in Q$ æ˜¯åˆå§‹çŠ¶æ€
6. $Z_0 \in \Gamma$ æ˜¯åˆå§‹æ ˆç¬¦å·
7. $F \subseteq Q$ æ˜¯æ¥å—çŠ¶æ€é›†

**ç‰¹ç‚¹**ï¼š

- éç¡®å®šæ€§ï¼šä¸€ä¸ªé…ç½®å¯èƒ½æœ‰å¤šä¸ªåç»§é…ç½®
- æ ˆè®°å¿†ï¼šå¯ä»¥å­˜å‚¨æ— é™é•¿åº¦çš„ä¿¡æ¯
- è®¡ç®—èƒ½åŠ›ï¼šå¯ä»¥è¯†åˆ«æ‰€æœ‰ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€

### ç¡®å®šæ€§ä¸‹æ¨è‡ªåŠ¨æœº (DPDA)

**å®šä¹‰ 3.1.9** (ç¡®å®šæ€§ä¸‹æ¨è‡ªåŠ¨æœº)
ç¡®å®šæ€§ä¸‹æ¨è‡ªåŠ¨æœºæ˜¯ä¸€ä¸ªä¸ƒå…ƒç»„ $M = (Q, \Sigma, \Gamma, \delta, q_0, Z_0, F)$ï¼Œå…¶ä¸­ï¼š

1. $Q$ æ˜¯æœ‰é™çŠ¶æ€é›†
2. $\Sigma$ æ˜¯è¾“å…¥å­—æ¯è¡¨
3. $\Gamma$ æ˜¯æ ˆå­—æ¯è¡¨
4. $\delta: Q \times (\Sigma \cup \{\varepsilon\}) \times \Gamma \to Q \times \Gamma^*$ æ˜¯è½¬ç§»å‡½æ•°
5. $q_0 \in Q$ æ˜¯åˆå§‹çŠ¶æ€
6. $Z_0 \in \Gamma$ æ˜¯åˆå§‹æ ˆç¬¦å·
7. $F \subseteq Q$ æ˜¯æ¥å—çŠ¶æ€é›†

**çº¦æŸæ¡ä»¶**ï¼šå¯¹äºä»»æ„ $q \in Q$, $a \in \Sigma$, $Z \in \Gamma$ï¼Œå¦‚æœ $\delta(q, \varepsilon, Z)$ å·²å®šä¹‰ï¼Œåˆ™å¯¹æ‰€æœ‰ $b \in \Sigma$ï¼Œ$\delta(q, b, Z)$ æœªå®šä¹‰ã€‚

**ç‰¹ç‚¹**ï¼š

- ç¡®å®šæ€§ï¼šæ¯ä¸ªé…ç½®æœ€å¤šæœ‰ä¸€ä¸ªåç»§é…ç½®
- è®¡ç®—èƒ½åŠ›ï¼šè¯†åˆ«ç¡®å®šæ€§ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ï¼Œæ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€çš„çœŸå­é›†

## ğŸ”„ é…ç½®ä¸è®¡ç®—

### é…ç½®

**å®šä¹‰ 3.1.11** (é…ç½®)
ä¸‹æ¨è‡ªåŠ¨æœºçš„é…ç½®æ˜¯ä¸€ä¸ªä¸‰å…ƒç»„ $(q, w, \gamma)$ï¼Œå…¶ä¸­ï¼š

- $q \in Q$ æ˜¯å½“å‰çŠ¶æ€
- $w \in \Sigma^*$ æ˜¯å‰©ä½™è¾“å…¥ä¸²
- $\gamma \in \Gamma^*$ æ˜¯æ ˆå†…å®¹

### è½¬ç§»å…³ç³»

**å®šä¹‰ 3.1.12** (è½¬ç§»å…³ç³»)
é…ç½®è½¬ç§»å…³ç³» $\vdash$ å®šä¹‰ä¸ºï¼š
$(q, aw, Z\gamma) \vdash (p, w, \alpha\gamma)$ å½“ä¸”ä»…å½“ $(p, \alpha) \in \delta(q, a, Z)$

å…¶ä¸­ $a \in \Sigma \cup \{\varepsilon\}$ï¼Œ$Z$ æ˜¯æ ˆé¡¶ç¬¦å·ï¼Œ$\alpha$ æ˜¯æ›¿æ¢æ ˆé¡¶çš„ç¬¦å·ä¸²ã€‚

### æ¥å—æ–¹å¼

**å®šä¹‰ 3.1.13** (ç»ˆæ€æ¥å—)
ä¸‹æ¨è‡ªåŠ¨æœº $M$ ç»ˆæ€æ¥å—çš„è¯­è¨€å®šä¹‰ä¸ºï¼š
$$L(M) = \{w \in \Sigma^* \mid (q_0, w, Z_0) \vdash^* (q, \varepsilon, \gamma), q \in F\}$$

**å®šä¹‰ 3.1.14** (ç©ºæ ˆæ¥å—)
ä¸‹æ¨è‡ªåŠ¨æœº $M$ ç©ºæ ˆæ¥å—çš„è¯­è¨€å®šä¹‰ä¸ºï¼š
$$N(M) = \{w \in \Sigma^* \mid (q_0, w, Z_0) \vdash^* (q, \varepsilon, \varepsilon)\}$$

## ğŸ“Š ç†è®ºæ€§è´¨

### ä¸ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€çš„ç­‰ä»·æ€§

**å®šç† 3.1.5** (NPDAä¸ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€çš„ç­‰ä»·æ€§)
NPDAæ¥å—çš„è¯­è¨€ç±»æ°å¥½æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ç±»ã€‚

**è¯æ˜æ¦‚è¦**ï¼š

1. ä»ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•åˆ°NPDAï¼šå¯ä»¥æ„é€ ä¸€ä¸ªNPDAæ¥æ¨¡æ‹Ÿæ–‡æ³•çš„æ¨å¯¼è¿‡ç¨‹
2. ä»NPDAåˆ°ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼šå¯ä»¥æ„é€ ä¸€ä¸ªæ–‡æ³•æ¥æ¨¡æ‹ŸNPDAçš„è®¡ç®—è¿‡ç¨‹

### DPDAä¸NPDAçš„ä¸ç­‰ä»·æ€§

**å®šç† 3.1.6** (DPDAä¸NPDAçš„ä¸ç­‰ä»·æ€§)
å­˜åœ¨è¢«NPDAæ¥å—ä½†ä¸è¢«ä»»ä½•DPDAæ¥å—çš„è¯­è¨€ã€‚

**è¯æ˜**ï¼š
è€ƒè™‘è¯­è¨€ $L = \{ww^R \mid w \in \{a,b\}^*\}$ï¼Œå…¶ä¸­ $w^R$ æ˜¯ $w$ çš„åè½¬ã€‚å¯ä»¥æ„é€ NPDAæ¥å—Lï¼Œä½†å¯ä»¥è¯æ˜ä¸å­˜åœ¨DPDAæ¥å—Lã€‚

### ç»ˆæ€æ¥å—ä¸ç©ºæ ˆæ¥å—çš„ç­‰ä»·æ€§

**å®šç† 3.1.7** (æ¥å—æ–¹å¼çš„ç­‰ä»·æ€§)
å¯¹äºæ¯ä¸ªç»ˆæ€æ¥å—çš„NPDAï¼Œå­˜åœ¨ä¸€ä¸ªç©ºæ ˆæ¥å—çš„NPDAæ¥å—ç›¸åŒçš„è¯­è¨€ï¼Œåä¹‹äº¦ç„¶ã€‚

**è¯æ˜æ¦‚è¦**ï¼š

1. ä»ç»ˆæ€æ¥å—åˆ°ç©ºæ ˆæ¥å—ï¼šåœ¨æ¥å—çŠ¶æ€æ—¶æ¸…ç©ºæ ˆ
2. ä»ç©ºæ ˆæ¥å—åˆ°ç»ˆæ€æ¥å—ï¼šåœ¨æ ˆç©ºæ—¶è¿›å…¥æ¥å—çŠ¶æ€

## ğŸ› ï¸ åº”ç”¨

1. **è¯­æ³•åˆ†æ**ï¼šç¼–è¯‘å™¨ä¸­çš„è¯­æ³•åˆ†æå™¨
2. **æ‹¬å·åŒ¹é…**ï¼šæ£€æŸ¥æ‹¬å·æ˜¯å¦åŒ¹é…
3. **å›æ–‡è¯†åˆ«**ï¼šè¯†åˆ«å½¢å¦‚ $ww^R$ çš„å›æ–‡
4. **è¡¨è¾¾å¼æ±‚å€¼**ï¼šè®¡ç®—ç®—æœ¯è¡¨è¾¾å¼çš„å€¼

## ğŸ”— å®ç°ç¤ºä¾‹

```python
class PDA:
    def __init__(self, states, input_alphabet, stack_alphabet, 
                 transitions, start_state, start_stack_symbol, 
                 accept_states):
        self.states = states
        self.input_alphabet = input_alphabet
        self.stack_alphabet = stack_alphabet
        self.transitions = transitions
        self.start_state = start_state
        self.start_stack_symbol = start_stack_symbol
        self.accept_states = accept_states
    
    def accepts(self, input_string):
        # åˆå§‹é…ç½®
        configurations = [(self.start_state, input_string, [self.start_stack_symbol])]
        
        while configurations:
            state, remaining_input, stack = configurations.pop(0)
            
            # æ£€æŸ¥æ˜¯å¦æ¥å—
            if not remaining_input and state in self.accept_states:
                return True
            
            # è·å–å½“å‰æ ˆé¡¶
            stack_top = stack[-1] if stack else None
            
            # å°è¯•Îµè½¬ç§»
            if (state, '', stack_top) in self.transitions:
                for next_state, new_stack_top in self.transitions[(state, '', stack_top)]:
                    new_stack = stack[:-1] + list(new_stack_top)
                    configurations.append((next_state, remaining_input, new_stack))
            
            # å°è¯•å¸¸è§„è½¬ç§»
            if remaining_input and (state, remaining_input[0], stack_top) in self.transitions:
                for next_state, new_stack_top in self.transitions[(state, remaining_input[0], stack_top)]:
                    new_stack = stack[:-1] + list(new_stack_top)
                    configurations.append((next_state, remaining_input[1:], new_stack))
        
        return False
```

## ğŸ”— ç›¸å…³å†…å®¹

- [03.1.1 æœ‰é™è‡ªåŠ¨æœº](./03.1.1_Finite_Automata.md) - æ¯”ä¸‹æ¨è‡ªåŠ¨æœºæ›´ç®€å•çš„è®¡ç®—æ¨¡å‹
- [03.1.3 çº¿æ€§æœ‰ç•Œè‡ªåŠ¨æœº](./03.1.3_Linear_Bounded_Automata.md) - æ¯”ä¸‹æ¨è‡ªåŠ¨æœºæ›´å¼ºå¤§çš„è®¡ç®—æ¨¡å‹
- [03.2.2 ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•](../03.2_Formal_Grammars/03.2.2_Context_Free_Grammar.md) - ä¸ä¸‹æ¨è‡ªåŠ¨æœºç­‰ä»·çš„æ–‡æ³•
- [03.4 è§£æç†è®º](../03.4_Parsing_Theory.md) - åŸºäºä¸‹æ¨è‡ªåŠ¨æœºçš„è¯­æ³•åˆ†ææ–¹æ³•

---

**æ›´æ–°æ—¶é—´**: 2024-12-25  
**ç‰ˆæœ¬**: 2.0  
**çŠ¶æ€**: å·²å®Œæˆ
