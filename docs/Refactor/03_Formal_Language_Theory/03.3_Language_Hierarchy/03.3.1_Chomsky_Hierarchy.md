# 03.3.1 ä¹”å§†æ–¯åŸºè°±ç³» (Chomsky Hierarchy)

## ğŸ“š æ¦‚è¿°

ä¹”å§†æ–¯åŸºè°±ç³»ï¼ˆChomsky Hierarchyï¼‰æ˜¯å½¢å¼è¯­è¨€ç†è®ºä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒå°†å½¢å¼è¯­è¨€æŒ‰ç…§ç”Ÿæˆå®ƒä»¬çš„æ–‡æ³•ç±»å‹åˆ†ä¸ºå››ä¸ªå±‚æ¬¡ã€‚è¿™ä¸ªè°±ç³»ä¸ä»…æ­ç¤ºäº†ä¸åŒè¯­è¨€ç±»çš„è®¡ç®—èƒ½åŠ›ï¼Œä¹Ÿä¸ºè®¡ç®—æœºç§‘å­¦å’Œè¯­è¨€å­¦æä¾›äº†é‡è¦çš„ç†è®ºåŸºç¡€ã€‚

## ğŸ” å±‚æ¬¡ç»“æ„

ä¹”å§†æ–¯åŸºè°±ç³»å°†å½¢å¼è¯­è¨€åˆ†ä¸ºå››ä¸ªå±‚æ¬¡ï¼Œæ¯ä¸ªå±‚æ¬¡éƒ½æœ‰å¯¹åº”çš„æ–‡æ³•ç±»å‹ã€è‡ªåŠ¨æœºæ¨¡å‹å’Œè®¡ç®—èƒ½åŠ›ï¼š

### 3å‹è¯­è¨€ï¼ˆæ­£åˆ™è¯­è¨€ï¼‰

- **æ–‡æ³•ç±»å‹**ï¼šæ­£åˆ™æ–‡æ³•ï¼ˆ3å‹æ–‡æ³•ï¼‰
- **è‡ªåŠ¨æœºæ¨¡å‹**ï¼šæœ‰é™è‡ªåŠ¨æœºï¼ˆFSAï¼‰
- **è®¡ç®—èƒ½åŠ›**ï¼šè¯†åˆ«æ­£åˆ™è¯­è¨€
- **ç¤ºä¾‹è¯­è¨€**ï¼š$L = \{a^n \mid n \geq 0\}$ï¼Œ$L = \{(ab)^n \mid n \geq 0\}$
- **äº§ç”Ÿå¼å½¢å¼**ï¼š$A \to aB$ æˆ– $A \to a$ï¼ˆå³çº¿æ€§ï¼‰

### 2å‹è¯­è¨€ï¼ˆä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ï¼‰

- **æ–‡æ³•ç±»å‹**ï¼šä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ˆ2å‹æ–‡æ³•ï¼‰
- **è‡ªåŠ¨æœºæ¨¡å‹**ï¼šä¸‹æ¨è‡ªåŠ¨æœºï¼ˆPDAï¼‰
- **è®¡ç®—èƒ½åŠ›**ï¼šè¯†åˆ«ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€
- **ç¤ºä¾‹è¯­è¨€**ï¼š$L = \{a^n b^n \mid n \geq 0\}$ï¼Œ$L = \{w \mid w \text{ æ˜¯å›æ–‡}\}$
- **äº§ç”Ÿå¼å½¢å¼**ï¼š$A \to \alpha$ï¼Œå…¶ä¸­ $A$ æ˜¯éç»ˆç»“ç¬¦ï¼Œ$\alpha$ æ˜¯ç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦çš„ä¸²

### 1å‹è¯­è¨€ï¼ˆä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€ï¼‰

- **æ–‡æ³•ç±»å‹**ï¼šä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•ï¼ˆ1å‹æ–‡æ³•ï¼‰
- **è‡ªåŠ¨æœºæ¨¡å‹**ï¼šçº¿æ€§æœ‰ç•Œè‡ªåŠ¨æœºï¼ˆLBAï¼‰
- **è®¡ç®—èƒ½åŠ›**ï¼šè¯†åˆ«ä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€
- **ç¤ºä¾‹è¯­è¨€**ï¼š$L = \{a^n b^n c^n \mid n \geq 0\}$ï¼Œ$L = \{ww \mid w \in \{a,b\}^*\}$
- **äº§ç”Ÿå¼å½¢å¼**ï¼š$\alpha A \beta \to \alpha \gamma \beta$ï¼Œå…¶ä¸­ $A$ æ˜¯éç»ˆç»“ç¬¦ï¼Œ$\alpha, \beta, \gamma$ æ˜¯ç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦çš„ä¸²ï¼Œä¸” $\gamma \neq \varepsilon$

### 0å‹è¯­è¨€ï¼ˆé€’å½’å¯æšä¸¾è¯­è¨€ï¼‰

- **æ–‡æ³•ç±»å‹**ï¼šæ— é™åˆ¶æ–‡æ³•ï¼ˆ0å‹æ–‡æ³•ï¼‰
- **è‡ªåŠ¨æœºæ¨¡å‹**ï¼šå›¾çµæœºï¼ˆTMï¼‰
- **è®¡ç®—èƒ½åŠ›**ï¼šè¯†åˆ«é€’å½’å¯æšä¸¾è¯­è¨€
- **ç¤ºä¾‹è¯­è¨€**ï¼š$L = \{a^n b^n c^n d^n \mid n \geq 0\}$ï¼Œåœæœºé—®é¢˜å¯¹åº”çš„è¯­è¨€
- **äº§ç”Ÿå¼å½¢å¼**ï¼š$\alpha \to \beta$ï¼Œå…¶ä¸­ $\alpha, \beta$ æ˜¯ç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦çš„ä¸²ï¼Œä¸” $\alpha$ è‡³å°‘åŒ…å«ä¸€ä¸ªéç»ˆç»“ç¬¦

## ğŸ“Š åŒ…å«å…³ç³»

ä¹”å§†æ–¯åŸºè°±ç³»çš„å››ä¸ªå±‚æ¬¡å½¢æˆä¸¥æ ¼åŒ…å«å…³ç³»ï¼š

$$\mathcal{L}_3 \subset \mathcal{L}_2 \subset \mathcal{L}_1 \subset \mathcal{L}_0$$

å…¶ä¸­ï¼Œ$\mathcal{L}_i$ è¡¨ç¤º $i$ å‹è¯­è¨€çš„é›†åˆã€‚

**è¯æ˜è¦ç‚¹**ï¼š

1. $\mathcal{L}_3 \subset \mathcal{L}_2$ï¼š
   - æ¯ä¸ªæ­£åˆ™è¯­è¨€éƒ½æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€
   - è¯­è¨€ $L = \{a^n b^n \mid n \geq 1\}$ æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ä½†ä¸æ˜¯æ­£åˆ™è¯­è¨€ï¼ˆé€šè¿‡æ³µå¼•ç†è¯æ˜ï¼‰

2. $\mathcal{L}_2 \subset \mathcal{L}_1$ï¼š
   - æ¯ä¸ªä¸Šä¸‹æ–‡æ— å…³è¯­è¨€éƒ½æ˜¯ä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€
   - è¯­è¨€ $L = \{a^n b^n c^n \mid n \geq 1\}$ æ˜¯ä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€ä½†ä¸æ˜¯ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ï¼ˆé€šè¿‡æ³µå¼•ç†è¯æ˜ï¼‰

3. $\mathcal{L}_1 \subset \mathcal{L}_0$ï¼š
   - æ¯ä¸ªä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€éƒ½æ˜¯é€’å½’å¯æšä¸¾è¯­è¨€
   - å›¾çµæœºçš„åœæœºé—®é¢˜å¯¹åº”çš„è¯­è¨€æ˜¯é€’å½’å¯æšä¸¾è¯­è¨€ä½†ä¸æ˜¯ä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€

## ğŸ”„ è®¡ç®—èƒ½åŠ›ä¸åˆ¤å®šé—®é¢˜

ä¸åŒå±‚æ¬¡çš„è¯­è¨€å…·æœ‰ä¸åŒçš„è®¡ç®—èƒ½åŠ›å’Œåˆ¤å®šæ€§è´¨ï¼š

| è¯­è¨€ç±»å‹ | æˆå‘˜èµ„æ ¼é—®é¢˜ | ç©ºè¯­è¨€é—®é¢˜ | ç­‰ä»·æ€§é—®é¢˜ | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ |
|----------|--------------|------------|------------|------------|------------|
| æ­£åˆ™è¯­è¨€ | å¯åˆ¤å®š | å¯åˆ¤å®š | å¯åˆ¤å®š | O(n) | O(1) |
| ä¸Šä¸‹æ–‡æ— å…³è¯­è¨€ | å¯åˆ¤å®š | å¯åˆ¤å®š | ä¸å¯åˆ¤å®š | O(nÂ³) | O(n) |
| ä¸Šä¸‹æ–‡ç›¸å…³è¯­è¨€ | å¯åˆ¤å®š | ä¸å¯åˆ¤å®š | ä¸å¯åˆ¤å®š | PSPACE | O(n) |
| é€’å½’å¯æšä¸¾è¯­è¨€ | åŠå¯åˆ¤å®š | ä¸å¯åˆ¤å®š | ä¸å¯åˆ¤å®š | ä¸å¯é¢„æµ‹ | ä¸å¯é¢„æµ‹ |

## ğŸ› ï¸ å®ç°ç¤ºä¾‹

```python
class ChomskyCategorizer:
    def __init__(self):
        pass
        
    def categorize_grammar(self, grammar):
        """
        æ ¹æ®äº§ç”Ÿå¼å½¢å¼å¯¹æ–‡æ³•è¿›è¡Œåˆ†ç±»
        
        å‚æ•°:
            grammar: åŒ…å«äº§ç”Ÿå¼çš„åˆ—è¡¨ï¼Œæ¯ä¸ªäº§ç”Ÿå¼æ˜¯ä¸€ä¸ª(left, right)å…ƒç»„
            
        è¿”å›:
            grammar_type: 0, 1, 2, 3 è¡¨ç¤ºæ–‡æ³•ç±»å‹
        """
        # é»˜è®¤ä¸º0å‹æ–‡æ³•ï¼ˆæ— é™åˆ¶æ–‡æ³•ï¼‰
        grammar_type = 0
        
        # æ£€æŸ¥æ˜¯å¦ä¸º1å‹æ–‡æ³•ï¼ˆä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•ï¼‰
        is_context_sensitive = True
        for left, right in grammar:
            # æ£€æŸ¥éç¼©çŸ­æ€§
            if len(left) > len(right) and right != "":
                is_context_sensitive = False
                break
        
        if is_context_sensitive:
            grammar_type = 1
            
            # æ£€æŸ¥æ˜¯å¦ä¸º2å‹æ–‡æ³•ï¼ˆä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼‰
            is_context_free = True
            for left, right in grammar:
                # æ£€æŸ¥å·¦ä¾§æ˜¯å¦åªæœ‰ä¸€ä¸ªéç»ˆç»“ç¬¦
                if len(left) != 1 or not left.isupper():
                    is_context_free = False
                    break
            
            if is_context_free:
                grammar_type = 2
                
                # æ£€æŸ¥æ˜¯å¦ä¸º3å‹æ–‡æ³•ï¼ˆæ­£åˆ™æ–‡æ³•ï¼‰
                is_regular = True
                for left, right in grammar:
                    # æ£€æŸ¥å³ä¾§æ˜¯å¦ç¬¦åˆæ­£åˆ™æ–‡æ³•å½¢å¼
                    if not (len(right) <= 2 and 
                           (len(right) == 1 and right.islower()) or
                           (len(right) == 2 and right[0].islower() and right[1].isupper())):
                        is_regular = False
                        break
                
                if is_regular:
                    grammar_type = 3
        
        return grammar_type
```

## ğŸ”— ç›¸å…³å†…å®¹

- [03.2.1 æ­£åˆ™æ–‡æ³•](../03.2_Formal_Grammars/03.2.1_Regular_Grammar.md) - 3å‹æ–‡æ³•çš„è¯¦ç»†ä»‹ç»
- [03.2.2 ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•](../03.2_Formal_Grammars/03.2.2_Context_Free_Grammar.md) - 2å‹æ–‡æ³•çš„è¯¦ç»†ä»‹ç»
- [03.2.3 ä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•](../03.2_Formal_Grammars/03.2.3_Context_Sensitive_Grammar.md) - 1å‹æ–‡æ³•çš„è¯¦ç»†ä»‹ç»
- [03.2.4 æ— é™åˆ¶æ–‡æ³•](../03.2_Formal_Grammars/03.2.4_Unrestricted_Grammar.md) - 0å‹æ–‡æ³•çš„è¯¦ç»†ä»‹ç»
- [03.3.2 è¯­è¨€åˆ†ç±»](./03.3.2_Language_Classification.md) - å½¢å¼è¯­è¨€çš„åˆ†ç±»æ–¹æ³•

---

**æ›´æ–°æ—¶é—´**: 2024-12-26  
**ç‰ˆæœ¬**: 1.0  
**çŠ¶æ€**: å·²å®Œæˆ
