# 03.3.1 乔姆斯基谱系 (Chomsky Hierarchy)

## 📚 概述

乔姆斯基谱系（Chomsky Hierarchy）是形式语言理论中的核心概念，它将形式语言按照生成它们的文法类型分为四个层次。这个谱系不仅揭示了不同语言类的计算能力，也为计算机科学和语言学提供了重要的理论基础。

## 🔍 层次结构

乔姆斯基谱系将形式语言分为四个层次，每个层次都有对应的文法类型、自动机模型和计算能力：

### 3型语言（正则语言）

- **文法类型**：正则文法（3型文法）
- **自动机模型**：有限自动机（FSA）
- **计算能力**：识别正则语言
- **示例语言**：$L = \{a^n \mid n \geq 0\}$，$L = \{(ab)^n \mid n \geq 0\}$
- **产生式形式**：$A \to aB$ 或 $A \to a$（右线性）

### 2型语言（上下文无关语言）

- **文法类型**：上下文无关文法（2型文法）
- **自动机模型**：下推自动机（PDA）
- **计算能力**：识别上下文无关语言
- **示例语言**：$L = \{a^n b^n \mid n \geq 0\}$，$L = \{w \mid w \text{ 是回文}\}$
- **产生式形式**：$A \to \alpha$，其中 $A$ 是非终结符，$\alpha$ 是终结符和非终结符的串

### 1型语言（上下文相关语言）

- **文法类型**：上下文相关文法（1型文法）
- **自动机模型**：线性有界自动机（LBA）
- **计算能力**：识别上下文相关语言
- **示例语言**：$L = \{a^n b^n c^n \mid n \geq 0\}$，$L = \{ww \mid w \in \{a,b\}^*\}$
- **产生式形式**：$\alpha A \beta \to \alpha \gamma \beta$，其中 $A$ 是非终结符，$\alpha, \beta, \gamma$ 是终结符和非终结符的串，且 $\gamma \neq \varepsilon$

### 0型语言（递归可枚举语言）

- **文法类型**：无限制文法（0型文法）
- **自动机模型**：图灵机（TM）
- **计算能力**：识别递归可枚举语言
- **示例语言**：$L = \{a^n b^n c^n d^n \mid n \geq 0\}$，停机问题对应的语言
- **产生式形式**：$\alpha \to \beta$，其中 $\alpha, \beta$ 是终结符和非终结符的串，且 $\alpha$ 至少包含一个非终结符

## 📊 包含关系

乔姆斯基谱系的四个层次形成严格包含关系：

$$\mathcal{L}_3 \subset \mathcal{L}_2 \subset \mathcal{L}_1 \subset \mathcal{L}_0$$

其中，$\mathcal{L}_i$ 表示 $i$ 型语言的集合。

**证明要点**：

1. $\mathcal{L}_3 \subset \mathcal{L}_2$：
   - 每个正则语言都是上下文无关语言
   - 语言 $L = \{a^n b^n \mid n \geq 1\}$ 是上下文无关语言但不是正则语言（通过泵引理证明）

2. $\mathcal{L}_2 \subset \mathcal{L}_1$：
   - 每个上下文无关语言都是上下文相关语言
   - 语言 $L = \{a^n b^n c^n \mid n \geq 1\}$ 是上下文相关语言但不是上下文无关语言（通过泵引理证明）

3. $\mathcal{L}_1 \subset \mathcal{L}_0$：
   - 每个上下文相关语言都是递归可枚举语言
   - 图灵机的停机问题对应的语言是递归可枚举语言但不是上下文相关语言

## 🔄 计算能力与判定问题

不同层次的语言具有不同的计算能力和判定性质：

| 语言类型 | 成员资格问题 | 空语言问题 | 等价性问题 | 时间复杂度 | 空间复杂度 |
|----------|--------------|------------|------------|------------|------------|
| 正则语言 | 可判定 | 可判定 | 可判定 | O(n) | O(1) |
| 上下文无关语言 | 可判定 | 可判定 | 不可判定 | O(n³) | O(n) |
| 上下文相关语言 | 可判定 | 不可判定 | 不可判定 | PSPACE | O(n) |
| 递归可枚举语言 | 半可判定 | 不可判定 | 不可判定 | 不可预测 | 不可预测 |

## 🛠️ 实现示例

```python
class ChomskyCategorizer:
    def __init__(self):
        pass
        
    def categorize_grammar(self, grammar):
        """
        根据产生式形式对文法进行分类
        
        参数:
            grammar: 包含产生式的列表，每个产生式是一个(left, right)元组
            
        返回:
            grammar_type: 0, 1, 2, 3 表示文法类型
        """
        # 默认为0型文法（无限制文法）
        grammar_type = 0
        
        # 检查是否为1型文法（上下文相关文法）
        is_context_sensitive = True
        for left, right in grammar:
            # 检查非缩短性
            if len(left) > len(right) and right != "":
                is_context_sensitive = False
                break
        
        if is_context_sensitive:
            grammar_type = 1
            
            # 检查是否为2型文法（上下文无关文法）
            is_context_free = True
            for left, right in grammar:
                # 检查左侧是否只有一个非终结符
                if len(left) != 1 or not left.isupper():
                    is_context_free = False
                    break
            
            if is_context_free:
                grammar_type = 2
                
                # 检查是否为3型文法（正则文法）
                is_regular = True
                for left, right in grammar:
                    # 检查右侧是否符合正则文法形式
                    if not (len(right) <= 2 and 
                           (len(right) == 1 and right.islower()) or
                           (len(right) == 2 and right[0].islower() and right[1].isupper())):
                        is_regular = False
                        break
                
                if is_regular:
                    grammar_type = 3
        
        return grammar_type
```

## 🔗 相关内容

- [03.2.1 正则文法](../03.2_Formal_Grammars/03.2.1_Regular_Grammar.md) - 3型文法的详细介绍
- [03.2.2 上下文无关文法](../03.2_Formal_Grammars/03.2.2_Context_Free_Grammar.md) - 2型文法的详细介绍
- [03.2.3 上下文相关文法](../03.2_Formal_Grammars/03.2.3_Context_Sensitive_Grammar.md) - 1型文法的详细介绍
- [03.2.4 无限制文法](../03.2_Formal_Grammars/03.2.4_Unrestricted_Grammar.md) - 0型文法的详细介绍
- [03.3.2 语言分类](./03.3.2_Language_Classification.md) - 形式语言的分类方法

---

**更新时间**: 2024-12-26  
**版本**: 1.0  
**状态**: 已完成
