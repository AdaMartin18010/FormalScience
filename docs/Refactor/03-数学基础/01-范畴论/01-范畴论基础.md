# 范畴论基础：从集合论到抽象数学的统一框架

## 目录

1. [引言](#1-引言)
2. [基本概念](#2-基本概念)
3. [范畴的定义](#3-范畴的定义)
4. [函子与自然变换](#4-函子与自然变换)
5. [极限与余极限](#5-极限与余极限)
6. [伴随函子](#6-伴随函子)
7. [幺半范畴](#7-幺半范畴)
8. [应用与实例](#8-应用与实例)
9. [结论](#9-结论)

## 1. 引言

### 1.1 背景

范畴论是现代数学的统一语言，由Samuel Eilenberg和Saunders Mac Lane在1945年引入。它提供了一个抽象框架来研究数学对象之间的关系，超越了传统的集合论方法。

### 1.2 目标

本文旨在：

- 建立范畴论的严格数学基础
- 发展函子和自然变换的理论
- 研究极限和余极限的构造
- 探讨伴随函子的性质
- 展示范畴论在数学各领域的应用

## 2. 基本概念

### 2.1 数学预备知识

**定义 2.1.1** (集合) 集合是满足外延公理的对象集合：
$$A = B \iff \forall x(x \in A \leftrightarrow x \in B)$$

**定义 2.1.2** (函数) 从集合 $A$ 到集合 $B$ 的函数是一个关系 $f \subseteq A \times B$，满足：

1. 全域性：$\forall a \in A, \exists b \in B: (a,b) \in f$
2. 单值性：$\forall a \in A, \forall b_1, b_2 \in B: (a,b_1) \in f \land (a,b_2) \in f \Rightarrow b_1 = b_2$

**定义 2.1.3** (关系) 集合 $A$ 上的关系是 $A \times A$ 的子集。

### 2.2 图论基础

**定义 2.2.1** (有向图) 有向图是一个有序对 $G = (V, E)$，其中：

- $V$ 是顶点集
- $E \subseteq V \times V$ 是边集

**定义 2.2.2** (路径) 在有向图 $G$ 中，从 $a$ 到 $b$ 的路径是顶点序列 $a = v_0, v_1, \ldots, v_n = b$，使得 $(v_i, v_{i+1}) \in E$ 对所有 $i < n$。

## 3. 范畴的定义

### 3.1 范畴的基本结构

**定义 3.1.1** (范畴) 范畴 $\mathcal{C}$ 由以下数据组成：

1. 对象类 $Ob(\mathcal{C})$
2. 对每对对象 $A, B \in Ob(\mathcal{C})$，态射集 $Hom_{\mathcal{C}}(A, B)$
3. 对每个对象 $A$，恒等态射 $1_A \in Hom_{\mathcal{C}}(A, A)$
4. 复合运算 $\circ: Hom_{\mathcal{C}}(B, C) \times Hom_{\mathcal{C}}(A, B) \to Hom_{\mathcal{C}}(A, C)$

满足以下公理：

- **结合律**：$(h \circ g) \circ f = h \circ (g \circ f)$
- **单位律**：$1_B \circ f = f = f \circ 1_A$

**定义 3.1.2** (小范畴) 如果 $Ob(\mathcal{C})$ 和所有 $Hom_{\mathcal{C}}(A, B)$ 都是集合，则称 $\mathcal{C}$ 为小范畴。

**定义 3.1.3** (局部小范畴) 如果所有 $Hom_{\mathcal{C}}(A, B)$ 都是集合，则称 $\mathcal{C}$ 为局部小范畴。

### 3.2 范畴的例子

**例 3.2.1** (集合范畴 $\mathbf{Set}$)

- 对象：所有集合
- 态射：集合间的函数
- 恒等态射：恒等函数
- 复合：函数复合

**例 3.2.2** (群范畴 $\mathbf{Grp}$)

- 对象：所有群
- 态射：群同态
- 恒等态射：恒等同态
- 复合：同态复合

**例 3.2.3** (拓扑空间范畴 $\mathbf{Top}$)

- 对象：所有拓扑空间
- 态射：连续函数
- 恒等态射：恒等连续函数
- 复合：连续函数复合

### 3.3 范畴的基本性质

**定理 3.3.1** (恒等态射的唯一性) 在范畴 $\mathcal{C}$ 中，每个对象的恒等态射是唯一的。

**证明** 设 $1_A$ 和 $1_A'$ 都是对象 $A$ 的恒等态射，则：
$$1_A = 1_A \circ 1_A' = 1_A'$$

**定理 3.3.2** (态射的可逆性) 态射 $f: A \to B$ 是同构当且仅当存在态射 $g: B \to A$ 使得：
$$g \circ f = 1_A \text{ 且 } f \circ g = 1_B$$

**证明** 直接验证定义。

## 4. 函子与自然变换

### 4.1 函子的定义

**定义 4.1.1** (协变函子) 从范畴 $\mathcal{C}$ 到范畴 $\mathcal{D}$ 的协变函子 $F: \mathcal{C} \to \mathcal{D}$ 由以下数据组成：

1. 对象映射：$F: Ob(\mathcal{C}) \to Ob(\mathcal{D})$
2. 态射映射：对每对对象 $A, B \in Ob(\mathcal{C})$，函数 $F: Hom_{\mathcal{C}}(A, B) \to Hom_{\mathcal{D}}(F(A), F(B))$

满足：

- **恒等保持**：$F(1_A) = 1_{F(A)}$
- **复合保持**：$F(g \circ f) = F(g) \circ F(f)$

**定义 4.1.2** (反变函子) 反变函子 $F: \mathcal{C}^{op} \to \mathcal{D}$ 满足：

- **恒等保持**：$F(1_A) = 1_{F(A)}$
- **复合保持**：$F(g \circ f) = F(f) \circ F(g)$

### 4.2 函子的例子

**例 4.2.1** (遗忘函子) $U: \mathbf{Grp} \to \mathbf{Set}$ 将群映射到其底层集合，群同态映射到函数。

**例 4.2.2** (自由函子) $F: \mathbf{Set} \to \mathbf{Grp}$ 将集合映射到其生成的自由群。

**例 4.2.3** (幂集函子) $P: \mathbf{Set} \to \mathbf{Set}$ 将集合 $A$ 映射到其幂集 $P(A)$。

### 4.3 自然变换

**定义 4.3.1** (自然变换) 设 $F, G: \mathcal{C} \to \mathcal{D}$ 是函子，从 $F$ 到 $G$ 的自然变换 $\alpha: F \Rightarrow G$ 是态射族 $\{\alpha_A: F(A) \to G(A)\}_{A \in Ob(\mathcal{C})}$，使得对任意态射 $f: A \to B$，下图交换：

```mermaid
graph LR
    A[F(A)] --> B[G(A)]
    C[F(B)] --> D[G(B)]
    A --> C
    B --> D
```

即：$\alpha_B \circ F(f) = G(f) \circ \alpha_A$

**定义 4.3.2** (自然同构) 如果自然变换 $\alpha$ 的每个分量 $\alpha_A$ 都是同构，则称 $\alpha$ 为自然同构。

**定理 4.3.1** (自然变换的复合) 如果 $\alpha: F \Rightarrow G$ 和 $\beta: G \Rightarrow H$ 是自然变换，则 $\beta \circ \alpha: F \Rightarrow H$ 也是自然变换。

**证明** 通过交换图的复合。

## 5. 极限与余极限

### 5.1 锥与余锥

**定义 5.1.1** (锥) 设 $F: \mathcal{J} \to \mathcal{C}$ 是函子，$F$ 的锥是对象 $C \in Ob(\mathcal{C})$ 和态射族 $\{\pi_j: C \to F(j)\}_{j \in Ob(\mathcal{J})}$，使得对任意态射 $f: i \to j$ 在 $\mathcal{J}$ 中，下图交换：

```mermaid
graph LR
    A[C] --> B[F(i)]
    A --> C[F(j)]
    B --> C
```

即：$F(f) \circ \pi_i = \pi_j$

**定义 5.1.2** (余锥) $F$ 的余锥是对象 $C \in Ob(\mathcal{C})$ 和态射族 $\{\iota_j: F(j) \to C\}_{j \in Ob(\mathcal{J})}$，使得对任意态射 $f: i \to j$，$F(f) \circ \iota_i = \iota_j$。

### 5.2 极限的定义

**定义 5.2.1** (极限) 函子 $F: \mathcal{J} \to \mathcal{C}$ 的极限是 $F$ 的锥 $(L, \{\pi_j\})$，使得对任意其他锥 $(C, \{\pi_j'\})$，存在唯一的态射 $u: C \to L$ 使得 $\pi_j \circ u = \pi_j'$ 对所有 $j$。

**定义 5.2.2** (余极限) 函子 $F: \mathcal{J} \to \mathcal{C}$ 的余极限是 $F$ 的余锥 $(L, \{\iota_j\})$，使得对任意其他余锥 $(C, \{\iota_j'\})$，存在唯一的态射 $u: L \to C$ 使得 $u \circ \iota_j = \iota_j'$ 对所有 $j$。

### 5.3 特殊极限

**定义 5.3.1** (积) 设 $\mathcal{J}$ 是离散范畴，$F: \mathcal{J} \to \mathcal{C}$ 的极限称为积，记作 $\prod_{j \in J} F(j)$。

**定义 5.3.2** (余积) $F$ 的余极限称为余积，记作 $\coprod_{j \in J} F(j)$。

**定义 5.3.3** (等化子) 设 $f, g: A \to B$ 是平行态射，等化子是态射 $e: E \to A$ 使得 $f \circ e = g \circ e$，且对任意 $h: C \to A$ 满足 $f \circ h = g \circ h$，存在唯一的 $u: C \to E$ 使得 $e \circ u = h$。

**定义 5.3.4** (余等化子) 余等化子是等化子的对偶概念。

**定理 5.3.1** (极限的存在性) 如果范畴 $\mathcal{C}$ 有积和等化子，则 $\mathcal{C}$ 有所有小极限。

**证明** 通过构造积和等化子的组合。

## 6. 伴随函子

### 6.1 伴随的定义

**定义 6.1.1** (伴随函子) 函子 $F: \mathcal{C} \to \mathcal{D}$ 和 $G: \mathcal{D} \to \mathcal{C}$ 构成伴随对 $(F \dashv G)$，如果存在自然同构：
$$\phi: Hom_{\mathcal{D}}(F(-), -) \cong Hom_{\mathcal{C}}(-, G(-))$$

**定义 6.1.2** (单位与余单位) 伴随 $(F \dashv G)$ 的单位 $\eta: 1_{\mathcal{C}} \Rightarrow GF$ 和余单位 $\epsilon: FG \Rightarrow 1_{\mathcal{D}}$ 定义为：
$$\eta_A = \phi(1_{F(A)}): A \to GF(A)$$
$$\epsilon_B = \phi^{-1}(1_{G(B)}): FG(B) \to B$$

**定理 6.1.1** (三角恒等式) 伴随的单位和余单位满足：
$$(\epsilon F) \circ (F \eta) = 1_F$$
$$(G \epsilon) \circ (\eta G) = 1_G$$

**证明** 通过自然变换的定义和伴随的性质。

### 6.2 伴随的性质

**定理 6.2.1** (伴随的保持性) 左伴随保持余极限，右伴随保持极限。

**证明** 通过伴随的定义和极限的泛性质。

**定理 6.2.2** (伴随的唯一性) 如果 $F \dashv G$ 和 $F \dashv G'$，则 $G \cong G'$。

**证明** 通过伴随的泛性质。

## 7. 幺半范畴

### 7.1 幺半范畴的定义

**定义 7.1.1** (幺半范畴) 幺半范畴是范畴 $\mathcal{C}$ 配备：

1. 双函子 $\otimes: \mathcal{C} \times \mathcal{C} \to \mathcal{C}$
2. 单位对象 $I \in Ob(\mathcal{C})$
3. 结合同构 $\alpha: (A \otimes B) \otimes C \cong A \otimes (B \otimes C)$
4. 左单位同构 $\lambda: I \otimes A \cong A$
5. 右单位同构 $\rho: A \otimes I \cong A$

满足五边形恒等式和三角形恒等式。

**定义 7.1.2** (对称幺半范畴) 如果还有自然同构 $\sigma: A \otimes B \cong B \otimes A$ 满足适当的公理，则称 $\mathcal{C}$ 为对称幺半范畴。

### 7.2 幺半函子

**定义 7.2.1** (强幺半函子) 幺半函子 $F: \mathcal{C} \to \mathcal{D}$ 配备自然同构：
$$\mu: F(A) \otimes F(B) \cong F(A \otimes B)$$
$$\eta: I_{\mathcal{D}} \cong F(I_{\mathcal{C}})$$

满足适当的相容性条件。

## 8. 应用与实例

### 8.1 代数拓扑

**例 8.1.1** (同伦范畴) 拓扑空间范畴的同伦范畴 $\mathbf{hTop}$ 的对象是拓扑空间，态射是同伦类。

**例 8.1.2** (上同调函子) $H^n: \mathbf{hTop}^{op} \to \mathbf{Ab}$ 是反变函子。

### 8.2 代数几何

**例 8.2.1** (概形范畴) 概形范畴 $\mathbf{Sch}$ 的对象是概形，态射是概形态射。

**例 8.2.2** (层理论) 预层范畴 $[\mathcal{C}^{op}, \mathbf{Set}]$ 是函子范畴。

### 8.3 计算机科学

**例 8.3.1** (类型理论) 简单类型λ演算可以看作范畴，其中对象是类型，态射是项。

**例 8.3.2** (程序语义) 程序可以看作范畴中的态射，程序复合是态射复合。

## 9. 结论

### 9.1 主要贡献

1. **统一框架**：范畴论为数学提供了统一的语言
2. **抽象方法**：通过抽象化处理具体的数学结构
3. **对偶性**：自然地对偶化数学概念
4. **泛性质**：通过泛性质定义数学对象

### 9.2 理论意义

1. **数学基础**：为现代数学提供基础框架
2. **跨学科应用**：在多个学科中有重要应用
3. **计算理论**：为类型理论和程序语义提供基础
4. **物理应用**：在量子场论和弦论中有应用

### 9.3 未来发展方向

1. **高阶范畴论**：n-范畴和∞-范畴理论
2. **同伦类型论**：类型论与同伦论的结合
3. **量子范畴论**：量子计算中的范畴论应用
4. **机器学习**：范畴论在AI中的应用

## 参考文献

1. Mac Lane, S. (1971). *Categories for the Working Mathematician*. Springer-Verlag.
2. Awodey, S. (2010). *Category Theory*. Oxford University Press.
3. Leinster, T. (2014). *Basic Category Theory*. Cambridge University Press.
4. Riehl, E. (2017). *Category Theory in Context*. Dover Publications.

## 附录

### A. 符号表

| 符号 | 含义 | 定义位置 |
|------|------|----------|
| $\mathcal{C}$ | 范畴 | 定义3.1.1 |
| $Hom_{\mathcal{C}}(A, B)$ | 态射集 | 定义3.1.1 |
| $F: \mathcal{C} \to \mathcal{D}$ | 函子 | 定义4.1.1 |
| $\alpha: F \Rightarrow G$ | 自然变换 | 定义4.3.1 |
| $F \dashv G$ | 伴随函子 | 定义6.1.1 |
| $\otimes$ | 张量积 | 定义7.1.1 |

### B. 重要定理总结

1. **恒等态射唯一性**：每个对象的恒等态射唯一
2. **自然变换复合**：自然变换可以复合
3. **极限存在性**：有积和等化子则有所有小极限
4. **伴随保持性**：左伴随保持余极限，右伴随保持极限
5. **三角恒等式**：伴随的单位和余单位满足三角恒等式

### C. 范畴论公理

#### 基本公理

- 结合律：$(h \circ g) \circ f = h \circ (g \circ f)$
- 单位律：$1_B \circ f = f = f \circ 1_A$

#### 幺半范畴公理

- 五边形恒等式
- 三角形恒等式
- 对称性（如果适用）
