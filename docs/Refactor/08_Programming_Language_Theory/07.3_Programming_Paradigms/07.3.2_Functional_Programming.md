# 08.3.2 函数式编程 (Functional Programming, FP)

## 目录

- [08.3.2 函数式编程 (Functional Programming, FP)](#0832-函数式编程-functional-programming-fp)
  - [目录](#目录)
  - [1. 定义与背景](#1-定义与背景)
  - [2. 批判性分析](#2-批判性分析)
  - [3. 核心概念](#3-核心概念)
  - [4. 形式化表达](#4-形式化表达)
  - [5. 交叉引用](#5-交叉引用)
  - [6. 参考文献](#6-参考文献)
  - [批判性分析](#批判性分析)

---

## 1. 定义与背景

函数式编程是一种将计算视为**数学函数求值**的编程范式。它避免使用可变状态和共享数据，强调使用**纯函数 (Pure Functions)**。程序的构造过程就是将一系列函数组合起来。其理论基础是λ演算。

---

## 2. 批判性分析

- **优点**:
  - **易于推理**: 由于没有副作用，函数的行为只取决于其输入，极大地简化了程序的理解和测试。
  - **并发友好**: 不可变性（Immutability）从根本上避免了数据竞争（Data Race），使得并发和并行编程变得更简单、更安全。
- **缺点**:
  - **I/O处理**: 处理有状态的操作（如I/O、随机数）相对不直观，需要引入Monad等抽象概念。
  - **性能**: 过度使用不可变数据结构可能导致性能开销和垃圾回收压力。
  - **学习曲线**: 对于习惯了命令式编程的开发者来说，思维方式需要一个转变。

---

## 3. 核心概念

- **纯函数 (Pure Functions)**:
  - **描述**: 满足两个条件的函数：1. 对于相同的输入，总是返回相同的输出（引用透明性）。2. 没有可观察到的副作用（如修改全局变量、打印到控制台）。
- **不可变性 (Immutability)**:
  - **描述**: 数据一旦创建，就不能被修改。任何修改操作都会返回一个新的数据结构。
- **一等公民函数 (First-Class Functions)**:
  - **描述**: 函数可以像任何其他值一样被对待：可以作为参数传递给其他函数，可以作为返回值，也可以存储在变量中。
- **高阶函数 (Higher-Order Functions)**:
  - **描述**: 接受一个或多个函数作为输入，或返回一个函数的函数。`map`, `filter`, `reduce`是典型的高阶函数。
- **柯里化 (Currying)**:
  - **描述**: 将一个接受多个参数的函数，转换成一系列只接受单个参数的函数的过程。

---

## 4. 形式化表达

**`map` 和 `filter` 的函数签名 (Haskell风格)**:

- `map :: (a -> b) -> [a] -> [b]`
  - **解读**: `map` 接受一个从 `a` 类型到 `b` 类型的函数和一个 `a` 类型的列表，返回一个 `b` 类型的列表。
- `filter :: (a -> Bool) -> [a] -> [a]`
  - **解读**: `filter` 接受一个返回布尔值的函数（谓词）和一个 `a` 类型的列表，返回一个同样是 `a` 类型的列表。

```rust
// Rust 中 map 和 filter 的示例
let numbers = vec![1, 2, 3, 4, 5];
let doubled_evens: Vec<i32> = numbers.into_iter()
                                    .filter(|&x| x % 2 == 0) // 高阶函数
                                    .map(|x| x * 2)         // 高阶函数
                                    .collect();
// doubled_evens is [4, 8]
```

---

## 5. 交叉引用

- [编程范式总览](README.md)
- [命令式与面向对象编程](08.3.1_Imperative_and_Object_Oriented.md)
- [λ演算](../../03_Formal_Language_Theory/03.6_Computation_Theory/03.6.5_Lambda_Calculus.md)

---

## 6. 参考文献

1. Church, Alonzo. "The Calculi of Lambda-Conversion." 1941.
2. Hughes, John. "Why Functional Programming Matters." 1989.

## 批判性分析

- 本节内容待补充：请从多元理论视角、局限性、争议点、应用前景等方面进行批判性分析。
