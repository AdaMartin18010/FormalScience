# 仿射类型理论基础（Affine Type Theory）

**创建时间**: 2025-01-17  
**最后更新**: 2025-01-17  
**文档状态**: 活跃  
**关联模块**: `04_Type_Theory/04.3_Linear_Type_Theory`

## 概述

仿射类型理论放宽线性约束：允许“资源不使用”（弱化），但禁止“复制”（收缩）。它在“安全释放/不重用”与“可丢弃”之间取得实际工程的中庸方案。

## 关键规则（示意）

- 允许：`Γ, x:A ⊢ t : B  ⇒  Γ ⊢ t : B`（弱化）
- 禁止：`Γ, x:A, x:A ⊢ t : B  ⇒  Γ, x:A ⊢ t : B`（收缩）
- 函数/张量/加法连结词与线性系统类似，`!` 管控复制边界

## 语义与实现

- 语义：偏向可丢弃资源模型；SMCC 的仿射变体
- 实践：Rust 的 `Drop` 语义与“至少一次/至多一次”使用模式；OCaml 资源模块化提案

## 应用

- 文件句柄/网络套接字/锁/事务等一次性或至多一次使用的资源
- 错误恢复路径中安全丢弃资源

## 批判性与哲学反思

- 规范与自由：放宽约束提升可用性，但引入“不作为”的语义成本
- 伦理与安全：丢弃是否等于“忽略义务”？在安全关键领域需更明晰的约束

## 参见

- `04.3_Linear_Type_Theory/05.3.2_Affine_Type_Theory.md`
- `04.3_Linear_Type_Theory/05.3.6_Affine_Type_Basics.md`

## 参考文献（精选）

1. Rustonomicon / Rust RFCs on Ownership & Borrowing.  
2. Tov and Pucella. Practical Affine Types.  
