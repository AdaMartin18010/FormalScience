# 04.5 Curry–Howard 对应（Curry–Howard Correspondence）

**创建时间**: 2025-01-17  
**最后更新**: 2025-01-17  
**文档状态**: 活跃  
**关联模块**: `04_Type_Theory`

## 📝 概述

Curry–Howard 对应（又称"命题‑即‑类型，证明‑即‑程序"）刻画了逻辑与计算之间的结构性同构：

- 逻辑命题 ↔ 类型
- 证明 ↔ 程序/项
- 证明的规范化 ↔ 程序求值/归约

该对应为类型驱动开发、交互式定理证明与可验证编程提供了统一的理论框架。

## 📜 历史与发展

- Curry 与 Feys、Howard 等人的工作揭示直觉主义逻辑与λ演算的深度联系
- Gentzen 削切消除与归约对应，连接证明论与计算
- 现代扩展包括依赖、线性、同伦等多种"类型‑逻辑"同构

## 🔣 基本映射（示意）

- 合取 `A ∧ B` ↔ 积类型 `A × B`
- 析取 `A ∨ B` ↔ 和类型 `A + B`
- 蕴含 `A → B` ↔ 函数类型 `A → B`
- 真 `⊤` ↔ 单元类型 `Unit`
- 假 `⊥` ↔ 空类型 `Void`
- 全称 `∀x:A. P(x)` ↔ 依赖函数 `Πx:A. P(x)`
- 存在 `∃x:A. P(x)` ↔ 依赖对 `Σx:A. P(x)`
- 等式 `a =_A b` ↔ 身份/路径类型 `Id_A(a,b)`

对应的"计算"侧与"证明变换"侧在 β/η 归约与削切消除下同构。

## 🧠 变体与扩展

- 依赖类型版 Curry–Howard：命题即依赖类型，证明即依赖项
- 线性/仿射版本：结构规则受限，对应资源敏感逻辑（LL）与类型（`⊗, ⊸, !`）
- 同伦版本：等价即相等（Univalence），证明即高维路径
- 经典逻辑扩展：经 CPS/双重否定翻译或控制算子（`call/cc`）获得

## 🧪 示例与实践

- 在 Coq/Agda/Lean 中，"定理"即带类型的常量，"证明"即其项；提取（Extraction）将证明‑程序导出为 Haskell/OCaml 等
- 编程即证明：类型规范即规格，类型检查即验证（受相等判定与内核可信基大小影响）

## 🧩 局限与批判

- 经典性：直觉主义基础限制若不采用翻译/控制算子，则与主流经典数学有缝隙
- 可判定性：强表达力（如高等同性、公理）可能削弱判定性与规范性
- 语义依赖：不同语义（集合、范畴、同伦）下"相等/等价"解释差异影响工程实践
- 社会技术：门槛与学习曲线带来知识不平等；可信内核治理与责任划分需明确

## 🔗 与模块内主题的关系

- `04.2 依赖类型论`：将 Curry–Howard 提升至依赖层级，`Π/Σ/Id` 对应 `∀/∃/=`
- `04.3 线性类型理论`：与资源逻辑对接，程序=证明具资源保真语义
- `04.4 同伦类型论`：证明即高维路径；一致性使逻辑等价上升为相等
- `04.1 简单类型理论`：最小核对应直觉命题逻辑的蕴含片段

## 🧭 Wiki 对齐的条目结构

- 概述｜历史｜映射｜扩展｜实践｜批判｜参见｜参考

## 📚 参见（See also）

- [04.1 简单类型理论](../04.1_Simple_Type_Theory/04.1_Simple_Type_Theory.md)
- [04.2 依赖类型理论](../04.2_Dependent_Type_Theory/04.2_Dependent_Type_Theory.md)
- [04.3 线性类型理论](../04.3_Linear_Type_Theory/05.3_Linear_Type_Theory.md)
- [04.4 同伦类型理论](../04.4_Homotopy_Type_Theory/05.4_Homotopy_Type_Theory.md)
- [统一术语表](../TERMINOLOGY_TABLE.md)

## 📖 参考文献（精选）

1. Howard, W. A. (1980). The formulae-as-types notion of construction. *To H. B. Curry: Essays on Combinatory Logic, Lambda Calculus and Formalism*, 479-490.
2. Barendregt, H. P. (1992). Lambda calculi with types. *Handbook of Logic in Computer Science*, 2, 117-309.
3. Harper, R. (2016). *Practical Foundations for Programming Languages*. Cambridge University Press.
4. Girard, J.-Y. (1987). Linear logic. *Theoretical Computer Science*, 50(1), 1-101.
5. The Univalent Foundations Program. (2013). *Homotopy Type Theory: Univalent Foundations of Mathematics*. Institute for Advanced Study.

## 🔧 Coq 最小证明片段

```coq
(* Curry-Howard 对应的经典示例 *)

(* 命题：A -> A (恒等函数) *)
Definition id_prop (A : Type) : A -> A := fun x => x.

(* 命题：A -> B -> A (K 组合子) *)
Definition k_prop (A B : Type) : A -> B -> A := fun x y => x.

(* 命题：(A -> B -> C) -> (A -> B) -> A -> C (S 组合子) *)
Definition s_prop (A B C : Type) : 
  (A -> B -> C) -> (A -> B) -> A -> C :=
  fun f g x => f x (g x).

(* 命题：A /\ B -> A (合取消除) *)
Definition and_elim_left (A B : Type) : A * B -> A :=
  fun p => fst p.

(* 命题：A -> A \/ B (析取引入) *)
Definition or_intro_left (A B : Type) : A -> A + B :=
  fun a => inl a.
```
