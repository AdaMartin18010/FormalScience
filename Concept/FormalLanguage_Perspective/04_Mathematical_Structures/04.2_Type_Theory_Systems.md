# 类型论系统：从简单类型到依赖类型

> **文档版本**: v1.0.0  
> **最后更新**: 2025-10-27  
> **文档规模**: 195行 | 类型论系统演进全景  
> **阅读建议**: 本文系统介绍从STLC到CoC的类型论发展，是现代编程语言理论基础

---

## 目录 | Table of Contents

- [1. 简单类型λ演算](#1-简单类型λ演算)
- [2. System F (多态λ演算)](#2-system-f-多态λ演算)
- [3. λ-Cube：类型系统的统一框架](#3-λ-cube类型系统的统一框架)
- [4. 依赖类型论](#4-依赖类型论)
- [5. 演算构造系统(CoC)](#5-演算构造系统coc)
- [6. 类型论的应用](#6-类型论的应用)
- [结论](#结论)
- [参考文献](#参考文献)

---

## 1. 简单类型λ演算

[简单类型λ演算](https://en.wikipedia.org/wiki/Simply_typed_lambda_calculus)（STLC）：

**类型语法**：
```
τ ::= α          （基本类型）
    | τ₁ → τ₂    （函数类型）
```

**类型规则**：
```
Γ, x : τ ⊢ x : τ                    (Var)

Γ, x : τ₁ ⊢ M : τ₂
──────────────────                  (Abs)
Γ ⊢ λx. M : τ₁ → τ₂

Γ ⊢ M : τ₁ → τ₂   Γ ⊢ N : τ₁
────────────────────────           (App)
      Γ ⊢ M N : τ₂
```

**性质**：
- 强规范化：所有类型良好的项都终止
- Church-Rosser性质
- 类型唯一性（主类型）

## 2. System F (多态λ演算)

[System F](https://en.wikipedia.org/wiki/System_F)（Girard-Reynolds）：

**类型语法**：
```
τ ::= α                （类型变量）
    | τ₁ → τ₂          （函数类型）
    | ∀α. τ            （全称类型）
```

**项语法**：
```
M ::= x | λx. M | M N
    | Λα. M            （类型抽象）
    | M [τ]            （类型应用）
```

**类型规则**：
```
Γ, α type ⊢ M : τ
─────────────────                  (TyAbs)
Γ ⊢ Λα. M : ∀α. τ

Γ ⊢ M : ∀α. τ
────────────────                   (TyApp)
Γ ⊢ M [τ'] : τ[α := τ']
```

**应用**：
- 多态数据结构
- 泛型编程
- 类型推断的理论基础

## 3. λ-Cube：类型系统的统一框架

[λ-Cube](https://en.wikipedia.org/wiki/Lambda_cube)（Barendregt）统一8个类型系统：

**三个维度**：
```
1. 项依赖于项：λ→（简单类型λ演算）
2. 项依赖于类型：λ2（System F）
3. 类型依赖于项：λP（依赖类型）
4. 类型依赖于类型：λω（类型算子）
```

**8个系统**：
```
λ→     简单类型λ演算
λ2     System F
λP     λP系统
λω     λω系统
λP2    λP2系统
λω→    λω→系统
λPω    λPω系统
λC     演算构造系统（CoC）
```

## 4. 依赖类型论

[依赖类型](https://en.wikipedia.org/wiki/Dependent_type)允许类型依赖于值：

**Π-类型**（依赖函数类型）：
```
Π(x : A). B(x)

例如：
Vec : ℕ → Type
Vec n = 长度为n的向量类型
```

**Σ-类型**（依赖对类型）：
```
Σ(x : A). B(x)

例如：
Σ(n : ℕ). Vec n
= 存在长度n的向量及其长度
```

**应用**：
- 证明辅助系统（Coq, Agda, Lean）
- 程序验证
- 形式化数学

## 5. 演算构造系统(CoC)

[CoC](https://en.wikipedia.org/wiki/Calculus_of_constructions)（Coquand-Huet）：

**统一特性**：
```
- 命题即类型
- 证明即程序
- 类型检查即证明检查
```

**Curry-Howard对应的完全实现**：
```
逻辑          类型论         编程
─────────────────────────────────
命题 A        类型 A         规约
证明 p        项 p          程序
A ∧ B        A × B         对类型
A ∨ B        A + B         和类型
A → B        A → B         函数类型
∀x. P(x)     Π(x:A). B(x)  依赖函数
∃x. P(x)     Σ(x:A). B(x)  依赖对
```

**应用**：Coq证明助手的理论基础

## 6. 类型论的应用

**程序验证**：
```
类型 = 规约
程序类型检查 = 验证满足规约
```

**形式化数学**：
```
定理 = 类型
证明 = 该类型的项
```

**依赖类型编程语言**：
- Agda
- Idris
- Lean

## 结论

类型论系统提供了：
1. 程序正确性的数学基础
2. 形式化数学的工具
3. 逻辑与计算的统一框架

从简单类型到依赖类型的演进，展示了类型系统表达能力的不断增强。

## 参考文献

1. [Church, A. (1940). "A Formulation of the Simple Theory of Types"](https://en.wikipedia.org/wiki/Simply_typed_lambda_calculus)
2. [Girard, J.-Y. (1972). "Interprétation fonctionnelle et élimination des coupures"](https://en.wikipedia.org/wiki/System_F)
3. [Martin-Löf, P. (1984). *Intuitionistic Type Theory*](https://en.wikipedia.org/wiki/Intuitionistic_type_theory)
4. [Barendregt, H. (1992). "Lambda Calculi with Types"](https://en.wikipedia.org/wiki/Lambda_cube)
5. [Coquand, T. & Huet, G. (1988). "The Calculus of Constructions"](https://en.wikipedia.org/wiki/Calculus_of_constructions)

---

*本文概述了类型论系统的发展，从简单类型λ演算到依赖类型论，展示了类型系统如何统一逻辑、计算和数学。*

