# 6.3 确定性认识论 (Determinism Epistemology)

## 📋 目录

- [6.3 确定性认识论 (Determinism Epistemology)](#63-确定性认识论-determinism-epistemology)
  - [📋 目录](#-目录)
  - [1 核心命题](#1-核心命题)
  - [2 确定性来源](#2-确定性来源)
    - [2.1 IEEE-754 严格性](#21-ieee-754-严格性)
    - [2.2 整数语义](#22-整数语义)
  - [3 不确定性来源](#3-不确定性来源)
    - [3.1 时钟与随机数](#31-时钟与随机数)
    - [3.2 并发内存模型](#32-并发内存模型)
  - [参考文献](#参考文献)

---

## 1 核心命题

**语义确定性**：
\[
\forall S, I : (S, I) \xrightarrow{_} V_1 \wedge (S, I) \xrightarrow{_} V_2 \implies V_1 = V_2
\]

**物理不确定性**：
\[
\text{Abstract-Determinism} \not\Rightarrow \text{Physical-Determinism}
\]

**知识论基础**：
\[
\text{可预测性} \implies \text{可推理性} \implies \text{可验证性}
\]

---

## 2 确定性来源

### 2.1 IEEE-754 严格性

**保证**：
\[
\texttt{f32.add}(x, y) = \text{IEEE-754}(x, y) \quad \forall x, y
\]

**舍入模式**：

- 固定为"最近偶数"
- 无快速数学（-ffast-math）

### 2.2 整数语义

**溢出行为**：
\[
\text{i32.add}(a, b) = (a + b) \bmod 2^{32}
\]

**除零**：
\[
\text{i32.div}(a, 0) = \text{trap}
\]

---

## 3 不确定性来源

### 3.1 时钟与随机数

**问题**：
\[
\text{clock\_time\_get}() \text{ 在不同节点返回不同值}
\]

**WASI 策略**：

- 提供接口，但警告非确定性
- 应用层处理一致性

### 3.2 并发内存模型

**数据竞争**：
\[
\text{Race}(op_1, op_2) \implies \text{Undefined-Order}
\]

**批判**：
> Wasm 保证"单线程确定性"，但并发场景退化为 C++11 内存模型。确定性是有条件的承诺，而非无条件的真理。

---

## 参考文献

1. **[Watt19]** Conrad Watt et al. "Weakening WebAssembly." OOPSLA, 2019.
