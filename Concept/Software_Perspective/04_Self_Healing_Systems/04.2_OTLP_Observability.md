# 4.2 OTLP ç»Ÿä¸€å¯è§‚æµ‹æ€§

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
> **æœ€åæ›´æ–°**: 2025-10-27  
> **æ–‡æ¡£è§„æ¨¡**: 812è¡Œ | OpenTelemetryåè®®è¯¦è§£  
> **é˜…è¯»å»ºè®®**: æœ¬æ–‡è¯¦è§£OTLPåè®®å’ŒOpenTelemetryï¼Œæ˜¯ç»Ÿä¸€å¯è§‚æµ‹æ€§çš„æ ‡å‡†æŒ‡å—

---

## ç›®å½• | Table of Contents

- [4.2 OTLP å¯è§‚æµ‹æ€§æ ‡å‡†](#42-otlp-å¯è§‚æµ‹æ€§æ ‡å‡†)
  - [ç›®å½• | Table of Contents](#ç›®å½•--table-of-contents)
  - [ğŸ“Š æ ¸å¿ƒæ¦‚å¿µæ·±åº¦åˆ†æ](#-æ ¸å¿ƒæ¦‚å¿µæ·±åº¦åˆ†æ)
  - [æ ¸å¿ƒå®šä¹‰](#æ ¸å¿ƒå®šä¹‰)
  - [ä¸ºä»€ä¹ˆéœ€è¦ OTLPï¼Ÿ](#ä¸ºä»€ä¹ˆéœ€è¦-otlp)
  - [OTLP æ¶æ„](#otlp-æ¶æ„)
    - [å®Œæ•´æ•°æ®æµ](#å®Œæ•´æ•°æ®æµ)
    - [ä¸‰å¤§ä¿¡å·ç±»å‹](#ä¸‰å¤§ä¿¡å·ç±»å‹)
  - [OTLP Collector æ·±åº¦è§£æ](#otlp-collector-æ·±åº¦è§£æ)
    - [ä¸‰å¤§ç»„ä»¶](#ä¸‰å¤§ç»„ä»¶)
    - [Pipeline é…ç½®](#pipeline-é…ç½®)
  - [è‡ªåŠ¨åŸ‹ç‚¹ vs æ‰‹åŠ¨åŸ‹ç‚¹](#è‡ªåŠ¨åŸ‹ç‚¹-vs-æ‰‹åŠ¨åŸ‹ç‚¹)
  - [å…³è”æŸ¥è¯¢ï¼šä» Metrics åˆ° Traces åˆ° Logs](#å…³è”æŸ¥è¯¢ä»-metrics-åˆ°-traces-åˆ°-logs)
  - [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
  - [æˆæœ¬åˆ†æ](#æˆæœ¬åˆ†æ)
  - [å…³é”®æ´å¯Ÿ](#å…³é”®æ´å¯Ÿ)
  - [ç›¸å…³ä¸»é¢˜](#ç›¸å…³ä¸»é¢˜)

---

## ğŸ“Š æ ¸å¿ƒæ¦‚å¿µæ·±åº¦åˆ†æ

<details>
<parameter name="summary"><b>ğŸ“¡ğŸ‘ï¸ ç‚¹å‡»å±•å¼€ï¼šOTLPç»Ÿä¸€å¯è§‚æµ‹æ€§æ ¸å¿ƒæ´å¯Ÿ</b></summary>

**ç»ˆææ´å¯Ÿ**: OTLPï¼ˆOpenTelemetry Protocolï¼‰ï¼šç»Ÿä¸€å¯è§‚æµ‹æ€§æ ‡å‡†ã€‚è§£å†³é—®é¢˜ï¼šâ‘ ä¾›åº”å•†é”å®šï¼ˆé‡å†™åŸ‹ç‚¹ä»£ç ï¼‰â‘¡æ•°æ®å­¤å²›ï¼ˆMetrics/Logs/Tracesåˆ†ç¦»ï¼‰â‘¢é«˜ç»´æŠ¤æˆæœ¬ï¼ˆå¤šSDK/å¤šé…ç½®ï¼‰ã€‚ä¸‰å¤§æ”¯æŸ±ï¼šâ‘ Metricsï¼ˆæŒ‡æ ‡ï¼‰ï¼šæ—¶åºæ•°æ®ï¼ŒPrometheusæ ¼å¼â‘¡Tracesï¼ˆè¿½è¸ªï¼‰ï¼šåˆ†å¸ƒå¼è°ƒç”¨é“¾ï¼ŒJaeger/Zipkinå…¼å®¹â‘¢Logsï¼ˆæ—¥å¿—ï¼‰ï¼šç»“æ„åŒ–æ—¥å¿—ï¼ŒECS/ELKã€‚æ ¸å¿ƒæ¶æ„ï¼šåº”ç”¨â†’OTLP SDKâ†’OTLP Collectorâ†’å¤šåç«¯ï¼ˆPrometheus/Jaeger/Elastic/Datadogï¼‰ã€‚å…³é”®ä¼˜åŠ¿ï¼šåŸ‹ç‚¹ä¸€æ¬¡å¯¼å‡ºå¤šå¤„ã€è‡ªåŠ¨å…³è”ï¼ˆTraceID/SpanIDï¼‰ã€åˆ‡æ¢ä¾›åº”å•†ä»…æ”¹é…ç½®ã€å¼€æºç”Ÿæ€ï¼ˆCNCFï¼‰ã€‚è¯­ä¹‰çº¦å®šï¼ˆSemantic Conventionsï¼‰ï¼šæ ‡å‡†åŒ–å±æ€§å‘½åï¼ˆservice.name/http.methodï¼‰ã€‚Collectorå¤„ç†ï¼šæ¥æ”¶â†’å¤„ç†ï¼ˆè¿‡æ»¤/é‡‡æ ·/æ‰¹å¤„ç†ï¼‰â†’å¯¼å‡ºã€‚å®è·µï¼šK8sè‡ªåŠ¨æ³¨å…¥ã€é›¶ä»£ç ä¾µå…¥ã€å¤šç§Ÿæˆ·éš”ç¦»ã€‚æœªæ¥ï¼šeBPFæ— ä¾µå…¥é‡‡é›†ã€AIå¼‚å¸¸æ£€æµ‹ã€‚å…³é”®ï¼šå¯è§‚æµ‹æ€§æ°‘ä¸»åŒ–ã€‚

</details>

---

## æ ¸å¿ƒå®šä¹‰

**OTLP**ï¼ˆOpenTelemetry Protocolï¼‰ï¼šç»Ÿä¸€çš„å¯è§‚æµ‹æ€§æ•°æ®é‡‡é›†ã€ä¼ è¾“ã€å¤„ç†åè®®ï¼Œæ•´åˆäº† Metricsã€Logsã€Traces ä¸‰å¤§æ”¯æŸ±ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦ OTLPï¼Ÿ

### ä¼ ç»Ÿå¯è§‚æµ‹æ€§çš„ç¢ç‰‡åŒ–

```
é—®é¢˜ 1ï¼šä¾›åº”å•†é”å®š
- Prometheus â†’ Prometheus æ ¼å¼
- Datadog â†’ Datadog Agent
- New Relic â†’ New Relic SDK

åˆ‡æ¢ä¾›åº”å•† = é‡å†™æ‰€æœ‰åŸ‹ç‚¹ä»£ç 

é—®é¢˜ 2ï¼šæ•°æ®å­¤å²›
- Metrics: Prometheus
- Logs: Elasticsearch
- Traces: Jaeger
ä¸‰è€…æ— æ³•å…³è”ï¼Œæ’æŸ¥é—®é¢˜å›°éš¾

é—®é¢˜ 3ï¼šé«˜ç»´æŠ¤æˆæœ¬
- æ¯ä¸ªæœåŠ¡éœ€è¦é›†æˆ 3+ å·¥å…·
- ä¸åŒè¯­è¨€ä¸åŒ SDK
- é…ç½®å¤æ‚ï¼Œå­¦ä¹ æˆæœ¬é«˜
```

### OTLP è§£å†³æ–¹æ¡ˆ

```
ç»Ÿä¸€æ ‡å‡†ï¼š
- ä¸€å¥— SDK
- ä¸€ä¸ª Protocol
- ä¸€ä¸ª Collector

ç»“æœï¼š
âœ… åŸ‹ç‚¹ä¸€æ¬¡ï¼Œå¯¼å‡ºå¤šç§åç«¯
âœ… Metrics/Logs/Traces è‡ªåŠ¨å…³è”
âœ… åˆ‡æ¢ä¾›åº”å•†åªéœ€æ”¹é…ç½®
```

---

## OTLP æ¶æ„

### å®Œæ•´æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Application (Instrumented)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  OpenTelemetry SDK                             â”‚ â”‚
â”‚  â”‚  - Auto-instrumentation (HTTP, DB, etc.)       â”‚ â”‚
â”‚  â”‚  - Manual spans (business logic)               â”‚ â”‚
â”‚  â”‚  - Context propagation (W3C TraceContext)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ OTLP (gRPC/HTTP)
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OTEL Collector (Agent Mode)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Receivers: OTLP, Prometheus, Jaeger           â”‚ â”‚
â”‚  â”‚  Processors: Batch, Filter, Transform          â”‚ â”‚
â”‚  â”‚  Exporters: Prometheus, Jaeger, Loki, ...      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚           â”‚
        â†“           â†“           â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Prometheusâ”‚Jaeger    â”‚Loki     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸‰å¤§ä¿¡å·ç±»å‹

#### 1. Metricsï¼ˆæŒ‡æ ‡ï¼‰

**å®šä¹‰**ï¼šèšåˆçš„æ•°å€¼å‹æ—¶é—´åºåˆ—æ•°æ®

**ç±»å‹**ï¼š
```
Counterï¼ˆè®¡æ•°å™¨ï¼‰ï¼š
- åªå¢ä¸å‡
- ä¾‹ï¼šhttp_requests_total

Gaugeï¼ˆä»ªè¡¨ï¼‰ï¼š
- å¯å¢å¯å‡
- ä¾‹ï¼šcpu_usage_percent

Histogramï¼ˆç›´æ–¹å›¾ï¼‰ï¼š
- åˆ†å¸ƒç»Ÿè®¡
- ä¾‹ï¼šhttp_request_duration_seconds

Summaryï¼ˆæ‘˜è¦ï¼‰ï¼š
- åˆ†ä½æ•°ç»Ÿè®¡
- ä¾‹ï¼šhttp_request_duration_quantile
```

**ç¤ºä¾‹**ï¼š
```go
// Go SDK
import "go.opentelemetry.io/otel/metric"

meter := otel.Meter("myservice")

// Counter
requestCounter, _ := meter.Int64Counter(
    "http.server.requests",
    metric.WithDescription("HTTP request count"),
    metric.WithUnit("{request}"),
)

// Gauge
cpuGauge, _ := meter.Float64ObservableGauge(
    "system.cpu.usage",
    metric.WithDescription("CPU usage percentage"),
    metric.WithUnit("{percent}"),
    metric.WithFloat64Callback(func(ctx context.Context, o metric.Float64Observer) error {
        o.Observe(getCPUUsage())
        return nil
    }),
)

// Histogram
requestDuration, _ := meter.Float64Histogram(
    "http.server.duration",
    metric.WithDescription("HTTP request duration"),
    metric.WithUnit("ms"),
)

// ä½¿ç”¨
requestCounter.Add(ctx, 1, metric.WithAttributes(
    attribute.String("http.method", "GET"),
    attribute.String("http.route", "/api/users"),
))

start := time.Now()
// ... handle request ...
requestDuration.Record(ctx, time.Since(start).Milliseconds())
```

#### 2. Tracesï¼ˆè¿½è¸ªï¼‰

**å®šä¹‰**ï¼šè¯·æ±‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å®Œæ•´è·¯å¾„

**æ¦‚å¿µ**ï¼š
```
Traceï¼ˆè¿½è¸ªï¼‰ï¼šä¸€æ¬¡å®Œæ•´çš„è¯·æ±‚
â”œâ”€â”€ Span 1: API Gateway (100ms)
â”‚   â”œâ”€â”€ Span 2: Auth Service (20ms)
â”‚   â””â”€â”€ Span 3: User Service (60ms)
â”‚       â”œâ”€â”€ Span 4: Database Query (40ms)
â”‚       â””â”€â”€ Span 5: Cache Get (5ms)
â””â”€â”€ Span 6: Response (10ms)
```

**ç¤ºä¾‹**ï¼š
```python
# Python SDK
from opentelemetry import trace
from opentelemetry.trace import Status, StatusCode

tracer = trace.get_tracer(__name__)

@app.route('/api/users/<user_id>')
def get_user(user_id):
    # è‡ªåŠ¨åˆ›å»º Span
    with tracer.start_as_current_span("get_user") as span:
        span.set_attribute("user.id", user_id)
        
        # åµŒå¥— Span
        with tracer.start_as_current_span("fetch_from_cache") as cache_span:
            user = cache.get(f"user:{user_id}")
            if user:
                cache_span.set_attribute("cache.hit", True)
                return user
            cache_span.set_attribute("cache.hit", False)
        
        # æ•°æ®åº“æŸ¥è¯¢
        with tracer.start_as_current_span("fetch_from_db") as db_span:
            try:
                user = db.query(f"SELECT * FROM users WHERE id={user_id}")
                db_span.set_status(Status(StatusCode.OK))
                return user
            except Exception as e:
                db_span.set_status(Status(StatusCode.ERROR, str(e)))
                db_span.record_exception(e)
                raise
```

**Context Propagationï¼ˆä¸Šä¸‹æ–‡ä¼ æ’­ï¼‰**ï¼š
```
Service A â†’ Service B â†’ Service C

HTTP Headers:
traceparent: 00-4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-01
            â”‚â”‚ â””â”€ Trace ID                    â””â”€ Span ID       â””â”€ Flags
            â”‚â””â”€ Version
            â””â”€ Format

Service A:
  Span ID: 00f067aa0ba902b7
  
Service B (æ¥æ”¶åˆ° traceparent):
  Parent Span ID: 00f067aa0ba902b7
  Span ID: 0af7651916cd43dd  # æ–°ç”Ÿæˆ
  
Service C (æ¥æ”¶åˆ° Service B çš„ traceparent):
  Parent Span ID: 0af7651916cd43dd
  Span ID: 00f067aa0ba902b8
```

#### 3. Logsï¼ˆæ—¥å¿—ï¼‰

**å®šä¹‰**ï¼šç»“æ„åŒ–çš„äº‹ä»¶è®°å½•

**ä¼ ç»Ÿ vs OTLP æ—¥å¿—**ï¼š

```
ä¼ ç»Ÿæ—¥å¿—ï¼ˆçº¯æ–‡æœ¬ï¼‰:
2025-10-27 10:23:45 ERROR Failed to connect to database

OTLP æ—¥å¿—ï¼ˆç»“æ„åŒ– + å…³è”ï¼‰:
{
  "timestamp": "2025-10-27T10:23:45.123Z",
  "severity": "ERROR",
  "body": "Failed to connect to database",
  "attributes": {
    "service.name": "user-api",
    "db.system": "postgresql",
    "db.connection_string": "postgres://localhost:5432"
  },
  "trace_id": "4bf92f3577b34da6a3ce929d0e0e4736",
  "span_id": "00f067aa0ba902b7",
  "resource": {
    "service.name": "user-api",
    "service.version": "1.2.0",
    "host.name": "pod-12345"
  }
}
```

**è‡ªåŠ¨å…³è”**ï¼š
```python
import logging
from opentelemetry.instrumentation.logging import LoggingInstrumentor

# åˆå§‹åŒ–
LoggingInstrumentor().instrument()

logger = logging.getLogger(__name__)

# æ—¥å¿—è‡ªåŠ¨åŒ…å« trace_id å’Œ span_id
with tracer.start_as_current_span("process_order"):
    logger.info("Processing order", extra={"order_id": 12345})
    # è¾“å‡ºè‡ªåŠ¨åŒ…å«å½“å‰ span çš„ trace_id
```

---

## OTLP Collector æ·±åº¦è§£æ

### ä¸‰å¤§ç»„ä»¶

#### 1. Receiversï¼ˆæ¥æ”¶å™¨ï¼‰

**ä½œç”¨**ï¼šæ¥æ”¶ä¸åŒæ ¼å¼çš„æ•°æ®

```yaml
receivers:
  # OTLP åŸç”Ÿ
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318
  
  # Prometheus Pull
  prometheus:
    config:
      scrape_configs:
      - job_name: 'myapp'
        static_configs:
        - targets: ['localhost:8080']
  
  # Jaeger å…¼å®¹
  jaeger:
    protocols:
      grpc:
        endpoint: 0.0.0.0:14250
      thrift_http:
        endpoint: 0.0.0.0:14268
  
  # Zipkin å…¼å®¹
  zipkin:
    endpoint: 0.0.0.0:9411
```

#### 2. Processorsï¼ˆå¤„ç†å™¨ï¼‰

**ä½œç”¨**ï¼šè½¬æ¢ã€è¿‡æ»¤ã€èšåˆæ•°æ®

**å¸¸ç”¨å¤„ç†å™¨**ï¼š

```yaml
processors:
  # æ‰¹å¤„ç†ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
  batch:
    timeout: 10s
    send_batch_size: 1024
    send_batch_max_size: 2048
  
  # å†…å­˜é™åˆ¶
  memory_limiter:
    limit_mib: 512
    spike_limit_mib: 128
    check_interval: 1s
  
  # å±æ€§æ“ä½œ
  attributes:
    actions:
    - key: environment
      value: production
      action: insert
    - key: sensitive_data
      action: delete
  
  # è¿‡æ»¤ï¼ˆä¸¢å¼ƒä¸éœ€è¦çš„æ•°æ®ï¼‰
  filter:
    metrics:
      exclude:
        match_type: regexp
        metric_names:
        - ".*debug.*"
  
  # èµ„æºæ£€æµ‹
  resourcedetection:
    detectors: [env, system, docker, kubernetes]
    timeout: 5s
  
  # Span å¤„ç†
  span:
    name:
      from_attributes: ["http.method", "http.route"]
      separator: " "
```

**è‡ªå®šä¹‰å¤„ç†å™¨ç¤ºä¾‹**ï¼ˆé™é‡‡æ ·ï¼‰ï¼š

```yaml
processors:
  # é™é‡‡æ ·ï¼šåªä¿ç•™ 10% çš„ trace
  probabilistic_sampler:
    sampling_percentage: 10
  
  # å°¾éƒ¨é‡‡æ ·ï¼šåªä¿ç•™æ…¢è¯·æ±‚å’Œé”™è¯¯è¯·æ±‚
  tail_sampling:
    policies:
    - name: errors
      type: status_code
      status_code: {status_codes: [ERROR]}
    - name: slow
      type: latency
      latency: {threshold_ms: 1000}
    - name: sample_normal
      type: probabilistic
      probabilistic: {sampling_percentage: 1}
```

#### 3. Exportersï¼ˆå¯¼å‡ºå™¨ï¼‰

**ä½œç”¨**ï¼šå‘é€æ•°æ®åˆ°åç«¯

```yaml
exporters:
  # Prometheusï¼ˆMetricsï¼‰
  prometheus:
    endpoint: "0.0.0.0:8889"
    namespace: "myapp"
  
  # Prometheus Remote Write
  prometheusremotewrite:
    endpoint: "http://prometheus:9090/api/v1/write"
  
  # Jaegerï¼ˆTracesï¼‰
  jaeger:
    endpoint: jaeger:14250
    tls:
      insecure: true
  
  # OTLPï¼ˆè½¬å‘åˆ°å¦ä¸€ä¸ª Collectorï¼‰
  otlp:
    endpoint: otel-collector-gateway:4317
    tls:
      insecure: true
  
  # Lokiï¼ˆLogsï¼‰
  loki:
    endpoint: http://loki:3100/loki/api/v1/push
  
  # Elasticsearchï¼ˆLogsï¼‰
  elasticsearch:
    endpoints: [http://elasticsearch:9200]
    index: 'logs-myapp'
  
  # äº‘å‚å•†
  awsxray:
    region: us-west-2
  
  googlecloud:
    project: my-project
  
  azuremonitor:
    instrumentation_key: "abc123"
```

### Pipeline é…ç½®

```yaml
service:
  pipelines:
    # Metrics ç®¡é“
    metrics:
      receivers: [otlp, prometheus]
      processors: [memory_limiter, batch, resourcedetection]
      exporters: [prometheus, prometheusremotewrite]
    
    # Traces ç®¡é“
    traces:
      receivers: [otlp, jaeger, zipkin]
      processors: [memory_limiter, batch, tail_sampling, span]
      exporters: [jaeger, otlp]
    
    # Logs ç®¡é“
    logs:
      receivers: [otlp]
      processors: [memory_limiter, batch, attributes]
      exporters: [loki, elasticsearch]
```

---

## è‡ªåŠ¨åŸ‹ç‚¹ vs æ‰‹åŠ¨åŸ‹ç‚¹

### è‡ªåŠ¨åŸ‹ç‚¹ï¼ˆAuto-Instrumentationï¼‰

**æ”¯æŒçš„åº“/æ¡†æ¶**ï¼š

| è¯­è¨€ | è‡ªåŠ¨æ”¯æŒ |
|-----|---------|
| **Java** | JDBC, Spring, Kafka, gRPC, HTTP clients |
| **Python** | Flask, Django, Requests, PostgreSQL, Redis |
| **Go** | net/http, gRPC, database/sql |
| **Node.js** | Express, HTTP, MongoDB, MySQL |

**Java ç¤ºä¾‹**ï¼š
```bash
# ä¸‹è½½ Agent
curl -L -O https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar

# å¯åŠ¨åº”ç”¨ï¼ˆé›¶ä»£ç ä¿®æ”¹ï¼‰
java -javaagent:opentelemetry-javaagent.jar \
     -Dotel.service.name=my-app \
     -Dotel.traces.exporter=otlp \
     -Dotel.metrics.exporter=otlp \
     -Dotel.exporter.otlp.endpoint=http://localhost:4317 \
     -jar myapp.jar
```

**Python ç¤ºä¾‹**ï¼š
```bash
# å®‰è£…
pip install opentelemetry-distro opentelemetry-exporter-otlp
opentelemetry-bootstrap -a install

# è¿è¡Œï¼ˆé›¶ä»£ç ä¿®æ”¹ï¼‰
opentelemetry-instrument \
    --traces_exporter otlp \
    --metrics_exporter otlp \
    --service_name my-app \
    --exporter_otlp_endpoint http://localhost:4317 \
    python app.py
```

**è‡ªåŠ¨æ•è·çš„ä¿¡æ¯**ï¼š
```
HTTP è¯·æ±‚ï¼š
- Method, URL, Status Code
- Request/Response headers (å¯é…ç½®)
- Duration

æ•°æ®åº“æŸ¥è¯¢ï¼š
- SQL è¯­å¥ï¼ˆå¯è„±æ•ï¼‰
- æ‰§è¡Œæ—¶é—´
- è¿æ¥ä¿¡æ¯

gRPC è°ƒç”¨ï¼š
- Method, Status
- Request/Response metadata
```

### æ‰‹åŠ¨åŸ‹ç‚¹ï¼ˆManual Instrumentationï¼‰

**ä¸šåŠ¡é€»è¾‘åŸ‹ç‚¹**ï¼š

```python
from opentelemetry import trace

tracer = trace.get_tracer(__name__)

@app.route('/api/orders', methods=['POST'])
def create_order():
    with tracer.start_as_current_span("create_order") as span:
        # ä¸šåŠ¡å‚æ•°
        order_data = request.json
        span.set_attribute("order.amount", order_data['amount'])
        span.set_attribute("order.items_count", len(order_data['items']))
        
        # ä¸šåŠ¡é€»è¾‘ 1ï¼šéªŒè¯åº“å­˜
        with tracer.start_as_current_span("validate_inventory") as inv_span:
            inventory_ok = check_inventory(order_data['items'])
            inv_span.set_attribute("inventory.ok", inventory_ok)
            if not inventory_ok:
                inv_span.add_event("Inventory insufficient")
                return {"error": "Out of stock"}, 400
        
        # ä¸šåŠ¡é€»è¾‘ 2ï¼šè®¡ç®—ä»·æ ¼
        with tracer.start_as_current_span("calculate_price") as price_span:
            total_price = calculate_total(order_data['items'])
            price_span.set_attribute("order.total_price", total_price)
            span.set_attribute("order.total_price", total_price)  # ä¹Ÿè®°å½•åˆ°çˆ¶ span
        
        # ä¸šåŠ¡é€»è¾‘ 3ï¼šæ‰£æ¬¾
        with tracer.start_as_current_span("charge_payment") as pay_span:
            try:
                payment_result = charge(user_id, total_price)
                pay_span.set_attribute("payment.status", "success")
                pay_span.set_attribute("payment.transaction_id", payment_result['tx_id'])
            except PaymentError as e:
                pay_span.set_status(Status(StatusCode.ERROR))
                pay_span.record_exception(e)
                return {"error": "Payment failed"}, 500
        
        # åˆ›å»ºè®¢å•
        order = save_order(order_data, payment_result)
        span.set_attribute("order.id", order.id)
        
        return {"order_id": order.id}, 201
```

---

## å…³è”æŸ¥è¯¢ï¼šä» Metrics åˆ° Traces åˆ° Logs

### å…¸å‹åœºæ™¯

**é—®é¢˜**ï¼šP95 å»¶è¿Ÿé£™å‡åˆ° 5 ç§’

**æ­¥éª¤ 1ï¼šMetrics å®šä½æ—¶é—´å’ŒæœåŠ¡**

```promql
# Grafana æŸ¥è¯¢
histogram_quantile(0.95,
  rate(http_request_duration_seconds_bucket[5m])
)

# å‘ç°ï¼šuser-api åœ¨ 10:23-10:28 å»¶è¿Ÿé£™å‡
```

**æ­¥éª¤ 2ï¼šTraces å®šä½æ…¢è¯·æ±‚**

```
åœ¨ Jaeger UI:
1. è¾“å…¥æ—¶é—´èŒƒå›´ï¼š10:23-10:28
2. è¾“å…¥æœåŠ¡ï¼šuser-api
3. è¿‡æ»¤ï¼šduration > 5s

æ‰¾åˆ° Trace ID: 4bf92f3577b34da6a3ce929d0e0e4736

æŸ¥çœ‹ Trace:
â”œâ”€â”€ user-api: GET /api/users/123 (5200ms)
    â”œâ”€â”€ auth-service: validate_token (50ms) âœ…
    â””â”€â”€ database: SELECT * FROM users (5100ms) âŒ æ…¢ï¼
```

**æ­¥éª¤ 3ï¼šLogs å®šä½æ ¹å› **

```
åœ¨ Loki/Grafana:
æŸ¥è¯¢ï¼š{service="user-api", trace_id="4bf92f3577b34da6a3ce929d0e0e4736"}

æ—¥å¿—ï¼š
10:25:34 ERROR [trace_id=4bf92...] Database connection pool exhausted
10:25:34 WARN  [trace_id=4bf92...] Waiting for available connection (5000ms)
10:25:39 INFO  [trace_id=4bf92...] Query completed

æ ¹å› ï¼šè¿æ¥æ± è€—å°½ï¼Œç­‰å¾…è¿æ¥ 5 ç§’
```

### è‡ªåŠ¨å…³è”é…ç½®

**Grafana Exemplars**ï¼ˆPrometheus + Jaeger å…³è”ï¼‰ï¼š

```yaml
# Prometheus é…ç½®
scrape_configs:
- job_name: 'myapp'
  scrape_interval: 15s
  static_configs:
  - targets: ['localhost:8080']
  # å¯ç”¨ exemplar
  metric_relabel_configs:
  - source_labels: [__name__]
    regex: 'http_request_duration_seconds.*'
    action: keep
  
# Grafana é…ç½®
datasources:
- name: Prometheus
  type: prometheus
  url: http://prometheus:9090
  jsonData:
    exemplarTraceIdDestinations:
    - name: trace_id
      datasourceUid: jaeger-uid
```

**æ•ˆæœ**ï¼š
- åœ¨ Grafana Metrics å›¾è¡¨ä¸­
- ç‚¹å‡»ä»»æ„æ•°æ®ç‚¹
- è‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„ Trace

---

## æ€§èƒ½ä¼˜åŒ–

### 1. é‡‡æ ·ç­–ç•¥

**Head Samplingï¼ˆå¤´éƒ¨é‡‡æ ·ï¼‰**ï¼š
```yaml
# Collector é…ç½®
processors:
  probabilistic_sampler:
    sampling_percentage: 10  # åªä¿ç•™ 10%
```

**Tail Samplingï¼ˆå°¾éƒ¨é‡‡æ ·ï¼‰**ï¼š
```yaml
processors:
  tail_sampling:
    decision_wait: 10s  # ç­‰å¾… span å®Œæ•´åå†å†³å®š
    policies:
    - name: always_sample_errors
      type: status_code
      status_code: {status_codes: [ERROR]}
    - name: sample_slow_requests
      type: latency
      latency: {threshold_ms: 1000}
    - name: sample_1_percent_normal
      type: probabilistic
      probabilistic: {sampling_percentage: 1}
```

**å¯¹æ¯”**ï¼š

| é‡‡æ ·æ–¹å¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|---------|------|------|---------|
| **Head** | ç®€å•ã€ä½å»¶è¿Ÿ | å¯èƒ½ä¸¢å¤±é‡è¦trace | é«˜æµé‡ç³»ç»Ÿ |
| **Tail** | æ™ºèƒ½ä¿ç•™é‡è¦trace | éœ€è¦ç¼“å­˜ã€æœ‰å»¶è¿Ÿ | ä½æµé‡ã€è°ƒè¯• |

### 2. æ‰¹å¤„ç†

```yaml
processors:
  batch:
    timeout: 10s           # æœ€é•¿ç­‰å¾…æ—¶é—´
    send_batch_size: 1024  # è¾¾åˆ° 1024 æ¡ç«‹å³å‘é€
    send_batch_max_size: 2048  # æœ€å¤§æ‰¹æ¬¡å¤§å°
```

**æ€§èƒ½æå‡**ï¼š
- å•æ¡å‘é€ï¼š1000 QPS â†’ ç½‘ç»œå¼€é”€ 1000 æ¬¡/ç§’
- æ‰¹é‡å‘é€ï¼š1000 QPS â†’ ç½‘ç»œå¼€é”€ 10 æ¬¡/ç§’ï¼ˆ100 å€ä¼˜åŒ–ï¼‰

### 3. å±æ€§é™åˆ¶

```yaml
processors:
  attributes:
    actions:
    # é™åˆ¶å­—ç¬¦ä¸²é•¿åº¦
    - key: http.url
      action: truncate
      limit: 128
    
    # åˆ é™¤æ•æ„Ÿæ•°æ®
    - key: password
      action: delete
    - key: credit_card
      action: delete
```

---

## æˆæœ¬åˆ†æ

### æ•°æ®é‡ä¼°ç®—

**å‡è®¾**ï¼š1000 QPS çš„å¾®æœåŠ¡

```
Traces:
- æ¯è¯·æ±‚ 1 ä¸ª traceï¼Œå¹³å‡ 5 ä¸ª span
- æ¯ span çº¦ 1 KB
- 1000 QPS Ã— 5 span Ã— 1 KB = 5 MB/s = 13 TB/æœˆ

Metrics:
- 100 ä¸ªæŒ‡æ ‡ï¼Œ15s é‡‡é›†é—´éš”
- æ¯æŒ‡æ ‡ ~100 bytes
- 100 Ã— 100 bytes Ã— 4 (æ¯åˆ†é’Ÿ) Ã— 60 Ã— 24 Ã— 30 = 17 GB/æœˆ

Logs:
- æ¯è¯·æ±‚ 10 æ¡æ—¥å¿—
- æ¯æ¡ 500 bytes
- 1000 QPS Ã— 10 Ã— 500 bytes = 5 MB/s = 13 TB/æœˆ

æ€»è®¡ï¼š26 TB/æœˆï¼ˆæœªå‹ç¼©ï¼‰
```

### æˆæœ¬ä¼˜åŒ–

| ç­–ç•¥ | æ•ˆæœ | å®æ–½éš¾åº¦ |
|-----|------|---------|
| **é‡‡æ ·** | -90% traces | ç®€å• |
| **å‹ç¼©** | -70% å­˜å‚¨ | ç®€å•ï¼ˆè‡ªåŠ¨ï¼‰|
| **ä¿ç•™æ—¶é—´** | åªä¿ç•™ 7 å¤© | ç®€å• |
| **é™ç²¾åº¦** | Metrics 60s â†’ 300s | ä¸­ç­‰ |
| **è¿‡æ»¤** | å»é™¤è°ƒè¯•æ—¥å¿— | ç®€å• |

**ä¼˜åŒ–å**ï¼š
```
Traces: 13 TB Ã— 10% (é‡‡æ ·) Ã— 30% (å‹ç¼©) = 0.4 TB/æœˆ
Metrics: 17 GB Ã— 30% (å‹ç¼©) = 5 GB/æœˆ
Logs: 13 TB Ã— 50% (è¿‡æ»¤) Ã— 30% (å‹ç¼©) = 2 TB/æœˆ

æ€»è®¡ï¼š2.4 TB/æœˆ

å­˜å‚¨æˆæœ¬ï¼ˆS3ï¼‰ï¼š2.4 TB Ã— $0.023/GB = $56/æœˆ
```

---

## å…³é”®æ´å¯Ÿ

### æ´å¯Ÿ 1ï¼šç»Ÿä¸€ > å®Œç¾

```
ä¸è¦è¿½æ±‚"æœ€å¥½çš„" Metrics/Traces/Logs å·¥å…·
è€Œæ˜¯è¿½æ±‚"ç»Ÿä¸€çš„"æ ‡å‡†

å¥½å¤„ï¼š
- åˆ‡æ¢æˆæœ¬ä½
- å¤šäº‘/æ··åˆäº‘å‹å¥½
- å›¢é˜Ÿå­¦ä¹ æˆæœ¬ä½
```

### æ´å¯Ÿ 2ï¼šè‡ªåŠ¨åŸ‹ç‚¹è¦†ç›– 80%

```
80% çš„å¯è§‚æµ‹æ€§éœ€æ±‚ï¼š
- HTTP è¯·æ±‚
- æ•°æ®åº“æŸ¥è¯¢
- ç¼“å­˜è®¿é—®
- æ¶ˆæ¯é˜Ÿåˆ—

è¿™äº›éƒ½å¯ä»¥è‡ªåŠ¨åŸ‹ç‚¹ï¼Œæ— éœ€æ‰‹å†™ä»£ç 
```

### æ´å¯Ÿ 3ï¼šå…³è”æ˜¯æ ¸å¿ƒä»·å€¼

```
å•ç‹¬çš„ Metrics/Traces/Logs ä»·å€¼æœ‰é™

çœŸæ­£ä»·å€¼ï¼š
Metricsï¼ˆå‘ç°é—®é¢˜ï¼‰
  â†“ trace_id
Tracesï¼ˆå®šä½ç“¶é¢ˆï¼‰
  â†“ span_id
Logsï¼ˆæ ¹å› åˆ†æï¼‰
```

---

## æƒå¨å‚è€ƒä¸æ ‡å‡† | Authoritative References

### å®˜æ–¹æ ‡å‡†ä¸è§„èŒƒ

1. **OpenTelemetry Protocol Specification v1.3.0 (2025)**
   - ğŸ“‹ **è§„èŒƒ**: [opentelemetry.io/docs/specs/otlp/](https://opentelemetry.io/docs/specs/otlp/)
   - ğŸ¢ **ç»„ç»‡**: CNCF (Cloud Native Computing Foundation)
   - ğŸ“… **çŠ¶æ€**: CNCF Incubating Project â†’ Graduated (2024)
   - âœ… **éªŒè¯æ—¥æœŸ**: 2025-10-27

2. **OTLP Protocol Buffers Definition**
   - ğŸ“„ **GitHub**: [open-telemetry/opentelemetry-proto](https://github.com/open-telemetry/opentelemetry-proto)
   - ğŸ’¡ **å†…å®¹**: gRPC/HTTPåè®®çš„Protobufå®šä¹‰
   - â­ **Stars**: 2,000+ (2025)

3. **W3C Trace Context Specification**
   - ğŸ“‹ **æ ‡å‡†**: W3C Recommendation (2021)
   - ğŸ”— [w3.org/TR/trace-context/](https://www.w3.org/TR/trace-context/)
   - ğŸ’¡ **å†…å®¹**: åˆ†å¸ƒå¼è¿½è¸ªä¸Šä¸‹æ–‡ä¼ æ’­æ ‡å‡†
   - âœ… **çŠ¶æ€**: æ­£å¼æ¨èæ ‡å‡†

### CNCFå®˜æ–¹æ–‡æ¡£

4. **OpenTelemetry Official Documentation (2025)**
   - ğŸ”— [opentelemetry.io](https://opentelemetry.io/)
   - ğŸ“š **è¯­è¨€**: 10+ SDK (Go, Python, Java, JavaScript, .NET, Rustç­‰)
   - ğŸ“Š **é‡‡ç”¨ç‡**: 70%+ CNCFæˆå‘˜ä½¿ç”¨ (2025ç»Ÿè®¡)

5. **CNCF Observability Landscape (2025)**
   - ğŸ—ºï¸ [landscape.cncf.io](https://landscape.cncf.io/card-mode?category=observability-and-analysis)
   - ğŸ’¡ **å†…å®¹**: å¯è§‚æµ‹æ€§å·¥å…·å…¨æ™¯å›¾
   - ğŸ“Š **ç»Ÿè®¡**: 100+ OTLPå…¼å®¹å·¥å…·

### å­¦æœ¯ç ”ç©¶

6. **Kaldor, J., et al. (2017)**. "Canopy: An End-to-End Performance Tracing and Analysis System". *SOSP 2017*.
   - ğŸ“„ **ACM DL**: [doi.org/10.1145/3132747.3132749](https://dl.acm.org/doi/10.1145/3132747.3132749)
   - ğŸ¢ **æœºæ„**: Facebook (Meta)
   - ğŸ’¡ **å†…å®¹**: åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿçš„å·¥ä¸šå®è·µ

7. **Sigelman, B. H., et al. (2010)**. "Dapper, a Large-Scale Distributed Systems Tracing Infrastructure". *Google Technical Report*.
   - ğŸ“„ **Google Research**: [research.google/pubs/dapper-a-large-scale-distributed-systems-tracing-infrastructure/](https://research.google/pubs/dapper-a-large-scale-distributed-systems-tracing-infrastructure/)
   - ğŸ¢ **æœºæ„**: Google
   - â­ **åœ°ä½**: åˆ†å¸ƒå¼è¿½è¸ªçš„å¼€åˆ›æ€§è®ºæ–‡
   - ğŸ’¡ **å½±å“**: OpenTelemetryè¿½è¸ªè®¾è®¡åŸºç¡€

### å·¥ä¸šç•Œç™½çš®ä¹¦

8. **CNCF Observability Whitepaper (2024)**
   - ğŸ“„ **PDF**: [cncf.io/reports/](https://www.cncf.io/reports/)
   - ğŸ¢ **å‘å¸ƒ**: CNCF TAG Observability
   - ğŸ’¡ **å†…å®¹**: äº‘åŸç”Ÿå¯è§‚æµ‹æ€§æœ€ä½³å®è·µ

9. **Observability Engineering** (2022)
   - âœï¸ **ä½œè€…**: Charity Majors, Liz Fong-Jones, George Miranda
   - ğŸ“– **å‡ºç‰ˆ**: O'Reilly Media
   - ğŸ“„ **ISBN**: 978-1492076445
   - â­ **åœ°ä½**: å¯è§‚æµ‹æ€§å·¥ç¨‹æƒå¨è‘—ä½œ

10. **Google SRE Book (2016, 2018)**
    - ğŸ“– **åœ¨çº¿**: [sre.google](https://sre.google/books/)
    - ğŸ¢ **æœºæ„**: Google
    - ğŸ’¡ **ç« èŠ‚**: Monitoring Distributed Systems (ç¬¬6ç« )

### è¡Œä¸šæ ‡å‡†ä¸å®è·µ

11. **Prometheus Exposition Format**
    - ğŸ“‹ **è§„èŒƒ**: [prometheus.io/docs/instrumenting/exposition_formats/](https://prometheus.io/docs/instrumenting/exposition_formats/)
    - ğŸ¢ **ç»„ç»‡**: CNCF
    - ğŸ’¡ **å…³ç³»**: OTLP Metricså…¼å®¹Prometheusæ ¼å¼

12. **Jaeger Architecture**
    - ğŸ“‹ **æ–‡æ¡£**: [jaegertracing.io/docs/](https://www.jaegertracing.io/docs/latest/architecture/)
    - ğŸ¢ **ç»„ç»‡**: CNCF Graduated Project
    - ğŸ’¡ **å…³ç³»**: åŸç”Ÿæ”¯æŒOTLPæ¥æ”¶

13. **Grafana Tempo**
    - ğŸ“‹ **æ–‡æ¡£**: [grafana.com/docs/tempo/](https://grafana.com/docs/tempo/latest/)
    - ğŸ¢ **å…¬å¸**: Grafana Labs
    - ğŸ’¡ **ç‰¹æ€§**: ä½æˆæœ¬çš„OTLPè¿½è¸ªåç«¯

### RFCä¸åè®®

14. **gRPC Protocol (HTTP/2)**
    - ğŸ“‹ **RFC 7540**: [tools.ietf.org/html/rfc7540](https://tools.ietf.org/html/rfc7540)
    - ğŸ’¡ **å…³ç³»**: OTLP gRPCä¼ è¾“åŸºç¡€

15. **Protocol Buffers Language Guide**
    - ğŸ“‹ **Googleæ–‡æ¡£**: [protobuf.dev](https://protobuf.dev/)
    - ğŸ’¡ **å…³ç³»**: OTLPæ¶ˆæ¯åºåˆ—åŒ–æ ¼å¼

### å¼€æºå®ç°ä¸å·¥å…·

16. **OpenTelemetry Collector**
    - ğŸ”— **GitHub**: [open-telemetry/opentelemetry-collector](https://github.com/open-telemetry/opentelemetry-collector)
    - â­ **Stars**: 4,000+ (2025)
    - ğŸ“Š **å‘å¸ƒ**: v0.100+ (2025)
    - ğŸ’¡ **åŠŸèƒ½**: 300+ Receivers/Processors/Exporters

17. **OpenTelemetry Operator for Kubernetes**
    - ğŸ”— **GitHub**: [open-telemetry/opentelemetry-operator](https://github.com/open-telemetry/opentelemetry-operator)
    - â­ **Stars**: 1,000+ (2025)
    - ğŸ’¡ **åŠŸèƒ½**: è‡ªåŠ¨æ³¨å…¥OTEL SDK

18. **OpenTelemetry Demo Application**
    - ğŸ”— **GitHub**: [open-telemetry/opentelemetry-demo](https://github.com/open-telemetry/opentelemetry-demo)
    - ğŸ’¡ **å†…å®¹**: å¾®æœåŠ¡å‚è€ƒå®ç°ï¼ˆ12ç§è¯­è¨€ï¼‰

### å¤§å­¦è¯¾ç¨‹

19. **UC Berkeley CS 294-162** - *Observability and Monitoring*
    - ğŸ“š **è®²å¸ˆ**: Joe Hellerstein
    - ğŸ›ï¸ **æœºæ„**: UC Berkeley
    - ğŸ“… **å­¦æœŸ**: Fall 2024

20. **MIT 6.824** - *Distributed Systems*
    - ğŸ“š **è®²å¸ˆ**: Robert Morris, Frans Kaashoek
    - ğŸ›ï¸ **æœºæ„**: MIT
    - ğŸ”— [pdos.csail.mit.edu/6.824/](https://pdos.csail.mit.edu/6.824/)
    - ğŸ’¡ **ç›¸å…³**: Lab 4æ¶‰åŠåˆ†å¸ƒå¼è¿½è¸ª

### åœ¨çº¿èµ„æº

21. **Wikipedia - OpenTelemetry**
    - ğŸ”— [en.wikipedia.org/wiki/OpenTelemetry](https://en.wikipedia.org/wiki/OpenTelemetry)
    - âœ… **æœ€åéªŒè¯**: 2025-10-27

22. **CNCF Cloud Native Glossary**
    - ğŸ”— [glossary.cncf.io](https://glossary.cncf.io/)
    - ğŸ’¡ **æœ¯è¯­**: Observability, Telemetry, Tracingå®šä¹‰

### æ€§èƒ½åŸºå‡†ä¸æ¡ˆä¾‹

23. **CNCF OpenTelemetry Benchmarks (2024)**
    - ğŸ“Š **æŠ¥å‘Š**: CNCF Performance Working Group
    - ğŸ’¡ **æ•°æ®**: 
      - Collectorååé‡: 100K spans/s per core
      - SDKå¼€é”€: <1% CPU, <50MBå†…å­˜

24. **Uber's OpenTelemetry Migration Case Study (2023)**
    - ğŸ“„ **Blog**: [uber.com/blog/](https://www.uber.com/blog/)
    - ğŸ’¡ **è§„æ¨¡**: 10,000+ å¾®æœåŠ¡è¿ç§»åˆ°OTLP

### æœ€æ–°å‘å±•ï¼ˆ2024-2025ï¼‰

25. **OpenTelemetry Profiling Signal (2024)**
    - ğŸ“‹ **ææ¡ˆ**: OTEP 0212
    - ğŸ”— [github.com/open-telemetry/oteps](https://github.com/open-telemetry/oteps)
    - ğŸ’¡ **æ–°å¢**: ç¬¬å››å¤§ä¿¡å·ï¼ˆContinuous Profilingï¼‰

26. **OpenTelemetry Logs Bridge Stabilization (2024)**
    - ğŸ“‹ **çŠ¶æ€**: Stable (v1.0)
    - ğŸ’¡ **æ„ä¹‰**: æ—¥å¿—ä¿¡å·æ­£å¼ç¨³å®š

### éªŒè¯ä¸é‡‡ç”¨ç»Ÿè®¡ï¼ˆæˆªè‡³2025-10-27ï¼‰

| æŒ‡æ ‡ | æ•°å€¼ | æ¥æº |
|-----|------|------|
| CNCFé¡¹ç›®çŠ¶æ€ | Graduated | CNCF (2024) |
| GitHub Stars (Collector) | 4,000+ | GitHub |
| SDKè¯­è¨€æ”¯æŒ | 11ç§ | OpenTelemetryå®˜ç½‘ |
| å•†ä¸šäº§å“é›†æˆ | 50+ | CNCF Landscape |
| ä¼ä¸šé‡‡ç”¨ç‡ | 70%+ CNCFæˆå‘˜ | CNCF Survey 2024 |

**æ•°æ®æ¥æº**: CNCF Annual Survey 2024, GitHub Statistics

---

## ç›¸å…³ä¸»é¢˜

- [4.1 è‡ªæ„ˆç³»ç»Ÿæ¶æ„](./04.1_Self_Healing_Architecture.md)
- [4.3 OPA ç­–ç•¥å¼•æ“](./04.3_OPA_Policy_Engine.md)
- [4.4 GitOps å£°æ˜å¼ä¿®å¤](./04.4_GitOps_Declarative_Remediation.md)
- [6.1 å¯è§‚æµ‹æ€§ä¸‰å¤§æ”¯æŸ±](../06_Observability_Governance/06.1_Three_Pillars_Observability.md)

---


