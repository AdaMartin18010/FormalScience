# 09.1 逻辑与类型的对应

> **来源**: view08.md

## 📋 内容概览

本文档阐述Curry-Howard同构的核心思想：逻辑、类型与程序的统一对应关系。

## 🎯 Curry-Howard同构的核心

### 基本对应

- **命题 = 类型**
- **证明 = 程序**
- **逻辑连接词 = 类型构造子**

### 三重对应

```
逻辑 ←→ 类型 ←→ 程序
```

## 📊 基本对应关系

### 1. ∧ (与) ↔ 积类型 (A × B) ↔ Tuple

#### 逻辑侧：合取

命题 `A ∧ B` 表示"A与B同时为真"。

**证明规则**：
- **引入**：若 ⊢ A 且 ⊢ B，则 ⊢ A ∧ B
- **消去**：若 ⊢ A ∧ B，则 ⊢ A；若 ⊢ A ∧ B，则 ⊢ B

#### 编程侧：Tuple

```haskell
-- 构造子（introduction）
pair :: A -> B -> (A, B)
pair a b = (a, b)

-- 消去子（elimination）
fst :: (A, B) -> A
fst (a, b) = a

snd :: (A, B) -> B
snd (a, b) = b

-- β-规约（计算规则）
fst (pair a b) = a
snd (pair a b) = b

-- η-规约（唯一性规则）
pair (fst p) (snd p) = p
```

**关键同构**：
- `pair` = **合取引入**
- `fst/snd` = **合取消去**
- `β-规约` = **证明规约**

### 2. ∨ (或) ↔ 余积类型 (A + B) ↔ Either

#### 逻辑侧：析取

命题 `A ∨ B` 表示"A或B至少一个为真"。

**证明规则**：
- **引入**：若 ⊢ A，则 ⊢ A ∨ B；若 ⊢ B，则 ⊢ A ∨ B
- **消去**：若 ⊢ A ∨ B，且从A可证C，从B可证C，则 ⊢ C

#### 编程侧：Either

```haskell
data Either a b = Left a | Right b

-- 构造子
left  :: A -> Either A B
left a = Left a

right :: B -> Either A B
right b = Right b

-- 消去子（模式匹配 = 证明分情况）
caseEither :: Either A B -> (A -> C) -> (B -> C) -> C
caseEither (Left a)  f g = f a
caseEither (Right b) f g = g b

-- β-规约
caseEither (left a)  f g = f a
caseEither (right b) f g = g b
```

**关键同构**：
- `Left/Right` = **析取引入**
- `caseEither` = **析取消去**
- **模式匹配** = **证明分支**

### 3. ⇒ (蕴含) ↔ 指数类型 (A ⇒ B) ↔ Function

#### 逻辑侧：蕴含

命题 `A ⇒ B` 表示"若A为真，则B为真"。

**证明规则**：
- **引入**：在假设A下证明了B，则 ⊢ A ⇒ B
- **消去**：若 ⊢ A ⇒ B 且 ⊢ A，则 ⊢ B（**Modus Ponens**）

#### 编程侧：Function类型

```haskell
-- 构造子（λ抽象 = 蕴含引入）
lambda :: (A -> B) -> (A -> B)
lambda f = f

-- 消去子（函数应用 = 蕴含消去）
apply :: (A -> B) -> A -> B
apply f a = f a

-- β-规约（函数调用 = Modus Ponens）
apply (lambda f) a = f a

-- curry/uncurry同构
curry :: ((A, B) -> C) -> (A -> B -> C)
curry f = \a -> \b -> f (a, b)

uncurry :: (A -> B -> C) -> ((A, B) -> C)
uncurry f = \(a, b) -> f a b
```

**关键同构**：
- **λ抽象** = **假设A，证明B**
- **函数应用** = **肯定前件**（Modus Ponens）
- `curry` = **证明转换**：从"需要A,B同时证明C"到"先证A⇒(B⇒C)"

## 🔄 对应关系总结表

| 逻辑 | 范畴 | 编程语言 | 证明 |
|------|------|----------|------|
| ∧ (与) | 积 | Tuple (A, B) | 对构造 |
| ∨ (或) | 余积 | Either A B | 情况分析 |
| ⇒ (蕴含) | 指数 | Function A -> B | λ抽象 |
| ∀ | Π-对象 | Dep Function | 泛证 |
| ∃ | Σ-对象 | Dep Pair | 见证提取 |

## 💡 实际意义

### 1. 类型安全 = 逻辑正确性

- 类型检查 = 证明验证
- 类型错误 = 逻辑矛盾
- 类型系统 = 逻辑系统

### 2. 程序 = 证明

- 写程序 = 构造证明
- 运行程序 = 执行证明
- 程序正确性 = 证明正确性

### 3. 逻辑推理 = 类型推导

- 逻辑推理规则 = 类型推导规则
- 逻辑一致性 = 类型一致性
- 逻辑完备性 = 类型完备性

## 🔗 相关文档

- [09.2_基本对应关系详解.md](09.2_基本对应关系详解.md)
- [09.3_范畴论视角.md](09.3_范畴论视角.md)
- [09.4_依赖类型系统.md](09.4_依赖类型系统.md)
- [09.5_实际应用.md](09.5_实际应用.md)

## 📖 扩展阅读

- Wikipedia: [Curry-Howard Correspondence](https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence)
- 《Types and Programming Languages》- Benjamin C. Pierce
- 《Proofs and Types》- Jean-Yves Girard
