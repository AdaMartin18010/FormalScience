# 03.2 函子与自然变换

> **来源**: view08.md

## 📋 内容概览

本文档详细阐述函子和自然变换的概念、性质及其应用。

## 🔄 函子（Functor）

### 定义回顾

**函子** F: 𝒞 → 𝒟 是范畴间的映射，满足：

1. **对象映射**：F: Ob(𝒞) → Ob(𝒟)
2. **态射映射**：F: Hom(A, B) → Hom(F(A), F(B))
3. **保持复合**：F(g ∘ f) = F(g) ∘ F(f)
4. **保持单位**：F(id_A) = id_{F(A)}

### 函子的类型

#### 协变函子

**定义**：保持方向

**记号**：F: 𝒞 → 𝒟

**性质**：F(f: A → B) = F(f): F(A) → F(B)

#### 反变函子

**定义**：反转方向

**记号**：F: 𝒞^op → 𝒟

**性质**：F(f: A → B) = F(f): F(B) → F(A)

### 函子的实例

#### 1. 恒等函子

**定义**：Id_𝒞: 𝒞 → 𝒞

**映射**：
- 对象：A ↦ A
- 态射：f ↦ f

#### 2. 遗忘函子

**定义**：U: Grp → Set

**映射**：
- 对象：群 G ↦ 集合 G
- 态射：群同态 f ↦ 函数 f

**性质**：遗忘群结构，保留集合

#### 3. 自由函子

**定义**：F: Set → Grp

**映射**：
- 对象：集合 S ↦ 自由群 F(S)
- 态射：函数 f ↦ 群同态 F(f)

**性质**：从集合构造群

#### 4. 幂集函子

**定义**：P: Set → Set

**映射**：
- 对象：集合 X ↦ 幂集 P(X)
- 态射：函数 f: X → Y ↦ 函数 P(f): P(X) → P(Y)，其中 P(f)(A) = f(A)

#### 5. Hom函子

**协变Hom函子**：Hom(A, -): 𝒞 → Set

**映射**：
- 对象：B ↦ Hom(A, B)
- 态射：f: B → C ↦ Hom(A, f): Hom(A, B) → Hom(A, C)

**反变Hom函子**：Hom(-, A): 𝒞^op → Set

**映射**：
- 对象：B ↦ Hom(B, A)
- 态射：f: B → C ↦ Hom(f, A): Hom(C, A) → Hom(B, A)

## 🔀 自然变换（Natural Transformation）

### 定义

**自然变换** η: F → G 是函子间的映射，满足：

对任意态射 f: A → B，以下图交换：
```
F(A) --η_A--> G(A)
|              |
F(f)           G(f)
|              |
v              v
F(B) --η_B--> G(B)
```

### 自然性条件

**交换性**：G(f) ∘ η_A = η_B ∘ F(f)

### 自然变换的实例

#### 1. 单位自然变换

**定义**：η: Id → F ∘ G

**分量**：η_A: A → F(G(A))

**性质**：恒等自然变换

#### 2. 行列式自然变换

**函子**：GL_n: Ring → Grp（一般线性群）

**自然变换**：det: GL_n → (-)*（乘法群）

**分量**：det_R: GL_n(R) → R*

**自然性**：对任意环同态 f: R → S，det_S ∘ GL_n(f) = f* ∘ det_R

#### 3. 双线性映射自然变换

**函子**：Hom(-, A) × Hom(-, B): Set^op × Set^op → Set

**自然变换**：⊗: Hom(-, A) × Hom(-, B) → Hom(-, A ⊗ B)

**分量**：⊗_X: Hom(X, A) × Hom(X, B) → Hom(X, A ⊗ B)

## 📊 函子范畴

### 定义

**函子范畴** Fun(𝒞, 𝒟)：

- **对象**：函子 F: 𝒞 → 𝒟
- **态射**：自然变换 η: F → G

### 复合

**自然变换的复合**：

给定自然变换 η: F → G 和 ζ: G → H，复合 ζ ∘ η: F → H 的分量为：
```
(ζ ∘ η)_A = ζ_A ∘ η_A
```

### 单位

**单位自然变换**：id_F: F → F

**分量**：(id_F)_A = id_{F(A)}

## 🎯 自然同构

### 定义

**自然同构**：自然变换 η: F → G 是自然同构，如果每个分量 η_A 都是同构。

**记号**：F ≅ G

### 性质

**等价性**：F ≅ G 当且仅当存在自然同构 η: F → G

### 实例

#### Yoneda引理

**内容**：对任意函子 F: 𝒞 → Set 和对象 A ∈ Ob(𝒞)，

```
Hom(Hom(A, -), F) ≅ F(A)
```

**意义**：对象由其在所有态射中的表现决定

## 🔗 相关文档

- [03.1_范畴论基础.md](03.1_范畴论基础.md)
- [03.3_极限与余极限.md](03.3_极限与余极限.md)
- [03.4_数据库设计中的范畴论.md](03.4_数据库设计中的范畴论.md)

## 📖 扩展阅读

- 《Category Theory》- Steve Awodey
- 《Basic Category Theory》- Tom Leinster
- Wikipedia: [Functor](https://en.wikipedia.org/wiki/Functor)
- Wikipedia: [Natural Transformation](https://en.wikipedia.org/wiki/Natural_transformation)

