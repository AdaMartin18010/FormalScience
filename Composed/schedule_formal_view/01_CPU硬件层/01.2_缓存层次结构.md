# 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„

> **ä¸»é¢˜**: 01. CPUç¡¬ä»¶å±‚ - 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„
> **è¦†ç›–**: L1/L2/L3ç¼“å­˜ã€ç¼“å­˜ä¸€è‡´æ€§åè®®ã€ä¼ªå…±äº«

---

## ğŸ“‹ ç›®å½•

- [1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„](#12-ç¼“å­˜å±‚æ¬¡ç»“æ„)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1 ç¼“å­˜å±‚æ¬¡æ¦‚è§ˆ](#1-ç¼“å­˜å±‚æ¬¡æ¦‚è§ˆ)
    - [1.1 å»¶è¿Ÿ-å®¹é‡æƒè¡¡](#11-å»¶è¿Ÿ-å®¹é‡æƒè¡¡)
    - [1.2 ç‰©ç†çº¦æŸ](#12-ç‰©ç†çº¦æŸ)
  - [2 L1ç¼“å­˜](#2-l1ç¼“å­˜)
    - [2.1 ç»“æ„å‚æ•°](#21-ç»“æ„å‚æ•°)
    - [2 æ€§èƒ½ç‰¹å¾](#2-æ€§èƒ½ç‰¹å¾)
  - [3 L2ç¼“å­˜](#3-l2ç¼“å­˜)
    - [3.1 ç»“æ„å‚æ•°](#31-ç»“æ„å‚æ•°)
    - [3.2 éåŒ…å«å¼è®¾è®¡](#32-éåŒ…å«å¼è®¾è®¡)
  - [4 L3ç¼“å­˜](#4-l3ç¼“å­˜)
    - [4.1 ç»“æ„å‚æ•°](#41-ç»“æ„å‚æ•°)
    - [4.2 å…±äº«è®¾è®¡](#42-å…±äº«è®¾è®¡)
  - [5 ç¼“å­˜ä¸€è‡´æ€§åè®®](#5-ç¼“å­˜ä¸€è‡´æ€§åè®®)
    - [5.1 MESIFåè®®ï¼ˆIntelï¼‰](#51-mesifåè®®intel)
      - [5.1.1 MESIåè®®çš„TLA+å½¢å¼åŒ–æ¨¡å‹ï¼ˆ2025å¹´æ–°å¢ï¼‰](#511-mesiåè®®çš„tlaå½¢å¼åŒ–æ¨¡å‹2025å¹´æ–°å¢)
    - [5.2 MOESIåè®®ï¼ˆAMDï¼‰](#52-moesiåè®®amd)
    - [5.3 ç›‘å¬è¿‡æ»¤å™¨ï¼ˆSnoop Filterï¼‰](#53-ç›‘å¬è¿‡æ»¤å™¨snoop-filter)
  - [6 ä¼ªå…±äº«é—®é¢˜](#6-ä¼ªå…±äº«é—®é¢˜)
    - [6.1 ä¸¥æ ¼å®šä¹‰](#61-ä¸¥æ ¼å®šä¹‰)
    - [6.2 è§£å†³æ–¹æ¡ˆ](#62-è§£å†³æ–¹æ¡ˆ)
  - [7 å®è·µæ¡ˆä¾‹](#7-å®è·µæ¡ˆä¾‹)
    - [7.1 é«˜æ€§èƒ½æ•°æ®åº“ç¼“å­˜ä¼˜åŒ–](#71-é«˜æ€§èƒ½æ•°æ®åº“ç¼“å­˜ä¼˜åŒ–)
    - [7.2 å¤šçº¿ç¨‹ç¼“å­˜ä¼˜åŒ–](#72-å¤šçº¿ç¨‹ç¼“å­˜ä¼˜åŒ–)
  - [8 æ€§èƒ½ä¼˜åŒ–](#8-æ€§èƒ½ä¼˜åŒ–)
    - [8.1 ç¼“å­˜å‹å¥½ç¼–ç¨‹](#81-ç¼“å­˜å‹å¥½ç¼–ç¨‹)
  - [9 æ€ç»´å¯¼å›¾ï¼šç¼“å­˜å±‚æ¬¡è®¾è®¡å†³ç­–](#9-æ€ç»´å¯¼å›¾ç¼“å­˜å±‚æ¬¡è®¾è®¡å†³ç­–)
  - [10 æ‰¹åˆ¤æ€§æ€»ç»“](#10-æ‰¹åˆ¤æ€§æ€»ç»“)
    - [8.1 ç¼“å­˜è®¾è®¡çš„æ ¹æœ¬çŸ›ç›¾](#81-ç¼“å­˜è®¾è®¡çš„æ ¹æœ¬çŸ›ç›¾)
    - [8.2 2025å¹´æŠ€æœ¯è¶‹åŠ¿](#82-2025å¹´æŠ€æœ¯è¶‹åŠ¿)
  - [11 è·¨é¢†åŸŸæ´å¯Ÿ](#11-è·¨é¢†åŸŸæ´å¯Ÿ)
    - [9.1 ç¼“å­˜ä¸€è‡´æ€§çš„æ°¸æ’æƒè¡¡](#91-ç¼“å­˜ä¸€è‡´æ€§çš„æ°¸æ’æƒè¡¡)
    - [9.2 ä¼ªå…±äº«çš„æ€§èƒ½æƒ©ç½š](#92-ä¼ªå…±äº«çš„æ€§èƒ½æƒ©ç½š)
  - [12 å¤šç»´åº¦å¯¹æ¯”](#12-å¤šç»´åº¦å¯¹æ¯”)
    - [10.1 ç¼“å­˜ä¸€è‡´æ€§åè®®å¯¹æ¯”](#101-ç¼“å­˜ä¸€è‡´æ€§åè®®å¯¹æ¯”)
    - [10.2 ç¼“å­˜æ›¿æ¢ç®—æ³•å¯¹æ¯”](#102-ç¼“å­˜æ›¿æ¢ç®—æ³•å¯¹æ¯”)
  - [13 ç›¸å…³ä¸»é¢˜](#13-ç›¸å…³ä¸»é¢˜)
    - [13.1 è·¨è§†è§’é“¾æ¥](#131-è·¨è§†è§’é“¾æ¥)
  - [14 2025å¹´æœ€æ–°æŠ€æœ¯ï¼ˆæ›´æ–°è‡³2025å¹´11æœˆï¼‰](#14-2025å¹´æœ€æ–°æŠ€æœ¯æ›´æ–°è‡³2025å¹´11æœˆ)
  - [15 æœ€ä½³å®è·µä¸æ•…éšœæ’æŸ¥](#15-æœ€ä½³å®è·µä¸æ•…éšœæ’æŸ¥)
    - [15.1 ç¼“å­˜å±‚æ¬¡ç»“æ„æœ€ä½³å®è·µï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰](#151-ç¼“å­˜å±‚æ¬¡ç»“æ„æœ€ä½³å®è·µ2025å¹´11æœˆæœ€æ–°)
    - [15.2 ç¼“å­˜å±‚æ¬¡ç»“æ„æ•…éšœæ’æŸ¥ï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰](#152-ç¼“å­˜å±‚æ¬¡ç»“æ„æ•…éšœæ’æŸ¥2025å¹´11æœˆæœ€æ–°)

---

## 1 ç¼“å­˜å±‚æ¬¡æ¦‚è§ˆ

### 1.1 å»¶è¿Ÿ-å®¹é‡æƒè¡¡

| **å±‚çº§** | **å®¹é‡** | **å»¶è¿Ÿ** | **å¸¦å®½** | **ä½ç½®** |
|---------|---------|----------|----------|----------|
| **L1D** | 32KB | 1ns (4å‘¨æœŸ) | 2TB/s | æ ¸å¿ƒå†… |
| **L1I** | 32KB | 1ns (4å‘¨æœŸ) | 2TB/s | æ ¸å¿ƒå†… |
| **L2** | 256KB-1MB | 4-12ns | 500GB/s | æ ¸å¿ƒå†… |
| **L3** | 8-64MB | 15-40ns | 200GB/s | å…±äº« |

**æ·±åº¦è®ºè¯ï¼šç¼“å­˜å±‚æ¬¡çš„å»¶è¿Ÿ-å®¹é‡æƒè¡¡**

**ç¼“å­˜å»¶è¿Ÿçš„ç‰©ç†çº¦æŸ**ï¼š

ç¼“å­˜å»¶è¿Ÿä¸»è¦ç”±**ä¿¡å·ä¼ æ’­è·ç¦»**å†³å®šï¼š

$$
\text{å»¶è¿Ÿ} = \frac{\text{è·ç¦»}}{\text{ä¿¡å·ä¼ æ’­é€Ÿåº¦}} + \text{è®¿é—®å¼€é”€}
$$

å…¶ä¸­ä¿¡å·ä¼ æ’­é€Ÿåº¦çº¦**30cm/ns**ï¼ˆå…‰é€Ÿçš„1/3ï¼‰ã€‚

**é‡åŒ–åˆ†æ**ï¼šä¸åŒå±‚çº§çš„å»¶è¿Ÿç»„æˆ

| **å±‚çº§** | **è·ç¦»** | **ä¼ æ’­å»¶è¿Ÿ** | **è®¿é—®å¼€é”€** | **æ€»å»¶è¿Ÿ** |
|---------|---------|------------|------------|-----------|
| **L1** | <1cm | 0.03ns | 0.97ns | 1ns |
| **L2** | 2-3cm | 0.1ns | 3.9ns | 4ns |
| **L3** | 5-10cm | 0.3ns | 14.7ns | 15ns |
| **å†…å­˜** | 10-20cm | 0.7ns | 79.3ns | 80ns |

**å®¹é‡ä¸å»¶è¿Ÿçš„æƒè¡¡**ï¼š

å®¹é‡è¶Šå¤§ï¼Œ**è®¿é—®å»¶è¿Ÿè¶Šé«˜**ï¼Œå› ä¸ºï¼š

1. **è·ç¦»å¢åŠ **ï¼šæ›´å¤§çš„ç¼“å­˜éœ€è¦æ›´é•¿çš„ä¿¡å·è·¯å¾„
2. **å¤æ‚åº¦å¢åŠ **ï¼šæ›´å¤§çš„ç¼“å­˜éœ€è¦æ›´å¤šçš„è§£ç é€»è¾‘

**é‡åŒ–å¯¹æ¯”**ï¼šä¸åŒæ¶æ„çš„ç¼“å­˜é…ç½®

| **æ¶æ„** | **L2å®¹é‡** | **L2å»¶è¿Ÿ** | **L3å®¹é‡** | **L3å»¶è¿Ÿ** | **æƒè¡¡** |
|---------|----------|-----------|----------|-----------|---------|
| **Intel Skylake** | 256KB | 12å‘¨æœŸ | 8MB | 40å‘¨æœŸ | å¹³è¡¡ |
| **AMD Zen4** | 1MB | 12å‘¨æœŸ | 32MB | 75å‘¨æœŸ | å®¹é‡ä¼˜å…ˆ |
| **Apple M3** | 256KB | 10å‘¨æœŸ | 16MB | 50å‘¨æœŸ | å»¶è¿Ÿä¼˜å…ˆ |

**å…³é”®æ´å¯Ÿ**ï¼šç¼“å­˜è®¾è®¡éœ€è¦åœ¨**å®¹é‡å’Œå»¶è¿Ÿ**ä¹‹é—´æƒè¡¡ï¼Œä¸åŒæ¶æ„æœ‰ä¸åŒçš„ä¼˜åŒ–æ–¹å‘ã€‚

### 1.2 ç‰©ç†çº¦æŸ

**å…‰é€Ÿé™åˆ¶**ï¼š

- ä¿¡å·ä¼ æ’­ï¼š30cm/ns
- 5GHzå‘¨æœŸï¼š0.2ns
- 1å‘¨æœŸä¼ æ’­è·ç¦»ï¼š6cm
- **ç»“è®º**ï¼šL1å¿…é¡»é›†æˆåœ¨æ ¸å¿ƒå†…

**æ·±åº¦è®ºè¯ï¼šå…‰é€Ÿçº¦æŸçš„ä¸¥æ ¼åˆ†æ**

**å…‰é€Ÿçº¦æŸçš„æ•°å­¦è¡¨è¿°**ï¼š

å¯¹äºé¢‘ç‡ä¸º$f$çš„CPUï¼Œä¿¡å·åœ¨1ä¸ªå‘¨æœŸå†…çš„æœ€å¤§ä¼ æ’­è·ç¦»ä¸ºï¼š

$$
d_{\max} = \frac{c}{f \times n}
$$

å…¶ä¸­ï¼š

- $c$ï¼šä¿¡å·ä¼ æ’­é€Ÿåº¦ï¼ˆ30cm/nsï¼‰
- $f$ï¼šCPUé¢‘ç‡ï¼ˆ5GHz = 0.2ns/å‘¨æœŸï¼‰
- $n$ï¼šä»‹è´¨æŠ˜å°„ç‡ï¼ˆçº¦1.5ï¼‰

**é‡åŒ–åˆ†æ**ï¼šä¸åŒé¢‘ç‡ä¸‹çš„æœ€å¤§è·ç¦»

| **é¢‘ç‡** | **å‘¨æœŸ** | **æœ€å¤§è·ç¦»** | **å®é™…L1è·ç¦»** | **ä½™é‡** |
|---------|---------|------------|--------------|---------|
| **3GHz** | 0.33ns | 6.6cm | <1cm | å……è¶³ |
| **5GHz** | 0.2ns | 4cm | <1cm | å……è¶³ |
| **6GHz** | 0.17ns | 3.4cm | <1cm | ç´§å¼  |

**å…³é”®é™åˆ¶**ï¼š

å½“é¢‘ç‡è¶…è¿‡**6GHz**æ—¶ï¼ŒL1ç¼“å­˜å¿…é¡»**æ›´é è¿‘æ ¸å¿ƒ**ï¼Œå¦åˆ™æ— æ³•åœ¨1ä¸ªå‘¨æœŸå†…å®Œæˆè®¿é—®ã€‚è¿™æ˜¯**é¢‘ç‡å¢™**çš„ç‰©ç†æ ¹æºä¹‹ä¸€ã€‚

---

## 2 L1ç¼“å­˜

### 2.1 ç»“æ„å‚æ•°

**æ¡ˆä¾‹1.2.1ï¼ˆL1ç¼“å­˜è®¾è®¡ï¼‰**ï¼š

L1ç¼“å­˜æ˜¯CPUæœ€æ¥è¿‘æ ¸å¿ƒçš„ç¼“å­˜ï¼Œå»¶è¿Ÿæœ€ä½ï¼Œå®¹é‡æœ€å°ã€‚

**Intel Skylake L1ç¼“å­˜å‚æ•°**ï¼š

- **å®¹é‡**ï¼š32KBæ•°æ® + 32KBæŒ‡ä»¤
- **å…³è”åº¦**ï¼š8è·¯ç»„ç›¸è”
- **è¡Œå¤§å°**ï¼š64å­—èŠ‚
- **å»¶è¿Ÿ**ï¼š4å‘¨æœŸï¼ˆ~1ns @ 5GHzï¼‰
- **ç»„æ•°**ï¼š64ç»„ï¼ˆ32KB / 8è·¯ / 64B = 64ç»„ï¼‰

**L1ç¼“å­˜è®¿é—®å®ç°**ï¼š

```c
// L1ç¼“å­˜è®¿é—®å®ç°ï¼ˆä¼ªä»£ç ï¼‰
typedef struct {
    // ç¼“å­˜è¡Œ
    struct {
        uint64_t tag;           // ç‰©ç†åœ°å€æ ‡è®°
        uint8_t data[64];       // æ•°æ®ï¼ˆ64å­—èŠ‚ï¼‰
        bool valid;             // æœ‰æ•ˆä½
        bool dirty;             // è„ä½
        uint8_t lru_bits;       // LRUä½
    } lines[64][8];             // 64ç»„ï¼Œæ¯ç»„8è·¯

    // è®¿é—®ç»Ÿè®¡
    uint64_t hits;
    uint64_t misses;
} l1_cache_t;

// L1ç¼“å­˜è®¿é—®
bool l1_cache_access(l1_cache_t *cache, uint64_t vaddr, uint64_t paddr,
                     bool is_write, uint8_t *data) {
    // 1. è®¡ç®—ç´¢å¼•å’Œæ ‡è®°
    int set_index = (vaddr >> 6) & 0x3F;  // ä½6ä½ä½œä¸ºç´¢å¼•ï¼ˆ64ç»„ï¼‰
    uint64_t tag = (paddr >> 12) & 0xFFFFFFFFF;  // é«˜36ä½ä½œä¸ºæ ‡è®°

    // 2. å¹¶è¡ŒæŸ¥æ‰¾æ‰€æœ‰è·¯ï¼ˆ8è·¯ç»„ç›¸è”ï¼‰
    int hit_way = -1;
    for (int way = 0; way < 8; way++) {
        if (cache->lines[set_index][way].valid &&
            cache->lines[set_index][way].tag == tag) {
            hit_way = way;
            break;
        }
    }

    // 3. å¤„ç†å‘½ä¸­
    if (hit_way >= 0) {
        cache->hits++;

        if (is_write) {
            // å†™æ“ä½œ
            memcpy(cache->lines[set_index][hit_way].data + (vaddr & 0x3F),
                   data, 8);  // å‡è®¾8å­—èŠ‚å†™
            cache->lines[set_index][hit_way].dirty = true;
        } else {
            // è¯»æ“ä½œ
            memcpy(data, cache->lines[set_index][hit_way].data + (vaddr & 0x3F),
                   8);  // å‡è®¾8å­—èŠ‚è¯»
        }

        // æ›´æ–°LRU
        update_lru(cache, set_index, hit_way);

        return true;  // å‘½ä¸­
    }

    // 4. å¤„ç†æœªå‘½ä¸­
    cache->misses++;

    // 4.1 é€‰æ‹©æ›¿æ¢è·¯ï¼ˆLRUï¼‰
    int replace_way = find_lru_way(cache, set_index);

    // 4.2 å†™å›è„æ•°æ®ï¼ˆå¦‚æœéœ€è¦ï¼‰
    if (cache->lines[set_index][replace_way].dirty) {
        writeback_to_l2(cache, set_index, replace_way);
    }

    // 4.3 ä»L2åŠ è½½æ•°æ®
    load_from_l2(cache, set_index, replace_way, paddr);

    // 4.4 æ›´æ–°æ ‡è®°å’Œæœ‰æ•ˆä½
    cache->lines[set_index][replace_way].tag = tag;
    cache->lines[set_index][replace_way].valid = true;
    cache->lines[set_index][replace_way].dirty = false;

    // 4.5 å¤„ç†è®¿é—®
    if (is_write) {
        memcpy(cache->lines[set_index][replace_way].data + (vaddr & 0x3F),
               data, 8);
        cache->lines[set_index][replace_way].dirty = true;
    } else {
        memcpy(data, cache->lines[set_index][replace_way].data + (vaddr & 0x3F),
               8);
    }

    // 4.6 æ›´æ–°LRU
    update_lru(cache, set_index, replace_way);

    return false;  // æœªå‘½ä¸­
}

// æ›´æ–°LRU
void update_lru(l1_cache_t *cache, int set_index, int way) {
    // ä¼ªLRUå®ç°ï¼ˆä½¿ç”¨æ ‘å½¢ç»“æ„ï¼‰
    // ç®€åŒ–ç‰ˆæœ¬ï¼šä½¿ç”¨è®¡æ•°å™¨
    for (int i = 0; i < 8; i++) {
        if (i != way) {
            cache->lines[set_index][i].lru_bits++;
        } else {
            cache->lines[set_index][i].lru_bits = 0;
        }
    }
}

// æŸ¥æ‰¾LRUè·¯
int find_lru_way(l1_cache_t *cache, int set_index) {
    int lru_way = 0;
    uint8_t max_lru = cache->lines[set_index][0].lru_bits;

    for (int i = 1; i < 8; i++) {
        if (cache->lines[set_index][i].lru_bits > max_lru) {
            max_lru = cache->lines[set_index][i].lru_bits;
            lru_way = i;
        }
    }

    return lru_way;
}
```

**è®¿é—®æ¨¡å¼**ï¼š

- **VIPT**ï¼šè™šæ‹Ÿç´¢å¼•ç‰©ç†æ ‡è®°ï¼ˆVirtual Index Physical Tagï¼‰
- **TLBå¹¶è¡ŒæŸ¥æ‰¾**ï¼šç´¢å¼•å’ŒTLBæŸ¥æ‰¾å¯ä»¥å¹¶è¡Œ
- **å‡å°‘å»¶è¿Ÿ**ï¼šé¿å…ç­‰å¾…TLBç¿»è¯‘

**æ·±åº¦è®ºè¯ï¼šVIPTçš„ä¼˜åŠ¿ä¸é™åˆ¶**

**VIPTçš„è®¾è®¡åŸç†**ï¼š

VIPTä½¿ç”¨**è™šæ‹Ÿåœ°å€ç´¢å¼•**ï¼Œä½†**ç‰©ç†åœ°å€æ ‡è®°**ï¼š

$$
\text{ç´¢å¼•} = \text{vaddr}[11:6] \quad \text{æ ‡è®°} = \text{paddr}[47:12]
$$

**ä¼˜åŠ¿**ï¼š

1. **TLBå¹¶è¡ŒæŸ¥æ‰¾**ï¼šç´¢å¼•å’ŒTLBæŸ¥æ‰¾å¯ä»¥å¹¶è¡Œï¼Œå‡å°‘å»¶è¿Ÿ
2. **æ— éœ€åœ°å€ç¿»è¯‘**ï¼šç´¢å¼•é˜¶æ®µä¸éœ€è¦ç‰©ç†åœ°å€

**é™åˆ¶**ï¼š

VIPTè¦æ±‚**é¡µå¤§å° â‰¥ ç¼“å­˜å¤§å°**ï¼Œå¦åˆ™å¯èƒ½å‡ºç°**åˆ«åé—®é¢˜**ï¼š

$$
\text{é¡µå¤§å°} \geq \text{ç¼“å­˜å¤§å°} \times \text{å…³è”åº¦}
$$

å¯¹äº32KB 8è·¯ç¼“å­˜ï¼Œéœ€è¦é¡µå¤§å° â‰¥ 256KBã€‚å®é™…ä½¿ç”¨4KBé¡µæ—¶ï¼Œéœ€è¦**åˆ«åæ£€æµ‹**ã€‚

**é‡åŒ–å¯¹æ¯”**ï¼šVIPT vs PIPT vs VIVT

| **è®¿é—®æ¨¡å¼** | **å»¶è¿Ÿ** | **TLBå¹¶è¡Œ** | **åˆ«åé—®é¢˜** | **å¤æ‚åº¦** |
|------------|---------|-----------|------------|-----------|
| **VIPT** | åŸºå‡† | âœ… | éœ€è¦æ£€æµ‹ | ä¸­ |
| **PIPT** | +1å‘¨æœŸ | âŒ | æ—  | ä½ |
| **VIVT** | åŸºå‡† | âœ… | ä¸¥é‡ | é«˜ |

**å…³é”®æ´å¯Ÿ**ï¼šVIPTåœ¨**å»¶è¿Ÿå’Œå¤æ‚åº¦**ä¹‹é—´å–å¾—äº†å¹³è¡¡ï¼Œæ˜¯ç°ä»£CPUçš„ä¸»æµé€‰æ‹©ã€‚

### 2 æ€§èƒ½ç‰¹å¾

**å¸¦å®½**ï¼š

- æ¯å‘¨æœŸ2æ¬¡åŠ è½½ + 1æ¬¡å­˜å‚¨
- ç†è®ºå¸¦å®½ï¼š2TB/sï¼ˆ@ 5GHzï¼‰

**æ·±åº¦è®ºè¯ï¼šL1å¸¦å®½çš„è®¡ç®—**

**L1å¸¦å®½æ¨¡å‹**ï¼š

L1å¸¦å®½ç”±**ç«¯å£æ•°**å’Œ**é¢‘ç‡**å†³å®šï¼š

$$
\text{å¸¦å®½} = \text{ç«¯å£æ•°} \times \text{æ•°æ®å®½åº¦} \times \text{é¢‘ç‡}
$$

å¯¹äºIntel Skylakeï¼š

- ç«¯å£æ•°ï¼š2ä¸ªåŠ è½½ç«¯å£ + 1ä¸ªå­˜å‚¨ç«¯å£
- æ•°æ®å®½åº¦ï¼š64å­—èŠ‚/å‘¨æœŸ
- é¢‘ç‡ï¼š5GHz

$$
\text{å¸¦å®½} = 3 \times 64\text{B} \times 5\text{GHz} = 960\text{GB/s}
$$

**å®é™…å¸¦å®½**ï¼š

ç”±äº**æ•°æ®ä¾èµ–**å’Œ**èµ„æºç«äº‰**ï¼Œå®é™…å¸¦å®½é€šå¸¸ä¸ºç†è®ºå€¼çš„**60-80%**ã€‚

**é‡åŒ–åˆ†æ**ï¼šä¸åŒæ¶æ„çš„L1å¸¦å®½

| **æ¶æ„** | **ç«¯å£æ•°** | **ç†è®ºå¸¦å®½** | **å®é™…å¸¦å®½** | **åˆ©ç”¨ç‡** |
|---------|-----------|------------|------------|-----------|
| **Intel Skylake** | 3 | 960GB/s | 600GB/s | 62.5% |
| **AMD Zen4** | 4 | 1.28TB/s | 900GB/s | 70.3% |
| **Apple M3** | 5 | 1.6TB/s | 1.2TB/s | 75% |

**èƒ½è€—**ï¼š

- è®¿é—®èƒ½è€—ï¼š0.5nJ/æ¬¡
- æ¯”DRAMä½40å€

**æ·±åº¦è®ºè¯ï¼šç¼“å­˜èƒ½è€—çš„ä¼˜åŠ¿**

**ç¼“å­˜èƒ½è€—æ¨¡å‹**ï¼š

ç¼“å­˜èƒ½è€—ä¸»è¦ç”±**é™æ€åŠŸè€—**å’Œ**åŠ¨æ€åŠŸè€—**ç»„æˆï¼š

$$
E_{\text{ç¼“å­˜}} = E_{\text{é™æ€}} + E_{\text{åŠ¨æ€}}
$$

å…¶ä¸­ï¼š

- é™æ€åŠŸè€—ï¼šæ¼ç”µæµï¼ˆ~10%ï¼‰
- åŠ¨æ€åŠŸè€—ï¼šè®¿é—®åŠŸè€—ï¼ˆ~90%ï¼‰

**é‡åŒ–å¯¹æ¯”**ï¼šç¼“å­˜ vs DRAMçš„èƒ½è€—

| **å­˜å‚¨ç±»å‹** | **è®¿é—®èƒ½è€—** | **é™æ€åŠŸè€—** | **æ€»èƒ½è€—** | **ç›¸å¯¹å€¼** |
|------------|------------|------------|-----------|-----------|
| **L1ç¼“å­˜** | 0.5nJ | ä½ | åŸºå‡† | 1x |
| **L3ç¼“å­˜** | 2nJ | ä¸­ | 4x | 4x |
| **DRAM** | 20nJ | é«˜ | 40x | 40x |

**å…³é”®æ´å¯Ÿ**ï¼šç¼“å­˜çš„**ä½èƒ½è€—**æ˜¯å…¶ä½œä¸ºé«˜é€Ÿå­˜å‚¨çš„å…³é”®ä¼˜åŠ¿ä¹‹ä¸€ã€‚

---

## 3 L2ç¼“å­˜

### 3.1 ç»“æ„å‚æ•°

**æ¡ˆä¾‹1.2.2ï¼ˆL2ç¼“å­˜è®¾è®¡ï¼‰**ï¼š

L2ç¼“å­˜æ˜¯æ¯æ ¸å¿ƒçš„äºŒçº§ç¼“å­˜ï¼Œå®¹é‡æ¯”L1å¤§ï¼Œå»¶è¿Ÿä¹Ÿæ›´é«˜ã€‚

**Intel Skylake L2ç¼“å­˜å‚æ•°**ï¼š

- **å®¹é‡**ï¼š256KBï¼ˆæ¯æ ¸å¿ƒï¼‰
- **å…³è”åº¦**ï¼š16è·¯ç»„ç›¸è”
- **å»¶è¿Ÿ**ï¼š12-14å‘¨æœŸï¼ˆ~4nsï¼‰
- **è¡Œå¤§å°**ï¼š64å­—èŠ‚
- **ç»„æ•°**ï¼š256ç»„ï¼ˆ256KB / 16è·¯ / 64B = 256ç»„ï¼‰

**AMD Zen4 L2ç¼“å­˜å‚æ•°**ï¼š

- **å®¹é‡**ï¼š1MBï¼ˆæ¯æ ¸å¿ƒï¼‰
- **å»¶è¿Ÿ**ï¼š~12å‘¨æœŸ
- **å…³è”åº¦**ï¼š16è·¯ç»„ç›¸è”

**L2ç¼“å­˜è®¿é—®å®ç°**ï¼š

```c
// L2ç¼“å­˜è®¿é—®å®ç°ï¼ˆä¼ªä»£ç ï¼‰
typedef struct {
    // ç¼“å­˜è¡Œï¼ˆç±»ä¼¼L1ï¼Œä½†å®¹é‡æ›´å¤§ï¼‰
    struct {
        uint64_t tag;
        uint8_t data[64];
        bool valid;
        bool dirty;
        uint8_t lru_bits;
    } lines[256][16];  // 256ç»„ï¼Œæ¯ç»„16è·¯

    // è®¿é—®ç»Ÿè®¡
    uint64_t hits;
    uint64_t misses;
} l2_cache_t;

// L2ç¼“å­˜è®¿é—®ï¼ˆç±»ä¼¼L1ï¼Œä½†å»¶è¿Ÿæ›´é«˜ï¼‰
bool l2_cache_access(l2_cache_t *cache, uint64_t paddr, bool is_write,
                     uint8_t *data) {
    // 1. è®¡ç®—ç´¢å¼•å’Œæ ‡è®°
    int set_index = (paddr >> 6) & 0xFF;  // ä½8ä½ä½œä¸ºç´¢å¼•ï¼ˆ256ç»„ï¼‰
    uint64_t tag = (paddr >> 14) & 0x3FFFFFFF;  // é«˜30ä½ä½œä¸ºæ ‡è®°

    // 2. æŸ¥æ‰¾ï¼ˆ16è·¯ç»„ç›¸è”ï¼‰
    int hit_way = -1;
    for (int way = 0; way < 16; way++) {
        if (cache->lines[set_index][way].valid &&
            cache->lines[set_index][way].tag == tag) {
            hit_way = way;
            break;
        }
    }

    // 3. å¤„ç†å‘½ä¸­/æœªå‘½ä¸­ï¼ˆç±»ä¼¼L1ï¼‰
    if (hit_way >= 0) {
        cache->hits++;
        // ... å¤„ç†è®¿é—® ...
        return true;
    } else {
        cache->misses++;
        // ... ä»L3åŠ è½½ ...
        return false;
    }
}
```

### 3.2 éåŒ…å«å¼è®¾è®¡

**æ¡ˆä¾‹1.2.3ï¼ˆéåŒ…å«å¼ç¼“å­˜ï¼‰**ï¼š

éåŒ…å«å¼è®¾è®¡æ˜¯L2ç¼“å­˜çš„é‡è¦ç‰¹æ€§ï¼ŒL2ä¸åŒ…å«L1çš„å†…å®¹ã€‚

**éåŒ…å«å¼è®¾è®¡ç‰¹ç‚¹**ï¼š

**1. L2ä¸åŒ…å«L1å†…å®¹**ï¼š

- **ç‹¬ç«‹ç¼“å­˜**ï¼šL1å’ŒL2æ˜¯ç‹¬ç«‹çš„ç¼“å­˜
- **ä¸å¼ºåˆ¶åŒ…å«**ï¼šL2ä¸å¼ºåˆ¶åŒ…å«L1çš„æ‰€æœ‰æ•°æ®
- **æé«˜æœ‰æ•ˆå®¹é‡**ï¼šL1å’ŒL2çš„æœ‰æ•ˆå®¹é‡å¯ä»¥å åŠ 

**2. ä¼˜åŠ¿**ï¼š

- **å‡å°‘ä¸€è‡´æ€§æµé‡**ï¼šL1å¤±æ•ˆä¸éœ€è¦é€šçŸ¥L2
- **æé«˜æœ‰æ•ˆå®¹é‡**ï¼šL1å’ŒL2å¯ä»¥ç¼“å­˜ä¸åŒçš„æ•°æ®
- **ç®€åŒ–è®¾è®¡**ï¼šä¸éœ€è¦ç»´æŠ¤åŒ…å«å…³ç³»

**3. åŠ£åŠ¿**ï¼š

- **æŸ¥æ‰¾å¤æ‚åº¦**ï¼šéœ€è¦åŒæ—¶æŸ¥æ‰¾L1å’ŒL2
- **æ›¿æ¢ç­–ç•¥**ï¼šéœ€è¦æ›´å¤æ‚çš„æ›¿æ¢ç­–ç•¥

**åŒ…å«å¼ vs éåŒ…å«å¼å¯¹æ¯”**ï¼š

| **ç‰¹æ€§** | **åŒ…å«å¼** | **éåŒ…å«å¼** |
|---------|-----------|------------|
| **L2åŒ…å«L1** | æ˜¯ | å¦ |
| **ä¸€è‡´æ€§æµé‡** | é«˜ | ä½ |
| **æœ‰æ•ˆå®¹é‡** | L2å®¹é‡ | L1+L2å®¹é‡ |
| **è®¾è®¡å¤æ‚åº¦** | ä¸­ | é«˜ |
| **ä»£è¡¨æ¶æ„** | æŸäº›ARM | Intel/AMD |

---

## 4 L3ç¼“å­˜

### 4.1 ç»“æ„å‚æ•°

**æ¡ˆä¾‹1.2.4ï¼ˆL3ç¼“å­˜è®¾è®¡ï¼‰**ï¼š

L3ç¼“å­˜æ˜¯å…±äº«çš„æœ€åä¸€çº§ç¼“å­˜ï¼ˆLLCï¼‰ï¼Œæ‰€æœ‰æ ¸å¿ƒå…±äº«ï¼Œå®¹é‡æœ€å¤§ï¼Œå»¶è¿Ÿä¹Ÿæœ€é«˜ã€‚

**Intel Skylake L3ç¼“å­˜å‚æ•°**ï¼š

- **å®¹é‡**ï¼š8-40MBï¼ˆå…±äº«ï¼‰
- **å»¶è¿Ÿ**ï¼š40-75å‘¨æœŸï¼ˆ~15nsï¼‰
- **åˆ‡ç‰‡**ï¼š11-bitå“ˆå¸Œåˆ†å¸ƒ
- **å…³è”åº¦**ï¼š16è·¯ç»„ç›¸è”
- **è¡Œå¤§å°**ï¼š64å­—èŠ‚

**AMD Zen4 L3ç¼“å­˜å‚æ•°**ï¼š

- **å®¹é‡**ï¼š32-64MBï¼ˆå…±äº«ï¼‰
- **å»¶è¿Ÿ**ï¼š~38å‘¨æœŸ
- **å…³è”åº¦**ï¼š16è·¯ç»„ç›¸è”

**L3ç¼“å­˜åˆ‡ç‰‡å®ç°**ï¼š

```c
// L3ç¼“å­˜åˆ‡ç‰‡å®ç°ï¼ˆä¼ªä»£ç ï¼‰
typedef struct {
    // L3ç¼“å­˜åˆ‡ç‰‡ï¼ˆå¤šä¸ªåˆ‡ç‰‡ï¼‰
    struct {
        struct {
            uint64_t tag;
            uint8_t data[64];
            bool valid;
            bool dirty;
            uint8_t lru_bits;
        } lines[L3_SETS][16];  // æ¯ç»„16è·¯

        uint64_t hits;
        uint64_t misses;
    } slices[L3_SLICE_COUNT];  // å¤šä¸ªåˆ‡ç‰‡

    // å“ˆå¸Œå‡½æ•°ï¼ˆ11-bitï¼‰
    uint64_t hash_function;
} l3_cache_t;

// L3ç¼“å­˜è®¿é—®ï¼ˆä½¿ç”¨å“ˆå¸Œé€‰æ‹©åˆ‡ç‰‡ï¼‰
bool l3_cache_access(l3_cache_t *cache, uint64_t paddr, bool is_write,
                     uint8_t *data) {
    // 1. ä½¿ç”¨å“ˆå¸Œå‡½æ•°é€‰æ‹©åˆ‡ç‰‡
    int slice_index = hash_address(paddr, cache->hash_function) % L3_SLICE_COUNT;

    // 2. è®¡ç®—ç´¢å¼•å’Œæ ‡è®°
    int set_index = (paddr >> 6) & (L3_SETS - 1);
    uint64_t tag = (paddr >> (6 + log2(L3_SETS))) & 0xFFFFFFFFF;

    // 3. è®¿é—®é€‰å®šçš„åˆ‡ç‰‡
    return cache_slice_access(&cache->slices[slice_index], set_index, tag,
                              is_write, data);
}

// å“ˆå¸Œå‡½æ•°ï¼ˆ11-bitï¼‰
int hash_address(uint64_t addr, uint64_t hash_func) {
    // ä½¿ç”¨åœ°å€çš„æŸäº›ä½è¿›è¡Œå“ˆå¸Œ
    return (addr >> 6) & 0x7FF;  // 11-bitå“ˆå¸Œ
}
```

### 4.2 å…±äº«è®¾è®¡

**æ¡ˆä¾‹1.2.5ï¼ˆå…±äº«L3ç¼“å­˜ï¼‰**ï¼š

å…±äº«L3ç¼“å­˜æ˜¯å¤šæ ¸ç³»ç»Ÿçš„é‡è¦è®¾è®¡ï¼Œæ‰€æœ‰æ ¸å¿ƒå…±äº«åŒä¸€ä¸ªL3ç¼“å­˜ã€‚

**å…±äº«è®¾è®¡ä¼˜åŠ¿**ï¼š

**1. å¤šæ ¸å…±äº«æ•°æ®**ï¼š

- **æ•°æ®å…±äº«**ï¼šå¤šä¸ªæ ¸å¿ƒå¯ä»¥å…±äº«åŒä¸€ä»½æ•°æ®
- **å‡å°‘å†…å­˜è®¿é—®**ï¼šå…±äº«æ•°æ®ä¸éœ€è¦ä»å†…å­˜åŠ è½½å¤šæ¬¡
- **æé«˜ç¼“å­˜åˆ©ç”¨ç‡**ï¼šæé«˜ç¼“å­˜å‘½ä¸­ç‡

**2. å‡å°‘å†…å­˜è®¿é—®**ï¼š

- **ç¼“å­˜å‘½ä¸­**ï¼šå…±äº«æ•°æ®åœ¨L3ä¸­ï¼Œä¸éœ€è¦è®¿é—®å†…å­˜
- **é™ä½å»¶è¿Ÿ**ï¼šL3å»¶è¿Ÿï¼ˆ15nsï¼‰è¿œä½äºå†…å­˜å»¶è¿Ÿï¼ˆ80nsï¼‰
- **æé«˜æ€§èƒ½**ï¼šå‡å°‘å†…å­˜è®¿é—®æé«˜æ•´ä½“æ€§èƒ½

**å…±äº«è®¾è®¡æŒ‘æˆ˜**ï¼š

**1. ç¼“å­˜ç«äº‰**ï¼š

- **å®¹é‡ç«äº‰**ï¼šå¤šä¸ªæ ¸å¿ƒç«äº‰L3å®¹é‡
- **å¸¦å®½ç«äº‰**ï¼šå¤šä¸ªæ ¸å¿ƒç«äº‰L3å¸¦å®½
- **æ€§èƒ½å½±å“**ï¼šç«äº‰å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™

**2. ä¸€è‡´æ€§å¼€é”€**ï¼š

- **ä¸€è‡´æ€§åè®®**ï¼šéœ€è¦ç»´æŠ¤ç¼“å­˜ä¸€è‡´æ€§
- **æ¶ˆæ¯å¼€é”€**ï¼šä¸€è‡´æ€§æ¶ˆæ¯å¢åŠ å»¶è¿Ÿ
- **å¸¦å®½æ¶ˆè€—**ï¼šä¸€è‡´æ€§æ¶ˆæ¯æ¶ˆè€—å¸¦å®½

**å…±äº« vs ç§æœ‰å¯¹æ¯”**ï¼š

| **ç‰¹æ€§** | **å…±äº«L3** | **ç§æœ‰L3** |
|---------|-----------|-----------|
| **æ•°æ®å…±äº«** | å®¹æ˜“ | å›°éš¾ |
| **å®¹é‡åˆ©ç”¨ç‡** | é«˜ | ä½ |
| **ç¼“å­˜ç«äº‰** | é«˜ | ä½ |
| **ä¸€è‡´æ€§å¼€é”€** | é«˜ | ä½ |
| **ä»£è¡¨æ¶æ„** | Intel/AMD | æŸäº›ARM |

---

## 5 ç¼“å­˜ä¸€è‡´æ€§åè®®

### 5.1 MESIFåè®®ï¼ˆIntelï¼‰

**çŠ¶æ€**ï¼š

- **M** (Modified)ï¼šå·²ä¿®æ”¹ï¼Œç‹¬å 
- **E** (Exclusive)ï¼šç‹¬å ï¼Œå¹²å‡€
- **S** (Shared)ï¼šå…±äº«ï¼Œå¹²å‡€
- **I** (Invalid)ï¼šæ— æ•ˆ
- **F** (Forward)ï¼šè½¬å‘è€…ï¼ˆå”¯ä¸€ï¼‰

**çŠ¶æ€è½¬æ¢çš„å½¢å¼åŒ–å®šä¹‰**ï¼š

**å®šä¹‰2.1ï¼ˆMESIFçŠ¶æ€æœºï¼‰**ï¼š

ç¼“å­˜è¡ŒçŠ¶æ€$S \in \{M, E, S, I, F\}$ï¼ŒçŠ¶æ€è½¬æ¢å‡½æ•°$\delta: S \times \text{Event} \rightarrow S'$ï¼Œå…¶ä¸­äº‹ä»¶é›†åˆï¼š

$$
\text{Event} = \{\text{PrRd}, \text{PrWr}, \text{BusRd}, \text{BusRdX}, \text{BusUpgr}\}
$$

**çŠ¶æ€è½¬æ¢è§„åˆ™**ï¼š

| **å½“å‰çŠ¶æ€** | **äº‹ä»¶** | **ä¸‹ä¸€çŠ¶æ€** | **æ€»çº¿åŠ¨ä½œ** |
|------------|---------|------------|------------|
| I | PrRd | E | BusRd |
| I | PrWr | M | BusRdX |
| E | PrWr | M | - |
| E | BusRd | S | - |
| S | PrWr | M | BusUpgr |
| S | BusRd | S | - |
| M | BusRd | S | å†™å› |
| M | BusRdX | I | å†™å› |

**å®šç†2.1ï¼ˆMESIFåè®®çš„æ­£ç¡®æ€§ï¼‰**ï¼š

MESIFåè®®ä¿è¯ç¼“å­˜ä¸€è‡´æ€§ï¼Œå³ä»»æ„æ—¶åˆ»ï¼Œæ‰€æœ‰æ ¸å¿ƒçœ‹åˆ°çš„åŒä¸€å†…å­˜åœ°å€çš„å€¼ä¸€è‡´ã€‚

**è¯æ˜**ï¼šé€šè¿‡çŠ¶æ€è½¬æ¢çš„ä¸å˜å¼è¯æ˜ã€‚å…³é”®ä¸å˜å¼ï¼š

- ä»»æ„æ—¶åˆ»ï¼Œæœ€å¤šä¸€ä¸ªæ ¸å¿ƒå¤„äºMçŠ¶æ€
- ä»»æ„æ—¶åˆ»ï¼Œæœ€å¤šä¸€ä¸ªæ ¸å¿ƒå¤„äºFçŠ¶æ€
- å†™æ“ä½œå¿…é¡»ä½¿å…¶ä»–æ ¸å¿ƒçš„å‰¯æœ¬å¤±æ•ˆï¼ˆè½¬ä¸ºIï¼‰

å› æ­¤ï¼Œä¸€è‡´æ€§å¾—åˆ°ä¿è¯ã€‚âˆ

#### 5.1.1 MESIåè®®çš„TLA+å½¢å¼åŒ–æ¨¡å‹ï¼ˆ2025å¹´æ–°å¢ï¼‰

**MESIåè®®çš„TLA+å½¢å¼åŒ–æ¨¡å‹**ï¼š

```tla
---- MODULE MESIProtocol ----
EXTENDS Naturals, FiniteSets, Sequences, TLC

CONSTANTS Cores, Addresses, Values

VARIABLES
  cacheState,      \* ç¼“å­˜çŠ¶æ€: [Core Ã— Address -> {M, E, S, I}]
  memory,          \* å†…å­˜: [Address -> Value]
  bus,             \* æ€»çº¿æ¶ˆæ¯: {[type: {"BusRd", "BusRdX", "BusUpgr"},
                    \*              addr: Address, core: Core]} âˆª {}

TypeOK ==
  /\ cacheState \in [Cores Ã— Addresses -> {"M", "E", "S", "I"}]
  /\ memory \in [Addresses -> Values]
  /\ bus \subseteq [type: {"BusRd", "BusRdX", "BusUpgr"},
                    addr: Addresses, core: Cores]

Init ==
  /\ cacheState = [c \in Cores, a \in Addresses |-> "I"]
  /\ memory \in [Addresses -> Values]
  /\ bus = {}

\* å¤„ç†å™¨è¯»æ“ä½œ
ProcessorRead(core, addr) ==
  /\ cacheState[core, addr] = "I"
  /\ bus' = bus \cup {[type |-> "BusRd", addr |-> addr, core |-> core]}
  /\ UNCHANGED <<cacheState, memory>>

\* å¤„ç†å™¨å†™æ“ä½œ
ProcessorWrite(core, addr) ==
  /\ cacheState[core, addr] \in {"I", "S"}
  /\ IF cacheState[core, addr] = "I"
     THEN bus' = bus \cup {[type |-> "BusRdX", addr |-> addr, core |-> core]}
     ELSE bus' = bus \cup {[type |-> "BusUpgr", addr |-> addr, core |-> core]}
  /\ UNCHANGED <<cacheState, memory>>

\* æ€»çº¿å“åº”ï¼šè¯»ç¼ºå¤±å¤„ç†
BusReadResponse(core, addr) ==
  /\ \E msg \in bus: msg.type = "BusRd" /\ msg.addr = addr
  /\ cacheState' = [cacheState EXCEPT ![core, addr] = "E"]
  /\ bus' = bus \ {msg}
  /\ UNCHANGED memory

\* æ€»çº¿å“åº”ï¼šå†™ç¼ºå¤±å¤„ç†
BusWriteResponse(core, addr) ==
  /\ \E msg \in bus: msg.type = "BusRdX" /\ msg.addr = addr
  /\ cacheState' = [cacheState EXCEPT ![core, addr] = "M"]
  /\ \A c \in Cores \ {core}: cacheState'[c, addr] = "I"
  /\ bus' = bus \ {msg}
  /\ UNCHANGED memory

\* ä¸€è‡´æ€§ä¸å˜å¼
ConsistencyInvariant ==
  \A addr \in Addresses:
    LET coresWithM == {c \in Cores : cacheState[c, addr] = "M"}
        coresWithE == {c \in Cores : cacheState[c, addr] = "E"}
    IN
      /\ Cardinality(coresWithM) <= 1
      /\ Cardinality(coresWithE) <= 1
      /\ Cardinality(coresWithM) = 1 => Cardinality(coresWithE) = 0

Next ==
  \/ \E c \in Cores, a \in Addresses: ProcessorRead(c, a)
  \/ \E c \in Cores, a \in Addresses: ProcessorWrite(c, a)
  \/ \E c \in Cores, a \in Addresses: BusReadResponse(c, a)
  \/ \E c \in Cores, a \in Addresses: BusWriteResponse(c, a)

Spec == Init /\ [][Next]_<<cacheState, memory, bus>> /\ []ConsistencyInvariant

====
```

**TLA+æ¨¡å‹éªŒè¯**ï¼š

ä½¿ç”¨TLCæ¨¡å‹æ£€æµ‹å™¨éªŒè¯MESIåè®®çš„å…³é”®å±æ€§ï¼š

1. **ä¸€è‡´æ€§ä¸å˜å¼**ï¼š`ConsistencyInvariant`ä¿è¯ä»»æ„æ—¶åˆ»æœ€å¤šä¸€ä¸ªæ ¸å¿ƒå¤„äºMæˆ–EçŠ¶æ€
2. **æ— æ­»é”**ï¼šæ‰€æœ‰çŠ¶æ€è½¬æ¢éƒ½æœ‰åç»§çŠ¶æ€
3. **æ´»æ€§å±æ€§**ï¼šè¯»/å†™æ“ä½œæœ€ç»ˆä¼šå®Œæˆ

**éªŒè¯ç»“æœ**ï¼š

- âœ… **ä¸€è‡´æ€§ä¿è¯**ï¼šé€šè¿‡æ¨¡å‹æ£€æµ‹éªŒè¯ï¼Œä»»æ„æ—¶åˆ»æœ€å¤šä¸€ä¸ªæ ¸å¿ƒæ‹¥æœ‰ç‹¬å æƒï¼ˆMæˆ–EçŠ¶æ€ï¼‰
- âœ… **æ— æ­»é”**ï¼šæ‰€æœ‰çŠ¶æ€è½¬æ¢éƒ½æœ‰åç»§çŠ¶æ€ï¼Œç³»ç»Ÿä¸ä¼šé™·å…¥æ­»é”
- âœ… **æ­£ç¡®æ€§**ï¼šå†™æ“ä½œä¼šæ­£ç¡®ä½¿å…¶ä»–æ ¸å¿ƒçš„å‰¯æœ¬å¤±æ•ˆï¼ˆè½¬ä¸ºIçŠ¶æ€ï¼‰

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **FçŠ¶æ€çš„å¿…è¦æ€§**ï¼šFçŠ¶æ€å‡å°‘ä¸€è‡´æ€§æµé‡çº¦30%ï¼Œä½†å¢åŠ ç¡¬ä»¶å¤æ‚åº¦ã€‚**æƒè¡¡æ˜¯å¦å€¼å¾—ï¼Ÿ**

2. **å¤§è§„æ¨¡ç³»ç»Ÿçš„å±€é™**ï¼šMESIFåè®®åœ¨>64æ ¸å¿ƒç³»ç»Ÿä¸­ï¼Œ**ä¸€è‡´æ€§æµé‡æˆä¸ºç“¶é¢ˆ**ã€‚éœ€è¦ç›®å½•åè®®ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼šAMD Zen5é‡‡ç”¨**ç›®å½•åè®®**æ›¿ä»£ç›‘å¬åè®®ï¼ŒéªŒè¯äº†å¤§è§„æ¨¡ç³»ç»Ÿçš„éœ€æ±‚ã€‚

4. **å½¢å¼åŒ–éªŒè¯çš„ä»·å€¼**ï¼šTLA+æ¨¡å‹å¯ä»¥è‡ªåŠ¨æ£€æµ‹åè®®è®¾è®¡ä¸­çš„æ½œåœ¨é—®é¢˜ï¼Œä½†çŠ¶æ€ç©ºé—´çˆ†ç‚¸é™åˆ¶äº†éªŒè¯è§„æ¨¡ã€‚å®é™…ç¡¬ä»¶å®ç°éœ€è¦æ›´å¤æ‚çš„æ¨¡å‹ã€‚

### 5.2 MOESIåè®®ï¼ˆAMDï¼‰

**çŠ¶æ€**ï¼š

- **M** (Modified)
- **O** (Owned)ï¼šæ‹¥æœ‰è€…ï¼Œè„æ•°æ®
- **E** (Exclusive)
- **S** (Shared)
- **I** (Invalid)

**ä¼˜åŠ¿**ï¼š

- OçŠ¶æ€å…è®¸å…±äº«è„æ•°æ®
- å‡å°‘å†™å›æ“ä½œ

### 5.3 ç›‘å¬è¿‡æ»¤å™¨ï¼ˆSnoop Filterï¼‰

**æ¡ˆä¾‹1.2.6ï¼ˆç›‘å¬è¿‡æ»¤å™¨ï¼‰**ï¼š

ç›‘å¬è¿‡æ»¤å™¨ç”¨äºå‡å°‘ä¸å¿…è¦çš„ç›‘å¬è¯·æ±‚ï¼Œæé«˜ç¼“å­˜ä¸€è‡´æ€§æ€§èƒ½ã€‚

**ç›‘å¬è¿‡æ»¤å™¨å®ç°**ï¼š

```c
// ç›‘å¬è¿‡æ»¤å™¨å®ç°ï¼ˆä¼ªä»£ç ï¼‰
typedef struct {
    // ç‰©ç†åŒºåŸŸï¼ˆPhysical Regionï¼‰è¡¨
    struct {
        uint64_t region_tag;    // åŒºåŸŸæ ‡è®°
        uint8_t core_bits;      // æ ¸å¿ƒä½å›¾ï¼ˆå“ªäº›æ ¸å¿ƒæœ‰è¯¥åŒºåŸŸçš„æ•°æ®ï¼‰
        bool valid;
    } regions[REGION_COUNT];

    uint64_t filter_hits;       // è¿‡æ»¤å‘½ä¸­æ•°
    uint64_t filter_misses;     // è¿‡æ»¤æœªå‘½ä¸­æ•°
} snoop_filter_t;

// ç›‘å¬è¿‡æ»¤
bool snoop_filter_check(snoop_filter_t *filter, uint64_t paddr, int requesting_core) {
    // 1. è®¡ç®—åŒºåŸŸæ ‡è®°
    uint64_t region_tag = paddr >> REGION_SHIFT;
    int region_index = region_tag % REGION_COUNT;

    // 2. æŸ¥æ‰¾åŒºåŸŸ
    if (filter->regions[region_index].valid &&
        filter->regions[region_index].region_tag == region_tag) {
        // 3. æ£€æŸ¥æ ¸å¿ƒä½å›¾
        if (filter->regions[region_index].core_bits & (1 << requesting_core)) {
            filter->filter_hits++;
            return true;  // éœ€è¦ç›‘å¬
        } else {
            filter->filter_misses++;
            return false;  // ä¸éœ€è¦ç›‘å¬
        }
    }

    // 4. åŒºåŸŸæœªæ‰¾åˆ°ï¼Œéœ€è¦ç›‘å¬
    filter->filter_misses++;
    return true;
}

// æ›´æ–°ç›‘å¬è¿‡æ»¤å™¨
void snoop_filter_update(snoop_filter_t *filter, uint64_t paddr, int core,
                         bool has_data) {
    // 1. è®¡ç®—åŒºåŸŸæ ‡è®°
    uint64_t region_tag = paddr >> REGION_SHIFT;
    int region_index = region_tag % REGION_COUNT;

    // 2. æ›´æ–°æ ¸å¿ƒä½å›¾
    if (has_data) {
        filter->regions[region_index].core_bits |= (1 << core);
    } else {
        filter->regions[region_index].core_bits &= ~(1 << core);
    }

    // 3. æ›´æ–°åŒºåŸŸæ ‡è®°
    filter->regions[region_index].region_tag = region_tag;
    filter->regions[region_index].valid = true;
}
```

**åŠŸèƒ½**ï¼š

- è¿‡æ»¤ä¸å¿…è¦çš„ç›‘å¬è¯·æ±‚
- å‡å°‘ä¸€è‡´æ€§æµé‡

**å®ç°**ï¼š

- ç‰©ç†åŒºåŸŸï¼ˆPhysical Regionï¼‰
- è·Ÿè¸ªç¼“å­˜è¡Œä½ç½®

---

## 6 ä¼ªå…±äº«é—®é¢˜

### 6.1 ä¸¥æ ¼å®šä¹‰

**å®šä¹‰2.2ï¼ˆä¼ªå…±äº«ï¼‰**ï¼š

å¯¹äºç¼“å­˜è¡Œå¤§å°$B$ï¼ˆé€šå¸¸64å­—èŠ‚ï¼‰ï¼Œä¸¤ä¸ªå˜é‡$v_1$å’Œ$v_2$å­˜åœ¨ä¼ªå…±äº«ï¼Œå½“ä¸”ä»…å½“ï¼š

$$
\lfloor \frac{\text{addr}(v_1)}{B} \rfloor = \lfloor \frac{\text{addr}(v_2)}{B} \rfloor
$$

ä¸”$v_1$å’Œ$v_2$è¢«ä¸åŒçº¿ç¨‹ä¿®æ”¹ã€‚

**æ€§èƒ½å½±å“çš„ä¸¥æ ¼åˆ†æ**ï¼š

**å®šç†2.2ï¼ˆä¼ªå…±äº«çš„æ€§èƒ½æƒ©ç½šï¼‰**ï¼š

å¯¹äº$n$ä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ç¼“å­˜è¡Œçš„ä¸åŒå˜é‡ï¼Œä¼ªå…±äº«å¯¼è‡´çš„é¢å¤–ä¸€è‡´æ€§æµé‡ä¸ºï¼š

$$
\text{æµé‡} = O(n^2) \times \text{ç¼“å­˜è¡Œå¤§å°}
$$

**è¯æ˜**ï¼šæ¯ä¸ªçº¿ç¨‹çš„å†™æ“ä½œå¯¼è‡´å…¶ä»–$n-1$ä¸ªçº¿ç¨‹çš„ç¼“å­˜è¡Œå¤±æ•ˆï¼Œéœ€è¦é‡æ–°åŠ è½½ã€‚å› æ­¤ï¼Œæ€»æµé‡ä¸º$n \times (n-1) \times B = O(n^2) \times B$ã€‚âˆ

**ç¤ºä¾‹**ï¼š

```c
// ä¼ªå…±äº«ç¤ºä¾‹
struct {
    int counter1;  // çº¿ç¨‹1ä¿®æ”¹
    int padding[15];  // å¡«å……
    int counter2;  // çº¿ç¨‹2ä¿®æ”¹
} data;
```

**é—®é¢˜**ï¼š

- counter1å’Œcounter2åœ¨åŒä¸€ç¼“å­˜è¡Œ
- çº¿ç¨‹1ä¿®æ”¹counter1 â†’ ç¼“å­˜è¡Œå¤±æ•ˆ â†’ MESIåè®®ä½¿å…¶ä»–æ ¸å¿ƒå¤±æ•ˆ
- çº¿ç¨‹2çš„counter2ä¹Ÿè¢«å¤±æ•ˆ â†’ éœ€è¦é‡æ–°åŠ è½½ â†’ **æ€§èƒ½ä¸‹é™10-100å€**

### 6.2 è§£å†³æ–¹æ¡ˆ

**æ¡ˆä¾‹1.2.7ï¼ˆä¼ªå…±äº«æ£€æµ‹å’Œè§£å†³ï¼‰**ï¼š

æŸé«˜æ€§èƒ½ç³»ç»Ÿæ£€æµ‹å’Œè§£å†³ä¼ªå…±äº«é—®é¢˜ï¼Œæé«˜å¤šçº¿ç¨‹æ€§èƒ½ã€‚

**ä¼ªå…±äº«æ£€æµ‹å·¥å…·**ï¼š

```c
// ä¼ªå…±äº«æ£€æµ‹ï¼ˆä½¿ç”¨perfå·¥å…·ï¼‰
// perf c2c record -a -- sleep 10
// perf c2c report

// ä¼ªå…±äº«æ£€æµ‹ä»£ç 
typedef struct {
    uint64_t cache_line_addr;
    int thread_id;
    uint64_t access_count;
} false_sharing_detector_t;

// æ£€æµ‹ä¼ªå…±äº«
void detect_false_sharing(false_sharing_detector_t *detector,
                          uint64_t addr, int thread_id) {
    // 1. è®¡ç®—ç¼“å­˜è¡Œåœ°å€
    uint64_t cache_line = addr & ~0x3F;  // 64å­—èŠ‚å¯¹é½

    // 2. æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–çº¿ç¨‹è®¿é—®åŒä¸€ç¼“å­˜è¡Œ
    for (int i = 0; i < MAX_THREADS; i++) {
        if (i != thread_id &&
            detector[i].cache_line_addr == cache_line) {
            // æ£€æµ‹åˆ°ä¼ªå…±äº«
            printf("False sharing detected: thread %d and %d access cache line 0x%lx\n",
                   thread_id, i, cache_line);
        }
    }

    // 3. æ›´æ–°æ£€æµ‹å™¨
    detector[thread_id].cache_line_addr = cache_line;
    detector[thread_id].thread_id = thread_id;
    detector[thread_id].access_count++;
}
```

**ä¼ªå…±äº«è§£å†³æ–¹æ¡ˆå®ç°**ï¼š

```c
// è§£å†³æ–¹æ¡ˆ1ï¼šç¼“å­˜è¡Œå¯¹é½
struct aligned_counter {
    int64_t counter __attribute__((aligned(64)));  // 64å­—èŠ‚å¯¹é½
    char padding[64 - sizeof(int64_t)];            // å¡«å……
};

// è§£å†³æ–¹æ¡ˆ2ï¼šæ¯çº¿ç¨‹ç‹¬ç«‹ç¼“å­˜è¡Œ
struct per_thread_data {
    struct {
        int64_t counter;
        char padding[64 - sizeof(int64_t)];
    } data[MAX_THREADS];
};

// è§£å†³æ–¹æ¡ˆ3ï¼šä½¿ç”¨æ¯CPUå˜é‡
DEFINE_PER_CPU(int64_t, counter);

// è®¿é—®æ¯CPUå˜é‡
void increment_counter(void) {
    int64_t *counter = this_cpu_ptr(&counter);
    (*counter)++;
}
```

**1. ç¼“å­˜è¡Œå¯¹é½**ï¼š

```c
__attribute__((aligned(64))) int counter1;
__attribute__((aligned(64))) int counter2;
```

**2. ç¼–è¯‘å™¨ä¼˜åŒ–**ï¼š

- `-falign-functions=64`
- ç»“æ„ä½“å¡«å……

**3. OSè°ƒåº¦**ï¼š

- ç»‘å®šçº¿ç¨‹åˆ°ä¸åŒæ ¸å¿ƒ
- å‡å°‘è·¨æ ¸å¿ƒè®¿é—®

**å®šç†2.3ï¼ˆç¼“å­˜æ›¿æ¢ç®—æ³•çš„ç«äº‰æ¯”ï¼‰**ï¼š

å¯¹äºç¼“å­˜å¤§å°$k$ï¼ŒLRUç®—æ³•çš„ç«äº‰æ¯”ä¸º$k$ï¼Œå³ï¼š

$$
\text{LRU}_k(\sigma) \leq k \times \text{OPT}_k(\sigma)
$$

å…¶ä¸­$\sigma$æ˜¯è¯·æ±‚åºåˆ—ï¼Œ$\text{OPT}_k$æ˜¯æœ€ä¼˜ç¦»çº¿ç®—æ³•ï¼ˆBeladyç®—æ³•ï¼‰ã€‚

**è¯æ˜**ï¼šSleator-Tarjançš„ç«äº‰åˆ†æã€‚å…³é”®æ€æƒ³ï¼šLRUçš„æœªå‘½ä¸­æ¬¡æ•°ä¸è¶…è¿‡æœ€ä¼˜ç®—æ³•çš„$k$å€ã€‚è¯¥ç•Œæ˜¯ç´§çš„ã€‚âˆ

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **LRUå¹¶éæœ€ä¼˜**ï¼šBeladyç®—æ³•ï¼ˆæœªæ¥æœ€è¿œä½¿ç”¨ï¼‰æ˜¯æœ€ä¼˜çš„ï¼Œä½†**éœ€è¦é¢„çŸ¥æœªæ¥**ï¼Œå®é™…ä¸å¯å®ç°ã€‚

2. **å®é™…æ€§èƒ½**ï¼šLRUåœ¨å¤§å¤šæ•°å·¥ä½œè´Ÿè½½ä¸‹è¡¨ç°æ¥è¿‘æœ€ä¼˜ï¼Œä½†**æŸäº›æ¨¡å¼ï¼ˆå¦‚å¾ªç¯è®¿é—®ï¼‰è¡¨ç°è¾ƒå·®**ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**å­¦ä¹ å‹æ›¿æ¢ç®—æ³•**ï¼ˆå¦‚Hawkeyeï¼‰ä½¿ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹ï¼Œåœ¨æŸäº›å·¥ä½œè´Ÿè½½ä¸‹è¶…è¶ŠLRUã€‚

---

## 7 å®è·µæ¡ˆä¾‹

### 7.1 é«˜æ€§èƒ½æ•°æ®åº“ç¼“å­˜ä¼˜åŒ–

**æ¡ˆä¾‹1.2.8ï¼ˆæ•°æ®åº“ç¼“å­˜ä¼˜åŒ–ï¼‰**ï¼š

æŸé«˜æ€§èƒ½æ•°æ®åº“ç³»ç»Ÿä¼˜åŒ–ç¼“å­˜ä½¿ç”¨ï¼Œæé«˜æŸ¥è¯¢æ€§èƒ½ã€‚

**ä¼˜åŒ–ç­–ç•¥**ï¼š

**1. æ•°æ®ç»“æ„å¯¹é½**ï¼š

```c
// ä¼˜åŒ–å‰ï¼šæœªå¯¹é½
struct row {
    int id;
    char name[32];
    int age;
    double salary;
};

// ä¼˜åŒ–åï¼šå¯¹é½åˆ°ç¼“å­˜è¡Œ
struct row {
    int id;
    char name[32];
    int age;
    double salary;
} __attribute__((aligned(64)));  // 64å­—èŠ‚å¯¹é½
```

**2. é¡ºåºè®¿é—®ä¼˜åŒ–**ï¼š

```c
// ä¼˜åŒ–å‰ï¼šéšæœºè®¿é—®
for (int i = 0; i < N; i++) {
    process_row(rows[random_index[i]]);
}

// ä¼˜åŒ–åï¼šé¡ºåºè®¿é—®
for (int i = 0; i < N; i++) {
    process_row(rows[i]);  // é¡ºåºè®¿é—®ï¼Œæé«˜ç¼“å­˜å‘½ä¸­ç‡
}
```

**3. é¢„å–ä¼˜åŒ–**ï¼š

```c
// ä½¿ç”¨ç¡¬ä»¶é¢„å–
for (int i = 0; i < N; i++) {
    __builtin_prefetch(&rows[i + 4], 0, 3);  // é¢„å–4ä¸ªå…ƒç´ å
    process_row(rows[i]);
}
```

**ä¼˜åŒ–æ•ˆæœ**ï¼š

| **æŒ‡æ ‡** | **ä¼˜åŒ–å‰** | **ä¼˜åŒ–å** | **æ”¹å–„** |
|---------|-----------|-----------|---------|
| **ç¼“å­˜å‘½ä¸­ç‡** | 60% | 85% | +42% |
| **æŸ¥è¯¢å»¶è¿Ÿ** | 10ms | 6ms | -40% |
| **ååé‡** | 1000 QPS | 1500 QPS | +50% |

### 7.2 å¤šçº¿ç¨‹ç¼“å­˜ä¼˜åŒ–

**æ¡ˆä¾‹1.2.9ï¼ˆå¤šçº¿ç¨‹ç¼“å­˜ä¼˜åŒ–ï¼‰**ï¼š

æŸå¤šçº¿ç¨‹ç³»ç»Ÿä¼˜åŒ–ç¼“å­˜ä½¿ç”¨ï¼Œå‡å°‘ä¼ªå…±äº«å’Œç¼“å­˜ç«äº‰ã€‚

**ä¼˜åŒ–ç­–ç•¥**ï¼š

**1. æ¶ˆé™¤ä¼ªå…±äº«**ï¼š

```c
// ä¼˜åŒ–å‰ï¼šä¼ªå…±äº«
struct counters {
    int counter1;  // çº¿ç¨‹1ä¿®æ”¹
    int counter2;  // çº¿ç¨‹2ä¿®æ”¹
};

// ä¼˜åŒ–åï¼šæ¶ˆé™¤ä¼ªå…±äº«
struct counters {
    int counter1 __attribute__((aligned(64)));
    char padding1[64 - sizeof(int)];
    int counter2 __attribute__((aligned(64)));
    char padding2[64 - sizeof(int)];
};
```

**2. æ¯çº¿ç¨‹ç‹¬ç«‹ç¼“å­˜**ï¼š

```c
// æ¯çº¿ç¨‹ç‹¬ç«‹æ•°æ®
struct per_thread_data {
    int local_counter;
    char local_buffer[1024];
} __thread;  // çº¿ç¨‹å±€éƒ¨å­˜å‚¨

// ä½¿ç”¨
void thread_function(void) {
    per_thread_data.local_counter++;
}
```

**ä¼˜åŒ–æ•ˆæœ**ï¼š

| **æŒ‡æ ‡** | **ä¼˜åŒ–å‰** | **ä¼˜åŒ–å** | **æ”¹å–„** |
|---------|-----------|-----------|---------|
| **ä¼ªå…±äº«æ¬¡æ•°** | 1000/s | 0/s | -100% |
| **ç¼“å­˜æœªå‘½ä¸­ç‡** | 15% | 5% | -67% |
| **å¤šçº¿ç¨‹æ€§èƒ½** | åŸºå‡† | +80% | æ˜¾è‘—æå‡ |

## 8 æ€§èƒ½ä¼˜åŒ–

### 8.1 ç¼“å­˜å‹å¥½ç¼–ç¨‹

**åŸåˆ™**ï¼š

1. **å±€éƒ¨æ€§**ï¼šæ—¶é—´å±€éƒ¨æ€§ + ç©ºé—´å±€éƒ¨æ€§
2. **å¯¹é½**ï¼šæ•°æ®ç»“æ„å¯¹é½åˆ°ç¼“å­˜è¡Œ
3. **é¢„å–**ï¼šç¡¬ä»¶/è½¯ä»¶é¢„å–

**ç¤ºä¾‹**ï¼š

```c
// å¥½çš„ï¼šé¡ºåºè®¿é—®
for (int i = 0; i < N; i++) {
    sum += array[i];
}

// å·®çš„ï¼šéšæœºè®¿é—®
for (int i = 0; i < N; i++) {
    sum += array[random[i]];
}
```

---

## 9 æ€ç»´å¯¼å›¾ï¼šç¼“å­˜å±‚æ¬¡è®¾è®¡å†³ç­–

```mermaid
mindmap
  root((ç¼“å­˜è®¾è®¡))
    å®¹é‡æƒè¡¡
      æ›´å¤§å®¹é‡
        æ›´é«˜å‘½ä¸­ç‡
        ä½†å»¶è¿Ÿå¢åŠ 
        é¢ç§¯æˆæœ¬
      æ›´å°å®¹é‡
        æ›´ä½å»¶è¿Ÿ
        ä½†å‘½ä¸­ç‡ä¸‹é™
        åŠŸè€—é™ä½
    å…³è”åº¦æƒè¡¡
      å…¨ç›¸è”
        æœ€é«˜å‘½ä¸­ç‡
        ä½†ç¡¬ä»¶å¤æ‚
        å»¶è¿Ÿé«˜
      ç›´æ¥æ˜ å°„
        æœ€ç®€å•
        ä½†å†²çªå¤š
        å»¶è¿Ÿä½
      ç»„ç›¸è”
        å¹³è¡¡é€‰æ‹©
        8-16è·¯æœ€ä¼˜
    ä¸€è‡´æ€§åè®®
      MESIåŸºç¡€
        4çŠ¶æ€
        ç®€å•å®ç°
      MESIFä¼˜åŒ–
        FçŠ¶æ€å‡å°‘æµé‡
        ä½†å¤æ‚åº¦å¢åŠ 
      MOESIä¼˜åŒ–
        OçŠ¶æ€å‡å°‘å†™å›
        AMDé‡‡ç”¨
      ç›®å½•åè®®
        å¤§è§„æ¨¡ç³»ç»Ÿ
        æ›¿ä»£ç›‘å¬
    æ›¿æ¢ç®—æ³•
      LRUç»å…¸
        k-ç«äº‰æ¯”
        å®é™…è¡¨ç°å¥½
      Beladyæœ€ä¼˜
        éœ€è¦é¢„çŸ¥æœªæ¥
        ä¸å¯å®ç°
      å­¦ä¹ å‹ç®—æ³•
        æœºå™¨å­¦ä¹ é¢„æµ‹
        2025å¹´è¶‹åŠ¿
```

---

## 10 æ‰¹åˆ¤æ€§æ€»ç»“

### 8.1 ç¼“å­˜è®¾è®¡çš„æ ¹æœ¬çŸ›ç›¾

1. **å®¹é‡vså»¶è¿Ÿ**ï¼šæ›´å¤§ç¼“å­˜æé«˜å‘½ä¸­ç‡ï¼Œä½†**å¢åŠ å»¶è¿Ÿå’Œé¢ç§¯**ã€‚ä¸å­˜åœ¨"å®Œç¾"çš„ç¼“å­˜å¤§å°ã€‚

2. **ä¸€è‡´æ€§vsæ€§èƒ½**ï¼šä¸¥æ ¼ä¸€è‡´æ€§ä¿è¯æ­£ç¡®æ€§ï¼Œä½†**å¢åŠ å¤æ‚åº¦å’Œå»¶è¿Ÿ**ã€‚æŸäº›åœºæ™¯å¯ä»¥æ”¾å®½ä¸€è‡´æ€§ï¼ˆå¦‚æœ€ç»ˆä¸€è‡´æ€§ï¼‰ã€‚

3. **å±€éƒ¨æ€§å‡è®¾çš„å±€é™**ï¼šç¼“å­˜åŸºäº**å±€éƒ¨æ€§åŸç†**ï¼Œä½†æŸäº›å·¥ä½œè´Ÿè½½ï¼ˆå¦‚éšæœºè®¿é—®ï¼‰**å±€éƒ¨æ€§å¾ˆå·®**ï¼Œç¼“å­˜æ”¶ç›Šæœ‰é™ã€‚

### 8.2 2025å¹´æŠ€æœ¯è¶‹åŠ¿

- **éæ˜“å¤±æ€§ç¼“å­˜**ï¼šä½¿ç”¨3D XPointç­‰NVMæŠ€æœ¯ï¼Œ**å®¹é‡æ›´å¤§ä½†å»¶è¿Ÿç•¥é«˜**ã€‚
- **æ™ºèƒ½é¢„å–**ï¼šä½¿ç”¨æœºå™¨å­¦ä¹ é¢„æµ‹è®¿é—®æ¨¡å¼ï¼Œ**æå‡å‘½ä¸­ç‡**ã€‚
- **ç¼“å­˜å±‚æ¬¡é‡æ„**ï¼šCXLå†…å­˜æ± åŒ–æŒ‘æˆ˜ä¼ ç»Ÿç¼“å­˜å±‚æ¬¡ï¼Œ**éœ€è¦é‡æ–°è®¾è®¡**ã€‚

---

## 11 è·¨é¢†åŸŸæ´å¯Ÿ

### 9.1 ç¼“å­˜ä¸€è‡´æ€§çš„æ°¸æ’æƒè¡¡

**æ ¸å¿ƒçŸ›ç›¾**ï¼šç¼“å­˜ä¸€è‡´æ€§ä¿è¯æ­£ç¡®æ€§ï¼Œä½†å¢åŠ å»¶è¿Ÿå’Œå¤æ‚åº¦ã€‚

**é‡åŒ–åˆ†æ**ï¼š

| **ä¸€è‡´æ€§åè®®** | **å»¶è¿Ÿ** | **å¤æ‚åº¦** | **å¯æ‰©å±•æ€§** | **é€‚ç”¨åœºæ™¯** |
|--------------|---------|-----------|------------|------------|
| **MESI** | ä½ | â­â­ | â­â­â­ | å°è§„æ¨¡ç³»ç»Ÿ |
| **MESIF** | ä¸­ | â­â­â­ | â­â­â­â­ | Intelç³»ç»Ÿ |
| **MOESI** | ä¸­ | â­â­â­ | â­â­â­â­ | AMDç³»ç»Ÿ |
| **ç›®å½•åè®®** | é«˜ | â­â­â­â­â­ | â­â­â­â­â­ | å¤§è§„æ¨¡ç³»ç»Ÿ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **ä¸€è‡´æ€§çš„ä»£ä»·**ï¼šç¼“å­˜ä¸€è‡´æ€§**å¿…ç„¶å¢åŠ å»¶è¿Ÿ**ï¼Œå› ä¸ºéœ€è¦è·¨æ ¸å¿ƒé€šä¿¡ã€‚

2. **å¯æ‰©å±•æ€§çš„æŒ‘æˆ˜**ï¼šç›‘å¬åè®®ï¼ˆMESIï¼‰åœ¨å°è§„æ¨¡ç³»ç»Ÿæœ‰æ•ˆï¼Œä½†**å¤§è§„æ¨¡ç³»ç»Ÿéœ€è¦ç›®å½•åè®®**ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**CXLç¼“å­˜ä¸€è‡´æ€§**æ‰©å±•åˆ°è®¾å¤‡ï¼ŒæŒ‘æˆ˜ä¼ ç»Ÿè¾¹ç•Œã€‚

### 9.2 ä¼ªå…±äº«çš„æ€§èƒ½æƒ©ç½š

**æ ¸å¿ƒé—®é¢˜**ï¼šä¸åŒæ ¸å¿ƒè®¿é—®åŒä¸€ç¼“å­˜è¡Œçš„ä¸åŒæ•°æ®ï¼Œå¯¼è‡´**è™šå‡å…±äº«**ã€‚

**æ€§èƒ½å½±å“**ï¼š

```text
æ— ä¼ªå…±äº«: è®¿é—®å»¶è¿Ÿ 1ns (L1å‘½ä¸­)
ä¼ªå…±äº«:   è®¿é—®å»¶è¿Ÿ 15ns (L3å‘½ä¸­) + ä¸€è‡´æ€§å¼€é”€
æ€§èƒ½ä¸‹é™: 10-100å€
```

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **ä¼ªå…±äº«çš„éšè”½æ€§**ï¼šä¼ªå…±äº«**éš¾ä»¥æ£€æµ‹**ï¼Œéœ€è¦ä¸“ä¸šå·¥å…·ï¼ˆå¦‚perfï¼‰ã€‚

2. **è§£å†³æ–¹æ¡ˆçš„ä»£ä»·**ï¼šç¼“å­˜è¡Œå¯¹é½**æµªè´¹å†…å­˜**ï¼Œä½†æ€§èƒ½æå‡æ˜æ˜¾ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**ç¡¬ä»¶æ£€æµ‹**ï¼ˆå¦‚Intel CATï¼‰è‡ªåŠ¨æ£€æµ‹å’Œç¼“è§£ä¼ªå…±äº«ã€‚

---

## 12 å¤šç»´åº¦å¯¹æ¯”

### 10.1 ç¼“å­˜ä¸€è‡´æ€§åè®®å¯¹æ¯”

| **åè®®** | **çŠ¶æ€æ•°** | **æ¶ˆæ¯ç±»å‹** | **å»¶è¿Ÿ** | **å¸¦å®½å¼€é”€** | **ä»£è¡¨å‚å•†** |
|---------|-----------|------------|---------|------------|------------|
| **MESI** | 4 | 4 | ä½ | ä½ | é€šç”¨ |
| **MESIF** | 5 | 5 | ä¸­ | ä¸­ | Intel |
| **MOESI** | 5 | 5 | ä¸­ | ä¸­ | AMD |
| **ç›®å½•åè®®** | 3 | å¤š | é«˜ | é«˜ | å¤§è§„æ¨¡ç³»ç»Ÿ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **çŠ¶æ€æ•°çš„æƒè¡¡**ï¼šæ›´å¤šçŠ¶æ€**å‡å°‘æ¶ˆæ¯**ï¼Œä½†**å¢åŠ å¤æ‚åº¦**ã€‚

2. **å‚å•†å·®å¼‚**ï¼šIntelå’ŒAMDé€‰æ‹©ä¸åŒåè®®ï¼Œ**å„æœ‰ä¼˜åŠ£**ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**CXLç»Ÿä¸€åè®®**å¯èƒ½æŒ‘æˆ˜å‚å•†ç‰¹å®šåè®®ã€‚

### 10.2 ç¼“å­˜æ›¿æ¢ç®—æ³•å¯¹æ¯”

| **ç®—æ³•** | **ç«äº‰æ¯”** | **å®ç°å¤æ‚åº¦** | **ç¡¬ä»¶æ”¯æŒ** | **é€‚ç”¨åœºæ™¯** |
|---------|-----------|--------------|------------|------------|
| **LRU** | $k$ | â­â­ | â­â­â­â­â­ | é€šç”¨ |
| **FIFO** | $k$ | â­ | â­â­â­ | ç®€å•åœºæ™¯ |
| **Random** | $k$ | â­ | â­â­ | ç ”ç©¶ |
| **Belady** | $1$ | â­â­â­â­â­ | æ—  | ç†è®ºæœ€ä¼˜ |
| **Hawkeye** | $<k$ | â­â­â­â­ | â­â­ | ç‰¹å®šè´Ÿè½½ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **ç«äº‰æ¯”çš„ç†è®ºæ„ä¹‰**ï¼šç«äº‰æ¯”$k$æ„å‘³ç€**æœ€åæƒ…å†µæ˜¯$k$å€**ï¼Œä½†å¹³å‡æƒ…å†µæ›´å¥½ã€‚

2. **ç¡¬ä»¶å®ç°çš„é™åˆ¶**ï¼šLRUéœ€è¦ç¡¬ä»¶æ”¯æŒï¼Œ**Beladyéœ€è¦é¢„çŸ¥æœªæ¥**ï¼Œå®é™…ä¸å¯å®ç°ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**å­¦ä¹ å‹ç®—æ³•**ï¼ˆå¦‚Hawkeyeï¼‰åœ¨æŸäº›è´Ÿè½½ä¸‹è¶…è¶ŠLRUï¼Œä½†**ç¡¬ä»¶æ”¯æŒæœ‰é™**ã€‚

---

## 13 ç›¸å…³ä¸»é¢˜

- [1.1 CPUå¾®æ¶æ„](./01.1_CPUå¾®æ¶æ„.md) - å¾®æ¶æ„ä¸ç¼“å­˜ååŒ
- [1.3 å†…å­˜å­ç³»ç»Ÿ](./01.3_å†…å­˜å­ç³»ç»Ÿ.md) - å†…å­˜ä¸ç¼“å­˜å±‚æ¬¡
- [4.1 ç¡¬ä»¶åŒæ­¥åŸè¯­](../04_åŒæ­¥é€šä¿¡æœºåˆ¶/04.1_ç¡¬ä»¶åŒæ­¥åŸè¯­.md) - ç¼“å­˜ä¸€è‡´æ€§å®ç°
- [7.2 å»¶è¿Ÿç©¿é€åˆ†æ](../07_æ€§èƒ½ä¼˜åŒ–ä¸å®‰å…¨/07.2_å»¶è¿Ÿç©¿é€åˆ†æ.md) - ç¼“å­˜å»¶è¿Ÿä¼˜åŒ–

### 13.1 è·¨è§†è§’é“¾æ¥

- [æ¦‚å¿µäº¤å‰ç´¢å¼•ï¼ˆä¸ƒè§†è§’ç‰ˆï¼‰](../../../Concept/CONCEPT_CROSS_INDEX.md) - æŸ¥çœ‹ç›¸å…³æ¦‚å¿µçš„ä¸ƒè§†è§’åˆ†æï¼š
  - [ç†µ](../../../Concept/CONCEPT_CROSS_INDEX.md#71-ç†µ-entropy-ä¸ƒè§†è§’) - ç¼“å­˜ç³»ç»Ÿä¸­çš„ä¿¡æ¯ä¸ç¡®å®šæ€§
  - [é€šä¿¡å¤æ‚åº¦](../../../Concept/CONCEPT_CROSS_INDEX.md#56-é€šä¿¡å¤æ‚åº¦-communication-complexity-ä¸ƒè§†è§’) - ç¼“å­˜ä¸€è‡´æ€§çš„é€šä¿¡å¼€é”€
  - [Landaueræé™](../../../Concept/CONCEPT_CROSS_INDEX.md#106-landaueræé™-landauer-limit-ä¸ƒè§†è§’) - ç¼“å­˜æ“ä½œçš„ç‰©ç†æé™
- [ä¸»æ–‡æ¡£ï¼šæŠ½è±¡æ³„æ¼](../schedule_formal_view.md#è§†è§’2è½¯ä»¶æŠ½è±¡æ³„æ¼å®šå¾‹) - ç¼“å­˜æ³„æ¼åˆ†æ

---

## 14 2025å¹´æœ€æ–°æŠ€æœ¯ï¼ˆæ›´æ–°è‡³2025å¹´11æœˆï¼‰

**æœ€æ–°æŠ€æœ¯å‘å±•**ï¼š

- **AIé©±åŠ¨çš„ç¼“å­˜æ›¿æ¢ç­–ç•¥ä¼˜åŒ–æˆç†Ÿ**ï¼š2025å¹´11æœˆï¼ŒåŸºäºAIçš„ç¼“å­˜æ›¿æ¢ç­–ç•¥ä¼˜åŒ–åœ¨è¶…å¤§è§„æ¨¡ç³»ç»Ÿä¸­å¹¿æ³›åº”ç”¨ï¼Œç¼“å­˜å‘½ä¸­ç‡æå‡è‡³98%+ï¼Œç¼“å­˜æ›¿æ¢å‡†ç¡®ç‡æå‡è‡³95%+ï¼Œç³»ç»Ÿæ€§èƒ½æå‡20-40%ã€‚ä½†AIæ¨¡å‹å¼€é”€éœ€è¦æƒè¡¡ã€‚
- **æ™ºèƒ½ç¼“å­˜ä¸€è‡´æ€§åè®®ä¼˜åŒ–**ï¼š2025å¹´11æœˆï¼Œæ™ºèƒ½ç¼“å­˜ä¸€è‡´æ€§åè®®ä¼˜åŒ–åœ¨å¤šæ ¸ç³»ç»Ÿä¸­åº”ç”¨ï¼Œä¸€è‡´æ€§ç»´æŠ¤å»¶è¿Ÿé™ä½30-50%ï¼Œä¸€è‡´æ€§æ¶ˆæ¯å¸¦å®½åˆ©ç”¨ç‡æå‡è‡³90%+ï¼Œç³»ç»Ÿååé‡æå‡30-50%ã€‚
- **ä¼ªå…±äº«é—®é¢˜æ™ºèƒ½æ£€æµ‹ä¸ä¼˜åŒ–**ï¼š2025å¹´11æœˆï¼Œä¼ªå…±äº«é—®é¢˜æ™ºèƒ½æ£€æµ‹ä¸ä¼˜åŒ–åœ¨å¤šçº¿ç¨‹ç³»ç»Ÿä¸­åº”ç”¨ï¼Œä¼ªå…±äº«æ£€æµ‹å‡†ç¡®ç‡æå‡è‡³95%+ï¼Œæ€§èƒ½æå‡40-60%ï¼Œä½†éœ€è¦ç¼–è¯‘å™¨æ”¯æŒã€‚

**æŠ€æœ¯å¯¹æ¯”**ï¼š

| **æŠ€æœ¯** | **å‘½ä¸­ç‡æå‡** | **å»¶è¿Ÿé™ä½** | **æ€§èƒ½æå‡** | **å®ç°å¤æ‚åº¦** |
|---------|-------------|------------|------------|-------------|
| **AIé©±åŠ¨ç¼“å­˜æ›¿æ¢** | 98%+ | 30-50% | 20-40% | é«˜ |
| **æ™ºèƒ½ç¼“å­˜ä¸€è‡´æ€§** | 95%+ | 30-50% | 30-50% | ä¸­ |
| **ä¼ªå…±äº«æ™ºèƒ½ä¼˜åŒ–** | 85-95% | 40-60% | 40-60% | ä¸­ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **AIé©±åŠ¨ç¼“å­˜çš„æƒè¡¡**ï¼šè™½ç„¶å‘½ä¸­ç‡æå‡æ˜¾è‘—ï¼Œä½†AIæ¨¡å‹å¼€é”€éœ€è¦æƒè¡¡ã€‚å¹¶éæ‰€æœ‰åœºæ™¯éƒ½é€‚åˆAIé©±åŠ¨ç¼“å­˜æ›¿æ¢ã€‚
2. **ç¼“å­˜ä¸€è‡´æ€§çš„å¤æ‚åº¦**ï¼šè™½ç„¶å»¶è¿Ÿé™ä½ï¼Œä½†ä¸€è‡´æ€§åè®®å¤æ‚åº¦å¢åŠ ï¼Œéœ€è¦ç¡¬ä»¶æ”¯æŒã€‚
3. **ä¼ªå…±äº«ä¼˜åŒ–çš„å±€é™æ€§**ï¼šè™½ç„¶æ€§èƒ½æå‡æ˜¾è‘—ï¼Œä½†éœ€è¦ç¼–è¯‘å™¨æ”¯æŒï¼Œä¸”å¯èƒ½å¢åŠ ä»£ç å¤æ‚åº¦ã€‚

---

## 15 æœ€ä½³å®è·µä¸æ•…éšœæ’æŸ¥

### 15.1 ç¼“å­˜å±‚æ¬¡ç»“æ„æœ€ä½³å®è·µï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰

**ç¼“å­˜å±‚æ¬¡è®¾è®¡æœ€ä½³å®è·µ**ï¼š

1. **ç¼“å­˜å±‚æ¬¡é€‰æ‹©**ï¼š
   - **L1ç¼“å­˜**ï¼šå°å®¹é‡ï¼ˆ32KBï¼‰ã€ä½å»¶è¿Ÿï¼ˆ1nsï¼‰ã€é«˜å¸¦å®½ï¼ˆ2TB/sï¼‰
   - **L2ç¼“å­˜**ï¼šä¸­ç­‰å®¹é‡ï¼ˆ256KB-1MBï¼‰ã€ä¸­ç­‰å»¶è¿Ÿï¼ˆ4-10nsï¼‰
   - **L3ç¼“å­˜**ï¼šå¤§å®¹é‡ï¼ˆ8-64MBï¼‰ã€è¾ƒé«˜å»¶è¿Ÿï¼ˆ15-30nsï¼‰ã€å…±äº«è®¾è®¡
   - **é€‚ç”¨åœºæ™¯**ï¼šæ ¹æ®å·¥ä½œè´Ÿè½½é€‰æ‹©åˆé€‚ç¼“å­˜å±‚æ¬¡

2. **ç¼“å­˜ä¸€è‡´æ€§åè®®é€‰æ‹©**ï¼š
   - **MESIFåè®®ï¼ˆIntelï¼‰**ï¼šé€‚åˆå¤šæ ¸ç³»ç»Ÿã€å‡å°‘ä¸€è‡´æ€§æ¶ˆæ¯
   - **MOESIåè®®ï¼ˆAMDï¼‰**ï¼šé€‚åˆå…±äº«æ•°æ®å¤šã€å‡å°‘å†™å›
   - **ç›‘å¬è¿‡æ»¤å™¨**ï¼šé€‚åˆå¤§è§„æ¨¡ç³»ç»Ÿã€å‡å°‘ç›‘å¬å¼€é”€

3. **ç¼“å­˜æ›¿æ¢ç®—æ³•é€‰æ‹©**ï¼š
   - **LRU**ï¼šé€‚åˆå¤§å¤šæ•°åœºæ™¯ã€å®ç°ç®€å•
   - **LFU**ï¼šé€‚åˆè®¿é—®æ¨¡å¼ç¨³å®šã€é•¿æœŸä¼˜åŒ–
   - **AIé©±åŠ¨æ›¿æ¢**ï¼šé€‚åˆå¤æ‚è®¿é—®æ¨¡å¼ã€æ€§èƒ½æå‡20-40%

**ç¼“å­˜å‹å¥½ç¼–ç¨‹æœ€ä½³å®è·µ**ï¼š

1. **å†…å­˜è®¿é—®æ¨¡å¼ä¼˜åŒ–**ï¼š
   - **é¡ºåºè®¿é—®**ï¼šé¡ºåºè®¿é—®æ€§èƒ½é«˜ã€æé«˜ç¼“å­˜å‘½ä¸­ç‡
   - **å±€éƒ¨æ€§ä¼˜åŒ–**ï¼šæ—¶é—´å±€éƒ¨æ€§ã€ç©ºé—´å±€éƒ¨æ€§
   - **é¢„å–ä¼˜åŒ–**ï¼šä½¿ç”¨ç¡¬ä»¶é¢„å–ã€è½¯ä»¶é¢„å–

2. **æ•°æ®ç»“æ„ä¼˜åŒ–**ï¼š
   - **ç¼“å­˜è¡Œå¯¹é½**ï¼šæ•°æ®ç»“æ„å¯¹é½åˆ°ç¼“å­˜è¡Œï¼ˆ64å­—èŠ‚ï¼‰
   - **å‡å°‘ä¼ªå…±äº«**ï¼šä½¿ç”¨å¡«å……ã€æ¯CPUå˜é‡
   - **ç´§å‡‘æ•°æ®ç»“æ„**ï¼šå‡å°‘å†…å­˜å ç”¨ã€æé«˜ç¼“å­˜åˆ©ç”¨ç‡

3. **å¤šçº¿ç¨‹ç¼“å­˜ä¼˜åŒ–**ï¼š
   - **å‡å°‘å…±äº«æ•°æ®**ï¼šä½¿ç”¨æ¯CPUå˜é‡ã€å‡å°‘ç«äº‰
   - **NUMAæ„ŸçŸ¥**ï¼šNUMAæœ¬åœ°åŒ–ã€å‡å°‘è·¨èŠ‚ç‚¹è®¿é—®
   - **ç¼“å­˜åˆ†åŒº**ï¼šå‡å°‘ç¼“å­˜ç«äº‰ã€æé«˜å‘½ä¸­ç‡

**æ€§èƒ½ç›‘æ§æœ€ä½³å®è·µ**ï¼š

1. **ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§**ï¼š
   - **L1/L2/L3å‘½ä¸­ç‡**ï¼šç›‘æ§å„çº§ç¼“å­˜å‘½ä¸­ç‡
   - **ç¼“å­˜ç¼ºå¤±åˆ†æ**ï¼šåˆ†æç¼“å­˜ç¼ºå¤±åŸå› ï¼ˆå®¹é‡/å†²çª/å¼ºåˆ¶ï¼‰
   - **ç¼“å­˜åˆ©ç”¨ç‡**ï¼šç›‘æ§ç¼“å­˜åˆ©ç”¨ç‡ã€è¯†åˆ«çƒ­ç‚¹

2. **ä¸€è‡´æ€§å¼€é”€ç›‘æ§**ï¼š
   - **ä¸€è‡´æ€§æ¶ˆæ¯æ•°**ï¼šç›‘æ§ä¸€è‡´æ€§æ¶ˆæ¯æ•°é‡
   - **ä¸€è‡´æ€§å»¶è¿Ÿ**ï¼šç›‘æ§ä¸€è‡´æ€§ç»´æŠ¤å»¶è¿Ÿ
   - **æ€»çº¿åˆ©ç”¨ç‡**ï¼šç›‘æ§æ€»çº¿åˆ©ç”¨ç‡ã€è¯†åˆ«ç“¶é¢ˆ

3. **ä¼ªå…±äº«æ£€æµ‹**ï¼š
   - **æ€§èƒ½åˆ†æå·¥å…·**ï¼šä½¿ç”¨perfã€VTuneæ£€æµ‹ä¼ªå…±äº«
   - **ä»£ç å®¡æŸ¥**ï¼šå®¡æŸ¥å…±äº«æ•°æ®ç»“æ„ã€è¯†åˆ«æ½œåœ¨é—®é¢˜
   - **æ€§èƒ½æµ‹è¯•**ï¼šæ€§èƒ½æµ‹è¯•éªŒè¯ã€é‡åŒ–å½±å“

**2025å¹´æœ€æ–°æŠ€æœ¯åº”ç”¨**ï¼š

1. **AIé©±åŠ¨ç¼“å­˜æ›¿æ¢**ï¼š
   - **æ™ºèƒ½é¢„æµ‹**ï¼šAIæ¨¡å‹é¢„æµ‹è®¿é—®æ¨¡å¼ã€ä¼˜åŒ–æ›¿æ¢ç­–ç•¥
   - **æ€§èƒ½æå‡**ï¼šå‘½ä¸­ç‡æå‡è‡³98%+ã€æ€§èƒ½æå‡20-40%
   - **é€‚ç”¨åœºæ™¯**ï¼šå¤æ‚è®¿é—®æ¨¡å¼ã€å¤§æ•°æ®å¤„ç†

2. **æ™ºèƒ½ç¼“å­˜ä¸€è‡´æ€§åè®®**ï¼š
   - **è‡ªé€‚åº”ä¼˜åŒ–**ï¼šæ ¹æ®è®¿é—®æ¨¡å¼è‡ªé€‚åº”ä¼˜åŒ–ä¸€è‡´æ€§åè®®
   - **å»¶è¿Ÿé™ä½**ï¼šä¸€è‡´æ€§ç»´æŠ¤å»¶è¿Ÿé™ä½30-50%
   - **ç³»ç»Ÿååé‡**ï¼šç³»ç»Ÿååé‡æå‡30-50%

3. **ä¼ªå…±äº«æ™ºèƒ½æ£€æµ‹ä¸ä¼˜åŒ–**ï¼š
   - **è‡ªåŠ¨æ£€æµ‹**ï¼šç¼–è¯‘å™¨è‡ªåŠ¨æ£€æµ‹ä¼ªå…±äº«é—®é¢˜
   - **è‡ªåŠ¨ä¼˜åŒ–**ï¼šç¼–è¯‘å™¨è‡ªåŠ¨ä¼˜åŒ–ã€å‡å°‘ä¼ªå…±äº«
   - **æ€§èƒ½æå‡**ï¼šæ€§èƒ½æå‡40-60%

### 15.2 ç¼“å­˜å±‚æ¬¡ç»“æ„æ•…éšœæ’æŸ¥ï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰

**å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**ï¼š

| **é—®é¢˜** | **å¯èƒ½åŸå› ** | **æ’æŸ¥æ–¹æ³•** | **è§£å†³æ–¹æ¡ˆ** |
|---------|------------|------------|------------|
| **ç¼“å­˜å‘½ä¸­ç‡ä½** | å†…å­˜è®¿é—®æ¨¡å¼å·®ã€ç¼“å­˜å®¹é‡ä¸è¶³ | ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡ã€åˆ†æè®¿é—®æ¨¡å¼ | ä¼˜åŒ–å†…å­˜è®¿é—®ã€å¢åŠ ç¼“å­˜å®¹é‡ã€ä½¿ç”¨é¢„å– |
| **ä¼ªå…±äº«é—®é¢˜** | å…±äº«æ•°æ®ç»“æ„ã€ç¼“å­˜è¡Œå†²çª | ä½¿ç”¨perfæ£€æµ‹ã€åˆ†æå…±äº«æ•°æ® | ä½¿ç”¨å¡«å……ã€æ¯CPUå˜é‡ã€å‡å°‘å…±äº« |
| **ä¸€è‡´æ€§å¼€é”€å¤§** | å…±äº«æ•°æ®å¤šã€ä¸€è‡´æ€§åè®®å¼€é”€ | ç›‘æ§ä¸€è‡´æ€§æ¶ˆæ¯ã€æ€»çº¿åˆ©ç”¨ç‡ | å‡å°‘å…±äº«æ•°æ®ã€ä¼˜åŒ–ä¸€è‡´æ€§åè®® |
| **ç¼“å­˜ç«äº‰** | å¤šçº¿ç¨‹ç«äº‰ã€ç¼“å­˜å®¹é‡ä¸è¶³ | ç›‘æ§ç¼“å­˜åˆ©ç”¨ç‡ã€ç«äº‰æƒ…å†µ | ç¼“å­˜åˆ†åŒºã€å¢åŠ ç¼“å­˜å®¹é‡ã€NUMAä¼˜åŒ– |
| **æ€§èƒ½ä¸‹é™** | ç¼“å­˜ç¼ºå¤±å¤šã€ä¸€è‡´æ€§å»¶è¿Ÿé«˜ | ç›‘æ§ç¼“å­˜ç¼ºå¤±ã€ä¸€è‡´æ€§å»¶è¿Ÿ | ä¼˜åŒ–å†…å­˜è®¿é—®ã€å‡å°‘ä¸€è‡´æ€§å¼€é”€ |
| **ç¼“å­˜åˆ©ç”¨ç‡ä½** | è®¿é—®æ¨¡å¼å·®ã€æ•°æ®ç»“æ„ä¸ç´§å‡‘ | ç›‘æ§ç¼“å­˜åˆ©ç”¨ç‡ã€åˆ†æè®¿é—®æ¨¡å¼ | ä¼˜åŒ–æ•°æ®ç»“æ„ã€æé«˜ç¼“å­˜å‹å¥½æ€§ |

**æ•…éšœæ’æŸ¥æ­¥éª¤**ï¼š

1. **æ”¶é›†ä¿¡æ¯**ï¼š
   - ç¼“å­˜å‘½ä¸­ç‡ã€ç¼“å­˜ç¼ºå¤±ç‡ã€ç¼“å­˜åˆ©ç”¨ç‡
   - ä¸€è‡´æ€§æ¶ˆæ¯æ•°ã€ä¸€è‡´æ€§å»¶è¿Ÿã€æ€»çº¿åˆ©ç”¨ç‡
   - å†…å­˜è®¿é—®æ¨¡å¼ã€æ•°æ®ç»“æ„å¸ƒå±€
   - æ€§èƒ½åˆ†ææ•°æ®ã€ç³»ç»Ÿæ—¥å¿—

2. **åˆ†æé—®é¢˜**ï¼š
   - è¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼ˆç¼“å­˜ç¼ºå¤±ã€ä¸€è‡´æ€§å¼€é”€ã€ä¼ªå…±äº«ï¼‰
   - åˆ†æå†…å­˜è®¿é—®æ¨¡å¼ã€æ•°æ®ç»“æ„å¸ƒå±€
   - è¯„ä¼°ç¼“å­˜å±‚æ¬¡ã€ä¸€è‡´æ€§åè®®

3. **åˆ¶å®šæ–¹æ¡ˆ**ï¼š
   - ä¼˜åŒ–å†…å­˜è®¿é—®ã€æé«˜ç¼“å­˜å‘½ä¸­ç‡
   - å‡å°‘ä¼ªå…±äº«ã€ä¼˜åŒ–æ•°æ®ç»“æ„
   - ä¼˜åŒ–ä¸€è‡´æ€§åè®®ã€å‡å°‘ä¸€è‡´æ€§å¼€é”€

4. **éªŒè¯æ•ˆæœ**ï¼š
   - ç›‘æ§æ€§èƒ½æŒ‡æ ‡ã€éªŒè¯ä¼˜åŒ–æ•ˆæœ
   - æŒç»­ä¼˜åŒ–ã€è°ƒæ•´ç­–ç•¥

**ç›‘æ§æŒ‡æ ‡**ï¼š

- **ç¼“å­˜å‘½ä¸­ç‡**ï¼šL1/L2/L3ç¼“å­˜å‘½ä¸­ç‡ã€å„çº§ç¼“å­˜ç¼ºå¤±ç‡
- **ç¼“å­˜åˆ©ç”¨ç‡**ï¼šç¼“å­˜åˆ©ç”¨ç‡ã€ç¼“å­˜ç«äº‰æƒ…å†µ
- **ä¸€è‡´æ€§å¼€é”€**ï¼šä¸€è‡´æ€§æ¶ˆæ¯æ•°ã€ä¸€è‡´æ€§å»¶è¿Ÿã€æ€»çº¿åˆ©ç”¨ç‡
- **ä¼ªå…±äº«**ï¼šä¼ªå…±äº«æ£€æµ‹ã€æ€§èƒ½å½±å“
- **æ€§èƒ½æŒ‡æ ‡**ï¼šå»¶è¿Ÿã€ååé‡ã€èµ„æºåˆ©ç”¨ç‡

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**ï¼š

1. **å†…å­˜è®¿é—®ä¼˜åŒ–**ï¼š
   - é¡ºåºè®¿é—®ã€æé«˜å±€éƒ¨æ€§
   - ä½¿ç”¨é¢„å–ã€å‡å°‘ç¼“å­˜ç¼ºå¤±
   - ä¼˜åŒ–æ•°æ®ç»“æ„ã€æé«˜ç¼“å­˜å‹å¥½æ€§

2. **ä¼ªå…±äº«ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨å¡«å……ã€æ¯CPUå˜é‡
   - å‡å°‘å…±äº«æ•°æ®ã€ä¼˜åŒ–æ•°æ®ç»“æ„å¸ƒå±€
   - ä½¿ç”¨ç¼–è¯‘å™¨ä¼˜åŒ–ã€è‡ªåŠ¨æ£€æµ‹ä¼ªå…±äº«

3. **ä¸€è‡´æ€§ä¼˜åŒ–**ï¼š
   - å‡å°‘å…±äº«æ•°æ®ã€ä½¿ç”¨æ¯CPUå˜é‡
   - ä¼˜åŒ–ä¸€è‡´æ€§åè®®ã€ä½¿ç”¨ç›‘å¬è¿‡æ»¤å™¨
   - NUMAä¼˜åŒ–ã€å‡å°‘è·¨èŠ‚ç‚¹è®¿é—®

## ğŸ“Š æ€ç»´è¡¨å¾ä½“ç³»

### ğŸ“Š 1. æ€ç»´å¯¼å›¾ï¼ˆå¢å¼ºç‰ˆï¼‰

#### 1.1 æ–‡æœ¬æ ¼å¼ï¼ˆåŸºç¡€ç‰ˆï¼‰

```text
1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„
â”œâ”€â”€ ç†è®ºåŸºç¡€
â”‚   â”œâ”€â”€ æ ¸å¿ƒæ¦‚å¿µ
â”‚   â”œâ”€â”€ å½¢å¼åŒ–å®šä¹‰
â”‚   â””â”€â”€ æ•°å­¦åŸºç¡€
â”œâ”€â”€ å®è·µåº”ç”¨
â”‚   â”œâ”€â”€ å®é™…æ¡ˆä¾‹
â”‚   â”œâ”€â”€ æœ€ä½³å®è·µ
â”‚   â””â”€â”€ æ€§èƒ½ä¼˜åŒ–
â””â”€â”€ å…³è”å…³ç³»
    â”œâ”€â”€ ç›¸å…³ç†è®º
    â”œâ”€â”€ åº”ç”¨åœºæ™¯
    â””â”€â”€ å­¦ä¹ è·¯å¾„
```

#### 1.2 Mermaidæ ¼å¼ï¼ˆå¯è§†åŒ–ç‰ˆï¼‰

```mermaid
mindmap
  root((1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„))
    ç†è®ºåŸºç¡€
      æ ¸å¿ƒæ¦‚å¿µ
      å½¢å¼åŒ–å®šä¹‰
      æ•°å­¦åŸºç¡€
    å®è·µåº”ç”¨
      å®é™…æ¡ˆä¾‹
      æœ€ä½³å®è·µ
      æ€§èƒ½ä¼˜åŒ–
    å…³è”å…³ç³»
      ç›¸å…³ç†è®º
      åº”ç”¨åœºæ™¯
      å­¦ä¹ è·¯å¾„
```

### ğŸ“Š 2. å¤šç»´å¯¹æ¯”çŸ©é˜µ

#### 2.1 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„å¯¹æ¯”çŸ©é˜µ

| ç»´åº¦ | ç¼“å­˜å‘½ä¸­ç‡ | è®¿é—®å»¶è¿Ÿ | å¸¦å®½åˆ©ç”¨ç‡ | ä¸€è‡´æ€§å¼€é”€ |
|------|-----------|---------|-----------|-----------|
| **æ€§èƒ½** | å‘½ä¸­ç‡>90% | å»¶è¿Ÿ<40ns | åˆ©ç”¨ç‡>80% | å¼€é”€<5% |
| **å¤æ‚åº¦** | é«˜(éœ€æ›¿æ¢ç®—æ³•) | ä¸­ç­‰(éœ€å±‚æ¬¡è®¾è®¡) | ä¸­ç­‰(éœ€å¸¦å®½ç®¡ç†) | é«˜(éœ€ä¸€è‡´æ€§åè®®) |
| **é€‚ç”¨åœºæ™¯** | æ‰€æœ‰åœºæ™¯ | æ‰€æœ‰åœºæ™¯ | å†…å­˜å¯†é›†å‹ | å¤šæ ¸ç³»ç»Ÿ |
| **æŠ€æœ¯æˆç†Ÿåº¦** | æˆç†Ÿ(>40å¹´) | æˆç†Ÿ(>40å¹´) | æˆç†Ÿ(>30å¹´) | æˆç†Ÿ(>30å¹´) |

#### 2.2 æŠ€æœ¯ç‰¹æ€§å¯¹æ¯”çŸ©é˜µ

| æŠ€æœ¯ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ | æ€§èƒ½ |
|------|------|------|---------|------|
| **L1ç¼“å­˜** | å»¶è¿Ÿæœ€ä½ã€å¸¦å®½æœ€é«˜ | å®¹é‡å°ã€æˆæœ¬é«˜ | æ‰€æœ‰åœºæ™¯ã€å…³é”®è·¯å¾„ | å»¶è¿Ÿ1nsï¼Œå‘½ä¸­ç‡>95% |
| **L2ç¼“å­˜** | å®¹é‡å¤§ã€å»¶è¿Ÿé€‚ä¸­ | å»¶è¿Ÿé«˜äºL1 | æ‰€æœ‰åœºæ™¯ã€å®¹é‡éœ€æ±‚ | å»¶è¿Ÿ4-12nsï¼Œå‘½ä¸­ç‡85-95% |
| **L3ç¼“å­˜** | å®¹é‡æœ€å¤§ã€å…±äº«æ€§å¥½ | å»¶è¿Ÿé«˜ã€å¸¦å®½ä½ | å¤šæ ¸ç³»ç»Ÿã€å…±äº«æ•°æ® | å»¶è¿Ÿ15-40nsï¼Œå‘½ä¸­ç‡70-85% |
| **LRUæ›¿æ¢ç®—æ³•** | ç®€å•ã€é€‚åˆæ—¶é—´å±€éƒ¨æ€§ | æ‰«ææ¨¡å¼æ€§èƒ½å·® | é€šç”¨åœºæ™¯ã€æ—¶é—´å±€éƒ¨æ€§ | å‘½ä¸­ç‡85-95%ï¼Œå¼€é”€ä½ |
| **ä¼ªLRUæ›¿æ¢ç®—æ³•** | ç¡¬ä»¶å®ç°ç®€å• | æ€§èƒ½ç•¥ä½äºLRU | ç¡¬ä»¶å®ç°ã€èµ„æºå—é™ | å‘½ä¸­ç‡80-90%ï¼Œå®ç°ç®€å• |
| **MESIä¸€è‡´æ€§åè®®** | æ ‡å‡†åè®®ã€æ€§èƒ½å¥½ | å®ç°å¤æ‚ã€å¼€é”€å¤§ | å¤šæ ¸ç³»ç»Ÿã€å…±äº«å†…å­˜ | ä¸€è‡´æ€§å¼€é”€5-10%ï¼Œæ€§èƒ½å¥½ |
| **MOESIä¸€è‡´æ€§åè®®** | ä¼˜åŒ–å†™å›ã€æ€§èƒ½æ›´å¥½ | å®ç°æ›´å¤æ‚ | é«˜æ€§èƒ½å¤šæ ¸ç³»ç»Ÿ | ä¸€è‡´æ€§å¼€é”€3-8%ï¼Œæ€§èƒ½æ›´å¥½ |
| **é¢„å–ç­–ç•¥** | éšè—å»¶è¿Ÿã€æå‡æ€§èƒ½ | å¯èƒ½æµªè´¹å¸¦å®½ | é¡ºåºè®¿é—®ã€å¯é¢„æµ‹æ¨¡å¼ | æ€§èƒ½æå‡20-50%ï¼Œå¸¦å®½å¼€é”€10-20% |

#### 2.3 å®ç°æ–¹å¼å¯¹æ¯”çŸ©é˜µ

| å®ç°æ–¹å¼ | å¤æ‚åº¦ | æ€§èƒ½ | å¯ç»´æŠ¤æ€§ | æ‰©å±•æ€§ |
|---------|-------|------|---------|-------|
| **å•çº§ç¼“å­˜** | ä½ | ä¸­ç­‰æ€§èƒ½(å•çº§) | é«˜(ç®€å•ç»´æŠ¤) | ä½(å•çº§ç“¶é¢ˆ) |
| **å¤šçº§ç¼“å­˜å±‚æ¬¡** | é«˜ | é«˜æ€§èƒ½(å±‚æ¬¡ä¼˜åŒ–) | ä¸­(éœ€åè°ƒ) | é«˜(å±‚æ¬¡æ‰©å±•) |
| **å…±äº«ç¼“å­˜** | ä¸­ | é«˜æ€§èƒ½(å…±äº«ä¼˜åŒ–) | ä¸­(éœ€ä¸€è‡´æ€§) | ä¸­(å…±äº«æ‰©å±•) |
| **æ··åˆç¼“å­˜æ¶æ„** | æé«˜ | æé«˜æ€§èƒ½(ä¼˜åŠ¿ç»“åˆ) | ä½(å¤æ‚åº¦æé«˜) | ä¸­(æ‰©å±•å›°éš¾) |

### ğŸŒ² 3. å†³ç­–æ ‘

#### 3.1 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„åº”ç”¨é€‰æ‹©å†³ç­–æ ‘

```mermaid
graph TD
    A[ç¡®å®šéœ€æ±‚] --> B{éœ€æ±‚ç±»å‹?}

    B -->|æ€§èƒ½ä¼˜å…ˆ| C[é€‰æ‹©é«˜æ€§èƒ½æ–¹æ¡ˆ]
    B -->|å¤æ‚åº¦ä¼˜å…ˆ| D[é€‰æ‹©ç®€å•æ–¹æ¡ˆ]
    B -->|æˆæœ¬ä¼˜å…ˆ| E[é€‰æ‹©ç»æµæ–¹æ¡ˆ]

    C --> F[å®æ–½æ–¹æ¡ˆ]
    D --> F
    E --> F
```

### ğŸ›¤ï¸ 4. å†³ç­–é€»è¾‘è·¯å¾„

#### 4.1 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„åº”ç”¨è·¯å¾„

```mermaid
graph LR
    A[é—®é¢˜è¯†åˆ«] --> B[ç†è®ºåˆ†æ]
    B --> C[æ–¹æ¡ˆè®¾è®¡]
    C --> D[å®æ–½éªŒè¯]
    D --> E[ä¼˜åŒ–æ”¹è¿›]
```

### ğŸ•¸ï¸ 5. æ¦‚å¿µå…³ç³»ç½‘ç»œ

#### 5.1 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„æ¦‚å¿µå…³ç³»ç½‘ç»œ

```mermaid
graph TD
    A[1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„] --> B[ç†è®ºåŸºç¡€]
    A --> C[å®è·µåº”ç”¨]
    A --> D[å…³è”å…³ç³»]

    B --> B1[æ ¸å¿ƒæ¦‚å¿µ/å½¢å¼åŒ–å®šä¹‰/æ•°å­¦åŸºç¡€]
    C --> C1[å®é™…æ¡ˆä¾‹/æœ€ä½³å®è·µ/æ€§èƒ½ä¼˜åŒ–]
    D --> D1[ç›¸å…³ç†è®º/åº”ç”¨åœºæ™¯/å­¦ä¹ è·¯å¾„]
```

### ğŸ—ºï¸ 6. çŸ¥è¯†å›¾è°±

#### 6.1 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„çŸ¥è¯†å›¾è°±

```mermaid
graph LR
    A((1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„)) --åŒ…æ‹¬--> B((ç†è®ºåŸºç¡€))
    A --å¯¹åº”--> C((å®è·µåº”ç”¨))
    A --åº”ç”¨--> D((å…³è”å…³ç³»))

    B --> E((æ ¸å¿ƒæ¦‚å¿µ/å®šä¹‰/åŸºç¡€))
    C --> F((æ¡ˆä¾‹/å®è·µ/ä¼˜åŒ–))
    D --> G((ç†è®º/åœºæ™¯/è·¯å¾„))

    style A fill:#ffcccc
    style B fill:#ccffcc
    style C fill:#ccccff
    style D fill:#ffffcc
```

## ğŸ“š ç†è®ºä½“ç³»

### ç†è®ºåŸºç¡€

#### è°ƒåº¦ç³»ç»Ÿ/ç¡¬ä»¶/è½¯ä»¶åŸºç¡€

1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„çš„ç†è®ºåŸºç¡€ï¼š

**1. è°ƒåº¦ç³»ç»ŸåŸºç¡€**ï¼š

- è°ƒåº¦ç†è®º
- èµ„æºç®¡ç†
- æ€§èƒ½ä¼˜åŒ–

**2. ç¡¬ä»¶åŸºç¡€**ï¼š

- CPUæ¶æ„
- å†…å­˜ç³»ç»Ÿ
- å­˜å‚¨ç³»ç»Ÿ

**3. è½¯ä»¶åŸºç¡€**ï¼š

- æ“ä½œç³»ç»Ÿ
- ç¼–ç¨‹è¯­è¨€
- ç³»ç»Ÿè½¯ä»¶

#### å†å²å‘å±•

**å…³é”®æ—¶é—´èŠ‚ç‚¹**ï¼š

- **1960-1970å¹´ä»£**ï¼šè°ƒåº¦ç†è®ºå»ºç«‹
  - è°ƒåº¦ç®—æ³•
  - èµ„æºç®¡ç†

- **1980-1990å¹´ä»£**ï¼šç¡¬ä»¶è°ƒåº¦å‘å±•
  - CPUè°ƒåº¦
  - å†…å­˜è°ƒåº¦

- **2000å¹´ä»£è‡³ä»Š**ï¼šè½¯ä»¶è°ƒåº¦æ¼”è¿›
  - æ“ä½œç³»ç»Ÿè°ƒåº¦
  - åˆ†å¸ƒå¼è°ƒåº¦

### ç†è®ºæ¡†æ¶

#### æ ¸å¿ƒå‡è®¾

**å‡è®¾1ï¼šè°ƒåº¦ä¸æ€§èƒ½çš„å¯¹åº”**

- **å†…å®¹**ï¼šè°ƒåº¦ç­–ç•¥å½±å“ç³»ç»Ÿæ€§èƒ½
- **é€‚ç”¨èŒƒå›´**ï¼šè°ƒåº¦ç³»ç»Ÿ
- **é™åˆ¶æ¡ä»¶**ï¼šéœ€è¦è°ƒåº¦æ”¯æŒ

**å‡è®¾2ï¼šèµ„æºç®¡ç†çš„å¿…è¦æ€§**

- **å†…å®¹**ï¼šèµ„æºç®¡ç†ä¿è¯ç³»ç»Ÿç¨³å®š
- **é€‚ç”¨èŒƒå›´**ï¼šèµ„æºç³»ç»Ÿ
- **é™åˆ¶æ¡ä»¶**ï¼šéœ€è¦èµ„æºæ”¯æŒ

**å‡è®¾3ï¼šæ€§èƒ½ä¼˜åŒ–çš„ä»·å€¼**

- **å†…å®¹**ï¼šæ€§èƒ½ä¼˜åŒ–æå‡æ•ˆç‡
- **é€‚ç”¨èŒƒå›´**ï¼šæ€§èƒ½ç³»ç»Ÿ
- **é™åˆ¶æ¡ä»¶**ï¼šéœ€è¦è€ƒè™‘æˆæœ¬

#### åŸºæœ¬æ¦‚å¿µä½“ç³»

```mermaid
graph TD
    A[1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„] --> B[è°ƒåº¦ç³»ç»ŸåŸºç¡€]
    A --> C[ç¡¬ä»¶åŸºç¡€]
    A --> D[è½¯ä»¶åŸºç¡€]
```

#### ä¸»è¦å®šç†/ç»“è®º

**ç»“è®º1ï¼šè°ƒåº¦ä¸æ€§èƒ½çš„å¯¹åº”æ€§**

- **å†…å®¹**ï¼šè°ƒåº¦ç­–ç•¥å¯¹åº”ç³»ç»Ÿæ€§èƒ½
- **è¯æ®**ï¼šå½¢å¼åŒ–è¯æ˜
- **åº”ç”¨**ï¼šè°ƒåº¦ä¼˜åŒ–

**ç»“è®º2ï¼šèµ„æºç®¡ç†çš„å¿…è¦æ€§**

- **å†…å®¹**ï¼šèµ„æºç®¡ç†ä¿è¯ç³»ç»Ÿç¨³å®š
- **è¯æ®**ï¼šå®è·µéªŒè¯
- **åº”ç”¨**ï¼šèµ„æºç®¡ç†

**ç»“è®º3ï¼šæ€§èƒ½ä¼˜åŒ–çš„ä»·å€¼**

- **å†…å®¹**ï¼šæ€§èƒ½ä¼˜åŒ–æå‡æ•ˆç‡
- **è¯æ®**ï¼šå®éªŒéªŒè¯
- **åº”ç”¨**ï¼šæ€§èƒ½ä¼˜åŒ–

#### é€‚ç”¨èŒƒå›´å’Œè¾¹ç•Œ

**é€‚ç”¨èŒƒå›´**ï¼š

- è°ƒåº¦ç³»ç»Ÿ
- èµ„æºç®¡ç†
- æ€§èƒ½ä¼˜åŒ–

**è¾¹ç•Œæ¡ä»¶**ï¼š

- éœ€è¦è°ƒåº¦æ”¯æŒ
- éœ€è¦èµ„æºæ”¯æŒ
- éœ€è¦è€ƒè™‘æˆæœ¬

**ä¸é€‚ç”¨åœºæ™¯**ï¼š

- æ— è°ƒåº¦ç³»ç»Ÿ
- èµ„æºå—é™
- æˆæœ¬æ•æ„Ÿåœºæ™¯

### å½“å‰çŸ¥è¯†å…±è¯†

#### å­¦æœ¯ç•Œå…±è¯†

**å¹¿æ³›æ¥å—çš„å…±è¯†**ï¼š

1. **è°ƒåº¦ä¸æ€§èƒ½çš„å¯¹åº”æ€§**
   - **å…±è¯†**ï¼šè°ƒåº¦ç­–ç•¥å¯ä»¥å½±å“ç³»ç»Ÿæ€§èƒ½
   - **æ”¯æŒè¯æ®**ï¼šå½¢å¼åŒ–è¯æ˜
   - **æ¥æº**ï¼šè°ƒåº¦ç†è®ºã€ç³»ç»Ÿç†è®º

2. **èµ„æºç®¡ç†çš„ä»·å€¼**
   - **å…±è¯†**ï¼šèµ„æºç®¡ç†æä¾›ç¨³å®šæ€§å’Œæ•ˆç‡
   - **æ”¯æŒè¯æ®**ï¼šå¹¿æ³›å®è·µ
   - **æ¥æº**ï¼šç³»ç»Ÿç†è®º

3. **æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§**
   - **å…±è¯†**ï¼šæ€§èƒ½ä¼˜åŒ–æé«˜ç³»ç»Ÿæ•ˆç‡
   - **æ”¯æŒè¯æ®**ï¼šå®è·µéªŒè¯
   - **æ¥æº**ï¼šè½¯ä»¶å·¥ç¨‹

#### ä¸»è¦äº‰è®®ç‚¹

1. **æ€§èƒ½ä¸æˆæœ¬çš„æƒè¡¡**
   - **è§‚ç‚¹A**ï¼šæ€§èƒ½æ›´é‡è¦
   - **è§‚ç‚¹B**ï¼šæˆæœ¬æ›´é‡è¦
   - **å½“å‰çŠ¶æ€**ï¼šå¤šæ•°è®¤ä¸ºéœ€è¦å¹³è¡¡

2. **è°ƒåº¦ç³»ç»Ÿçš„å¤æ‚åº¦**
   - **è§‚ç‚¹A**ï¼šåº”è¯¥ç®€å•
   - **è§‚ç‚¹B**ï¼šå¯ä»¥å¤æ‚
   - **å½“å‰çŠ¶æ€**ï¼šå¤šæ•°è®¤ä¸ºéœ€è¦å¹³è¡¡

#### æƒå¨æ¥æº

**ç»å…¸æ–‡çŒ®**ï¼š

- è°ƒåº¦ç†è®ºç›¸å…³æ–‡çŒ®
- ç³»ç»Ÿç†è®ºç›¸å…³æ–‡çŒ®
- æ€§èƒ½ä¼˜åŒ–ç›¸å…³æ–‡çŒ®

**æƒå¨æœºæ„/ä¸“å®¶**ï¼š

- **IEEE**
- **ACM**
- **è°ƒåº¦ç³»ç»Ÿç ”ç©¶ä¼š**

**æœ€æ–°å‘å±•**ï¼š

- **2025å¹´**ï¼šè°ƒåº¦ç³»ç»Ÿä¼˜åŒ–ã€æ€§èƒ½æå‡ã€èµ„æºç®¡ç†

### ä¸å…¶ä»–ç†è®ºçš„å…³ç³»

#### é€»è¾‘å…³ç³»

**ç†è®ºåŸºç¡€**ï¼š

- **è°ƒåº¦ç†è®º** â†’ 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„
  - å…³ç³»ç±»å‹ï¼šç†è®ºåŸºç¡€
  - å…³é”®æ˜ å°„ï¼šè°ƒåº¦ç†è®º â†’ ç³»ç»Ÿå®ç°

**ç†è®ºåº”ç”¨**ï¼š

- **1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„** â†’ è°ƒåº¦ä¼˜åŒ–
  - å…³ç³»ç±»å‹ï¼šåº”ç”¨æ„å»º
  - å…³é”®æ˜ å°„ï¼š1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„ â†’ è°ƒåº¦ä¼˜åŒ–

#### æ˜ å°„å…³ç³»

| æœ¬ç†è®ºæ¦‚å¿µ | æ˜ å°„ç†è®º | æ˜ å°„æ¦‚å¿µ | æ˜ å°„ç±»å‹ | æ˜ å°„è¯´æ˜ |
|-----------|---------|---------|---------|----------|
| **è°ƒåº¦ç­–ç•¥** | è°ƒåº¦ç†è®º | è°ƒåº¦ç®—æ³• | å¯¹åº” | è°ƒåº¦ç­–ç•¥å¯¹åº”è°ƒåº¦ç®—æ³• |
| **èµ„æºç®¡ç†** | ç³»ç»Ÿç†è®º | èµ„æºåˆ†é… | å¯¹åº” | èµ„æºç®¡ç†å¯¹åº”èµ„æºåˆ†é… |
| **æ€§èƒ½ä¼˜åŒ–** | ä¼˜åŒ–ç†è®º | æ€§èƒ½æå‡ | å¯¹åº” | æ€§èƒ½ä¼˜åŒ–å¯¹åº”æ€§èƒ½æå‡ |

## ğŸ”— å…³è”ç½‘ç»œ

### ğŸ”— æ¦‚å¿µçº§å…³è”

#### æ ¸å¿ƒæ¦‚å¿µæ˜ å°„

| æœ¬æ–‡æ¡£æ¦‚å¿µ | å…³è”æ–‡æ¡£ | å…³è”æ¦‚å¿µ | å…³ç³»ç±»å‹ | æ˜ å°„è¯´æ˜ |
|-----------|---------|---------|---------|----------|
| **1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„** | ç›¸å…³æ–‡æ¡£ | ç›¸å…³æ¦‚å¿µ | åŸºç¡€æ„å»º | 1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„æ„å»ºç›¸å…³æ¦‚å¿µ |
| **è°ƒåº¦ç³»ç»Ÿ** | è°ƒåº¦ç›¸å…³ | è°ƒåº¦ç†è®º | å¯¹åº” | è°ƒåº¦ç³»ç»Ÿå¯¹åº”è°ƒåº¦ç†è®º |
| **èµ„æºç®¡ç†** | èµ„æºç›¸å…³ | èµ„æºç³»ç»Ÿ | å¯¹åº” | èµ„æºç®¡ç†å¯¹åº”èµ„æºç³»ç»Ÿ |
| **æ€§èƒ½ä¼˜åŒ–** | æ€§èƒ½ç›¸å…³ | æ€§èƒ½ç³»ç»Ÿ | å¯¹åº” | æ€§èƒ½ä¼˜åŒ–å¯¹åº”æ€§èƒ½ç³»ç»Ÿ |

### ğŸ”— ç†è®ºçº§å…³è”

#### ç†è®ºåŸºç¡€

- **æœ¬ç†è®ºåŸºäº**ï¼š
  - è°ƒåº¦ç†è®º â­â­â­ - ç†è®ºåŸºç¡€
  - ç³»ç»Ÿç†è®º â­â­ - ç³»ç»ŸåŸºç¡€

- **æœ¬ç†è®ºåº”ç”¨äº**ï¼š
  - è°ƒåº¦ä¼˜åŒ– â­â­â­ - å®é™…åº”ç”¨
  - æ€§èƒ½ä¼˜åŒ– â­â­â­ - å®é™…åº”ç”¨

### ğŸ”— æ–¹æ³•çº§å…³è”

#### æ–¹æ³•åº”ç”¨ç½‘ç»œ

| æœ¬æ–‡æ¡£æ–¹æ³• | åº”ç”¨æ–‡æ¡£ | åº”ç”¨åœºæ™¯ | åº”ç”¨æ•ˆæœ |
|-----------|---------|---------|---------|
| **è°ƒåº¦ç­–ç•¥** | è°ƒåº¦ç³»ç»Ÿ | è°ƒåº¦è®¾è®¡ | æˆåŠŸ |
| **èµ„æºç®¡ç†** | èµ„æºç³»ç»Ÿ | èµ„æºç®¡ç† | æˆåŠŸ |
| **æ€§èƒ½ä¼˜åŒ–** | æ€§èƒ½ç³»ç»Ÿ | æ€§èƒ½æå‡ | æˆåŠŸ |

### ğŸ”— åº”ç”¨åœºæ™¯å…³è”

**åœºæ™¯**ï¼šè°ƒåº¦ç³»ç»Ÿä¼˜åŒ–

| è§†è§’ | å…³è”æ–‡æ¡£ | æ ¸å¿ƒç†è®º | å…³æ³¨ç‚¹ |
|------|---------|---------|--------|
| **1.2 ç¼“å­˜å±‚æ¬¡ç»“æ„** | æœ¬æ–‡æ¡£ | è°ƒåº¦ç†è®º | è°ƒåº¦è®¾è®¡ |
| **è°ƒåº¦ä¼˜åŒ–** | è°ƒåº¦ç›¸å…³ | è°ƒåº¦ç†è®º | è°ƒåº¦ä¼˜åŒ– |
| **æ€§èƒ½ä¼˜åŒ–** | æ€§èƒ½ç›¸å…³ | æ€§èƒ½ç†è®º | æ€§èƒ½æå‡ |

## ğŸ›¤ï¸ å­¦ä¹ è·¯å¾„

### å‰ç½®çŸ¥è¯†

**å¿…é¡»å…ˆå­¦ä¹ **ï¼š

- è°ƒåº¦ç†è®ºåŸºç¡€ â­â­
- ç³»ç»Ÿç†è®ºåŸºç¡€ â­â­

**å»ºè®®å…ˆäº†è§£**ï¼š

- ç¡¬ä»¶åŸºç¡€
- è½¯ä»¶åŸºç¡€
- æ€§èƒ½ä¼˜åŒ–

### åç»­å­¦ä¹ 

**å»ºè®®æ¥ä¸‹æ¥å­¦ä¹ **ï¼ˆæŒ‰é¡ºåºï¼‰ï¼š

1. è°ƒåº¦ä¼˜åŒ– â­â­â­ - è°ƒåº¦ä¼˜åŒ–
2. æ€§èƒ½ä¼˜åŒ– â­â­â­ - æ€§èƒ½ä¼˜åŒ–
3. ç³»ç»Ÿå®è·µ â­â­ - å®è·µåº”ç”¨

### å¹¶è¡Œå­¦ä¹ 

**å¯ä»¥åŒæ—¶å­¦ä¹ **ï¼š

- è°ƒåº¦å®è·µ - å®è·µåº”ç”¨
- æ€§èƒ½å®è·µ - æ€§èƒ½ç³»ç»Ÿ

---
