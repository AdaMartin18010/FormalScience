# 6.1 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦

> **ä¸»é¢˜**: 06. è°ƒåº¦æ¨¡å‹ - 6.1 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦
> **è¦†ç›–**: æŒ‡ä»¤è°ƒåº¦ã€å†…å­˜è°ƒåº¦ã€ç¼“å­˜è°ƒåº¦ã€åˆ†æ”¯è°ƒåº¦

---

## ğŸ“‹ ç›®å½•

- [6.1 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦](#61-ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1 æŒ‡ä»¤è°ƒåº¦](#1-æŒ‡ä»¤è°ƒåº¦)
    - [1.1 è¶…æ ‡é‡å‘å°„](#11-è¶…æ ‡é‡å‘å°„)
    - [1.2 ä¹±åºæ‰§è¡Œ](#12-ä¹±åºæ‰§è¡Œ)
  - [2 å†…å­˜è°ƒåº¦](#2-å†…å­˜è°ƒåº¦)
    - [2.1 MOBï¼ˆMemory Order Bufferï¼‰](#21-mobmemory-order-buffer)
    - [2.2 å­˜å‚¨-è£…è½½è½¬å‘](#22-å­˜å‚¨-è£…è½½è½¬å‘)
  - [3 ç¼“å­˜è°ƒåº¦](#3-ç¼“å­˜è°ƒåº¦)
    - [3.1 ç¼“å­˜å±‚æ¬¡](#31-ç¼“å­˜å±‚æ¬¡)
    - [2.2 ç¼“å­˜ä¸€è‡´æ€§åè®®](#22-ç¼“å­˜ä¸€è‡´æ€§åè®®)
  - [4 åˆ†æ”¯è°ƒåº¦](#4-åˆ†æ”¯è°ƒåº¦)
    - [4.1 åˆ†æ”¯é¢„æµ‹å™¨](#41-åˆ†æ”¯é¢„æµ‹å™¨)
    - [3.2 è¯¯é¢„æµ‹æƒ©ç½š](#32-è¯¯é¢„æµ‹æƒ©ç½š)
  - [5 åŠŸè€—è°ƒåº¦](#5-åŠŸè€—è°ƒåº¦)
    - [5.1 RAPLï¼ˆRunning Average Power Limitï¼‰](#51-raplrunning-average-power-limit)
    - [4.2 æ—¶é’Ÿé—¨æ§](#42-æ—¶é’Ÿé—¨æ§)
  - [6 å®è·µæ¡ˆä¾‹](#6-å®è·µæ¡ˆä¾‹)
    - [6.1 Intel Skylakeå¾®æ¶æ„è°ƒåº¦ä¼˜åŒ–](#61-intel-skylakeå¾®æ¶æ„è°ƒåº¦ä¼˜åŒ–)
    - [6.2 Apple M3èƒ½æ•ˆä¼˜åŒ–](#62-apple-m3èƒ½æ•ˆä¼˜åŒ–)
  - [7 è°ƒåº¦å»¶è¿Ÿå¯¹æ¯”](#7-è°ƒåº¦å»¶è¿Ÿå¯¹æ¯”)
  - [8 æ‰¹åˆ¤æ€§æ€»ç»“](#8-æ‰¹åˆ¤æ€§æ€»ç»“)
    - [8.1 ç¡¬ä»¶è°ƒåº¦çš„å±€é™æ€§](#81-ç¡¬ä»¶è°ƒåº¦çš„å±€é™æ€§)
    - [8.2 2025å¹´ç¡¬ä»¶è°ƒåº¦è¶‹åŠ¿](#82-2025å¹´ç¡¬ä»¶è°ƒåº¦è¶‹åŠ¿)
  - [9 è·¨é¢†åŸŸæ´å¯Ÿ](#9-è·¨é¢†åŸŸæ´å¯Ÿ)
    - [6.1 ç¡¬ä»¶è°ƒåº¦çš„ç‰©ç†æé™](#61-ç¡¬ä»¶è°ƒåº¦çš„ç‰©ç†æé™)
    - [6.2 åŠŸè€—è°ƒåº¦çš„æš—ç¡…æ•ˆåº”](#62-åŠŸè€—è°ƒåº¦çš„æš—ç¡…æ•ˆåº”)
  - [10 å¤šç»´åº¦å¯¹æ¯”](#10-å¤šç»´åº¦å¯¹æ¯”)
    - [7.1 ç¡¬ä»¶è°ƒåº¦å±‚æ¬¡å¯¹æ¯”](#71-ç¡¬ä»¶è°ƒåº¦å±‚æ¬¡å¯¹æ¯”)
    - [7.2 åŠŸè€—ç®¡ç†ç­–ç•¥å¯¹æ¯”](#72-åŠŸè€—ç®¡ç†ç­–ç•¥å¯¹æ¯”)
  - [11 æœ€ä½³å®è·µä¸æ•…éšœæ’æŸ¥](#11-æœ€ä½³å®è·µä¸æ•…éšœæ’æŸ¥)
    - [11.1 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦æœ€ä½³å®è·µï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰](#111-ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦æœ€ä½³å®è·µ2025å¹´11æœˆæœ€æ–°)
    - [11.2 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦æ•…éšœæ’æŸ¥ï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰](#112-ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦æ•…éšœæ’æŸ¥2025å¹´11æœˆæœ€æ–°)
  - [12 2025å¹´æœ€æ–°æŠ€æœ¯ï¼ˆæ›´æ–°è‡³2025å¹´11æœˆï¼‰](#12-2025å¹´æœ€æ–°æŠ€æœ¯æ›´æ–°è‡³2025å¹´11æœˆ)
  - [13 æ€ç»´å¯¼å›¾](#13-æ€ç»´å¯¼å›¾)
  - [14 ç›¸å…³ä¸»é¢˜](#14-ç›¸å…³ä¸»é¢˜)

---

## 1 æŒ‡ä»¤è°ƒåº¦

### 1.1 è¶…æ ‡é‡å‘å°„

**æ¡ˆä¾‹6.1.1ï¼ˆè¶…æ ‡é‡å‘å°„è°ƒåº¦ï¼‰**ï¼š

ç°ä»£CPUä½¿ç”¨è¶…æ ‡é‡æ¶æ„ï¼Œæ¯ä¸ªå‘¨æœŸå¯ä»¥å‘å°„å¤šæ¡æŒ‡ä»¤ï¼Œæé«˜æŒ‡ä»¤çº§å¹¶è¡Œåº¦ï¼ˆILPï¼‰ã€‚

**å‘å°„å®½åº¦**ï¼š

**ä¸åŒæ¶æ„çš„å‘å°„å®½åº¦**ï¼š

- **Intel Skylake**ï¼š4å‘å°„/å‘¨æœŸ
- **AMD Zen4**ï¼š6å‘å°„/å‘¨æœŸ
- **Apple M3**ï¼š8å‘å°„/å‘¨æœŸ
- **ARM Cortex-X4**ï¼š6å‘å°„/å‘¨æœŸ

**å‘å°„å®½åº¦çš„å½±å“**ï¼š

å‘å°„å®½åº¦å†³å®šäº†**ç†è®ºå³°å€¼IPC**ï¼ˆInstructions Per Cycleï¼‰ï¼š

$$
\text{IPC}_{\max} = \text{å‘å°„å®½åº¦} \times \text{æ‰§è¡Œå•å…ƒåˆ©ç”¨ç‡}
$$

**å‘å°„è°ƒåº¦ç®—æ³•**ï¼š

```python
class SuperscalarScheduler:
    def __init__(self, issue_width=4):
        self.issue_width = issue_width
        self.instruction_queue = []
        self.execution_units = []

    def issue_instructions(self):
        """æ¯ä¸ªå‘¨æœŸå‘å°„æŒ‡ä»¤"""
        issued = []

        # ä»æŒ‡ä»¤é˜Ÿåˆ—ä¸­é€‰æ‹©å¯å‘å°„çš„æŒ‡ä»¤
        for inst in self.instruction_queue:
            if len(issued) >= self.issue_width:
                break

            # æ£€æŸ¥æ•°æ®ä¾èµ–
            if self.has_dependencies(inst):
                continue

            # æ£€æŸ¥æ‰§è¡Œå•å…ƒå¯ç”¨æ€§
            if not self.has_available_unit(inst):
                continue

            # å‘å°„æŒ‡ä»¤
            issued.append(inst)
            self.instruction_queue.remove(inst)
            self.allocate_unit(inst)

        return issued
```

**æ·±åº¦è®ºè¯ï¼šå‘å°„å®½åº¦çš„æ€§èƒ½-åŠŸè€—æƒè¡¡**

**å‘å°„å®½åº¦çš„æ€§èƒ½æ¨¡å‹**ï¼š

å‘å°„å®½åº¦å†³å®šäº†**ç†è®ºå³°å€¼IPC**ï¼š

$$
\text{IPC}_{\max} = \text{å‘å°„å®½åº¦} \times \text{æ‰§è¡Œå•å…ƒåˆ©ç”¨ç‡}
$$

**é‡åŒ–åˆ†æ**ï¼šä¸åŒå‘å°„å®½åº¦çš„æ€§èƒ½å¯¹æ¯”

| **æ¶æ„** | **å‘å°„å®½åº¦** | **ç†è®ºIPC** | **å®é™…IPC** | **åˆ©ç”¨ç‡** | **åŠŸè€—** |
|---------|------------|-----------|-----------|-----------|---------|
| **Intel Skylake** | 4 | 4.0 | 2.5 | 62.5% | åŸºå‡† |
| **AMD Zen4** | 6 | 6.0 | 3.2 | 53.3% | 1.2x |
| **Apple M3** | 8 | 8.0 | 4.5 | 56.3% | 1.5x |

**å…³é”®æ´å¯Ÿ**ï¼šå‘å°„å®½åº¦å¢åŠ ï¼Œä½†**å®é™…åˆ©ç”¨ç‡ä¸‹é™**ï¼Œå› ä¸ºï¼š

1. **æ•°æ®ä¾èµ–**ï¼šé™åˆ¶äº†å¹¶è¡Œåº¦
2. **èµ„æºç«äº‰**ï¼šæ‰§è¡Œå•å…ƒæˆä¸ºç“¶é¢ˆ
3. **åŠŸè€—é™åˆ¶**ï¼šæ— æ³•åŒæ—¶æ¿€æ´»æ‰€æœ‰å•å…ƒ

**æ‰§è¡Œå•å…ƒ**ï¼š

- æ•´æ•°ALUï¼š4ä¸ª
- æµ®ç‚¹å•å…ƒï¼š2ä¸ª
- å‘é‡å•å…ƒï¼š2ä¸ª

**æ·±åº¦è®ºè¯ï¼šæ‰§è¡Œå•å…ƒé…ç½®çš„æƒè¡¡**

**æ‰§è¡Œå•å…ƒé…ç½®çš„å½±å“**ï¼š

æ‰§è¡Œå•å…ƒé…ç½®å†³å®šäº†**ä¸åŒç±»å‹æŒ‡ä»¤çš„ååé‡**ï¼š

$$
\text{ååé‡} = \frac{\text{æ‰§è¡Œå•å…ƒæ•°}}{\text{æŒ‡ä»¤å»¶è¿Ÿ}}
$$

**é‡åŒ–å¯¹æ¯”**ï¼šä¸åŒæ¶æ„çš„æ‰§è¡Œå•å…ƒé…ç½®

| **æ¶æ„** | **æ•´æ•°ALU** | **æµ®ç‚¹å•å…ƒ** | **å‘é‡å•å…ƒ** | **é€‚ç”¨åœºæ™¯** |
|---------|-----------|------------|------------|------------|
| **Intel Skylake** | 4 | 2 | 2Ã—512b | é€šç”¨ |
| **AMD Zen4** | 6 | 4 | 2Ã—512b | é«˜æ€§èƒ½ |
| **Apple M3** | 8 | 4 | 4Ã—128b | èƒ½æ•ˆä¼˜åŒ– |

**å…³é”®æƒè¡¡**ï¼š

- **æ•´æ•°å•å…ƒå¤š**ï¼šé€‚åˆé€šç”¨è®¡ç®—
- **æµ®ç‚¹å•å…ƒå¤š**ï¼šé€‚åˆç§‘å­¦è®¡ç®—
- **å‘é‡å•å…ƒå¤š**ï¼šé€‚åˆAI/MLå·¥ä½œè´Ÿè½½

### 1.2 ä¹±åºæ‰§è¡Œ

**æ¡ˆä¾‹6.1.2ï¼ˆä¹±åºæ‰§è¡Œè°ƒåº¦ï¼‰**ï¼š

ä¹±åºæ‰§è¡Œå…è®¸æŒ‡ä»¤åœ¨æ•°æ®å°±ç»ªæ—¶ç«‹å³æ‰§è¡Œï¼Œæ¶ˆé™¤æ•°æ®ä¾èµ–é˜»å¡ï¼Œæé«˜ILPã€‚

**ä¿ç•™ç«™ï¼ˆRSï¼‰**ï¼š

**ä¿ç•™ç«™æ¶æ„**ï¼š

- **Intel Skylake**ï¼š97æ¡ç›®
- **AMD Zen4**ï¼š160æ¡ç›®
- **Apple M3**ï¼š192æ¡ç›®

**ä¿ç•™ç«™çš„ä½œç”¨**ï¼š

ä¿ç•™ç«™å­˜å‚¨ç­‰å¾…æ‰§è¡Œçš„å¾®æŒ‡ä»¤ï¼Œå½“æ“ä½œæ•°å°±ç»ªæ—¶ç«‹å³æ‰§è¡Œï¼š

```python
class ReservationStation:
    def __init__(self, capacity=97):
        self.capacity = capacity
        self.entries = []
        self.execution_units = []

    def dispatch(self, instruction):
        """åˆ†å‘æŒ‡ä»¤åˆ°æ‰§è¡Œå•å…ƒ"""
        # æ£€æŸ¥æ“ä½œæ•°æ˜¯å¦å°±ç»ª
        if self.operands_ready(instruction):
            # é€‰æ‹©æ‰§è¡Œå•å…ƒ
            unit = self.select_unit(instruction)
            # æ‰§è¡ŒæŒ‡ä»¤
            result = unit.execute(instruction)
            # æ›´æ–°ä¾èµ–çš„æŒ‡ä»¤
            self.wakeup_dependent(instruction, result)

    def wakeup_dependent(self, completed, result):
        """å”¤é†’ä¾èµ–çš„æŒ‡ä»¤"""
        for entry in self.entries:
            if entry.depends_on(completed):
                entry.update_operand(completed, result)
                if entry.operands_ready():
                    self.dispatch(entry.instruction)
```

**æ·±åº¦è®ºè¯ï¼šä¿ç•™ç«™å®¹é‡çš„å½±å“**

**ä¿ç•™ç«™çš„ä½œç”¨**ï¼š

ä¿ç•™ç«™å…è®¸**æŒ‡ä»¤åœ¨æ•°æ®å°±ç»ªæ—¶ç«‹å³æ‰§è¡Œ**ï¼Œæ¶ˆé™¤æ•°æ®ä¾èµ–é˜»å¡ï¼š

$$
\text{æ€§èƒ½æå‡} = \frac{\text{ä¾èµ–å»¶è¿Ÿ}}{\text{ä¿ç•™ç«™å®¹é‡}}
$$

**é‡åŒ–åˆ†æ**ï¼šä¿ç•™ç«™å®¹é‡çš„æ€§èƒ½å½±å“

| **ä¿ç•™ç«™å®¹é‡** | **ä¾èµ–æ©ç›–èƒ½åŠ›** | **æ€§èƒ½æå‡** | **åŠŸè€—å¢åŠ ** |
|--------------|---------------|------------|------------|
| **32æ¡ç›®** | ä½ | åŸºå‡† | åŸºå‡† |
| **64æ¡ç›®** | ä¸­ | +15% | +10% |
| **97æ¡ç›®** | é«˜ | +25% | +20% |

**é‡æ’åºç¼“å†²åŒºï¼ˆROBï¼‰**ï¼š

- **Intel Skylake**ï¼š224æ¡ç›®
- **AMD Zen4**ï¼š352æ¡ç›®
- ç»´æŠ¤æŒ‡ä»¤é¡ºåº

**æ·±åº¦è®ºè¯ï¼šROBå®¹é‡çš„æ”¶ç›Šé€’å‡**

**ROBå®¹é‡çš„æ€§èƒ½æ¨¡å‹**ï¼š

æ ¹æ®Littleå®šå¾‹ï¼ŒROBå®¹é‡ä¸ILPçš„å…³ç³»ï¼š

$$
\text{ILP}_{\max} = \frac{\text{ROBå®¹é‡}}{\text{å…³é”®è·¯å¾„é•¿åº¦}}
$$

**é‡åŒ–åˆ†æ**ï¼šROBå®¹é‡å¢åŠ çš„æ€§èƒ½æ”¶ç›Š

| **ROBå®¹é‡** | **ILPæå‡** | **IPCæå‡** | **åŠŸè€—å¢åŠ ** | **æ”¶ç›Šæ¯”** |
|------------|-----------|-----------|------------|-----------|
| **224æ¡ç›®** | åŸºå‡† | åŸºå‡† | åŸºå‡† | 1.0x |
| **352æ¡ç›®** | +15% | +12% | +30% | 0.4x |
| **512æ¡ç›®** | +20% | +15% | +50% | 0.3x |

**å…³é”®æ´å¯Ÿ**ï¼šROBå®¹é‡å¢åŠ å¸¦æ¥**æ”¶ç›Šé€’å‡**ï¼Œå› ä¸ºå®é™…ç“¶é¢ˆæ˜¯**å†…å­˜å»¶è¿Ÿ**è€ŒéROBå®¹é‡ã€‚

---

## 2 å†…å­˜è°ƒåº¦

### 2.1 MOBï¼ˆMemory Order Bufferï¼‰

**æ¡ˆä¾‹6.1.3ï¼ˆå†…å­˜è°ƒåº¦ï¼‰**ï¼š

MOBå…è®¸å†…å­˜æ“ä½œä¹±åºæ‰§è¡Œï¼ŒåŒæ—¶ä¿è¯å†…å­˜ä¸€è‡´æ€§ï¼Œæé«˜å†…å­˜å¹¶è¡Œåº¦ã€‚

**MOBç»“æ„**ï¼š

**ä¸åŒæ¶æ„çš„MOBé…ç½®**ï¼š

- **Intel Skylake**ï¼šLoad Buffer 72æ¡ç›®ï¼ŒStore Buffer 42æ¡ç›®
- **AMD Zen4**ï¼šLoad Buffer 128æ¡ç›®ï¼ŒStore Buffer 72æ¡ç›®
- **Apple M3**ï¼šLoad Buffer 192æ¡ç›®ï¼ŒStore Buffer 128æ¡ç›®

**MOBè°ƒåº¦ç®—æ³•**ï¼š

```python
class MemoryOrderBuffer:
    def __init__(self, load_buffer_size=72, store_buffer_size=42):
        self.load_buffer = []
        self.store_buffer = []
        self.load_buffer_size = load_buffer_size
        self.store_buffer_size = store_buffer_size

    def schedule_load(self, load_inst):
        """è°ƒåº¦Loadæ“ä½œ"""
        # æ£€æŸ¥Store Bufferä¸­çš„å†²çª
        for store in self.store_buffer:
            if self.addresses_match(load_inst, store):
                # å­˜å‚¨-è£…è½½è½¬å‘
                if self.can_forward(store, load_inst):
                    return self.forward(store, load_inst)

        # æ£€æŸ¥Load Bufferå®¹é‡
        if len(self.load_buffer) >= self.load_buffer_size:
            return False

        # æ·»åŠ åˆ°Load Buffer
        self.load_buffer.append(load_inst)
        return True

    def schedule_store(self, store_inst):
        """è°ƒåº¦Storeæ“ä½œ"""
        # æ£€æŸ¥Store Bufferå®¹é‡
        if len(self.store_buffer) >= self.store_buffer_size:
            return False

        # æ·»åŠ åˆ°Store Buffer
        self.store_buffer.append(store_inst)
        return True

    def can_forward(self, store, load):
        """æ£€æŸ¥æ˜¯å¦å¯ä»¥è½¬å‘"""
        # åœ°å€åŒ¹é…
        if not self.addresses_match(load, store):
            return False

        # æ•°æ®å¤§å°å…¼å®¹
        if not self.sizes_compatible(store, load):
            return False

        # Storeå·²å®Œæˆ
        if not store.completed:
            return False

        return True
```

**æ·±åº¦è®ºè¯ï¼šMOBå®¹é‡çš„æ€§èƒ½å½±å“**

**MOBçš„ä½œç”¨**ï¼š

MOBå…è®¸**å†…å­˜æ“ä½œä¹±åºæ‰§è¡Œ**ï¼ŒåŒæ—¶ä¿è¯å†…å­˜ä¸€è‡´æ€§ï¼š

$$
\text{å†…å­˜å¹¶è¡Œåº¦} = \min(\text{Load Bufferå®¹é‡}, \text{Store Bufferå®¹é‡})
$$

**é‡åŒ–åˆ†æ**ï¼šMOBå®¹é‡çš„æ€§èƒ½å½±å“

| **MOBé…ç½®** | **Load Buffer** | **Store Buffer** | **å†…å­˜å¹¶è¡Œåº¦** | **æ€§èƒ½æå‡** |
|------------|---------------|----------------|--------------|------------|
| **å°** | 32 | 20 | 20 | åŸºå‡† |
| **ä¸­** | 72 | 42 | 42 | +30% |
| **å¤§** | 128 | 64 | 64 | +45% |

**å…³é”®é™åˆ¶**ï¼š

MOBå®¹é‡å—**åŠŸè€—å’Œé¢ç§¯**é™åˆ¶ï¼Œä¸èƒ½æ— é™å¢åŠ ã€‚

### 2.2 å­˜å‚¨-è£…è½½è½¬å‘

**æ¡ˆä¾‹6.1.4ï¼ˆå­˜å‚¨-è£…è½½è½¬å‘ï¼‰**ï¼š

å­˜å‚¨-è£…è½½è½¬å‘æ˜¯é‡è¦çš„å†…å­˜ä¼˜åŒ–æŠ€æœ¯ï¼Œå¯ä»¥æ¶ˆé™¤å†…å­˜è®¿é—®å»¶è¿Ÿã€‚

**è½¬å‘æ¡ä»¶**ï¼š

**1. åœ°å€åŒ¹é…**ï¼š

- å­˜å‚¨åœ°å€ä¸è£…è½½åœ°å€å¿…é¡»åŒ¹é…
- æ”¯æŒéƒ¨åˆ†åœ°å€åŒ¹é…ï¼ˆå­å­—è®¿é—®ï¼‰

**2. æ•°æ®å¤§å°å…¼å®¹**ï¼š

- å­˜å‚¨æ•°æ®å¤§å°å¿…é¡»å¤§äºç­‰äºè£…è½½æ•°æ®å¤§å°
- æ”¯æŒå­—èŠ‚å¯¹é½æ£€æŸ¥

**è½¬å‘ç®—æ³•**ï¼š

```python
class StoreLoadForwarding:
    def forward(self, store, load):
        """æ‰§è¡Œå­˜å‚¨-è£…è½½è½¬å‘"""
        # æ£€æŸ¥åœ°å€åŒ¹é…
        if not self.addresses_match(store, load):
            return False

        # æ£€æŸ¥æ•°æ®å¤§å°
        if not self.sizes_compatible(store, load):
            return False

        # æ£€æŸ¥å¯¹é½
        if not self.aligned(store, load):
            return False

        # æ‰§è¡Œè½¬å‘
        load.result = store.data[load.offset:load.offset+load.size]
        load.latency = 0  # è½¬å‘æˆåŠŸï¼Œ0å‘¨æœŸå»¶è¿Ÿ

        return True

    def addresses_match(self, store, load):
        """æ£€æŸ¥åœ°å€æ˜¯å¦åŒ¹é…"""
        store_addr = store.address
        load_addr = load.address

        # æ£€æŸ¥åœ°å€èŒƒå›´é‡å 
        return (store_addr <= load_addr < store_addr + store.size) or \
               (load_addr <= store_addr < load_addr + load.size)
```

**å»¶è¿Ÿåˆ†æ**ï¼š

**è½¬å‘å»¶è¿Ÿ**ï¼š

- **è½¬å‘æˆåŠŸ**ï¼š0å‘¨æœŸï¼ˆç›´æ¥ä»Store Bufferè·å–æ•°æ®ï¼‰
- **è½¬å‘å¤±è´¥**ï¼š~12å‘¨æœŸæƒ©ç½šï¼ˆéœ€è¦è®¿é—®L1ç¼“å­˜ï¼‰

**è½¬å‘æˆåŠŸç‡çš„å½±å“**ï¼š

$$
\text{å¹³å‡å»¶è¿Ÿ} = P_{\text{è½¬å‘}} \times 0 + (1 - P_{\text{è½¬å‘}}) \times T_{\text{ç¼“å­˜}}
$$

å…¶ä¸­$P_{\text{è½¬å‘}}$æ˜¯è½¬å‘æˆåŠŸç‡ï¼Œ$T_{\text{ç¼“å­˜}}$æ˜¯ç¼“å­˜è®¿é—®å»¶è¿Ÿï¼ˆ~12å‘¨æœŸï¼‰ã€‚

**æ·±åº¦è®ºè¯ï¼šå­˜å‚¨-è£…è½½è½¬å‘çš„æ€§èƒ½å½±å“**

**è½¬å‘çš„æ€§èƒ½æ¨¡å‹**ï¼š

å­˜å‚¨-è£…è½½è½¬å‘å¯ä»¥**æ¶ˆé™¤å†…å­˜è®¿é—®å»¶è¿Ÿ**ï¼š

$$
\text{æœ‰æ•ˆå»¶è¿Ÿ} = \begin{cases}
0 & \text{è½¬å‘æˆåŠŸ} \\
\text{å†…å­˜å»¶è¿Ÿ} & \text{è½¬å‘å¤±è´¥}
\end{cases}
$$

**é‡åŒ–åˆ†æ**ï¼šè½¬å‘æˆåŠŸç‡çš„å½±å“

| **è½¬å‘æˆåŠŸç‡** | **å¹³å‡å»¶è¿Ÿ** | **æ€§èƒ½æå‡** | **å…³é”®å› ç´ ** |
|--------------|------------|------------|------------|
| **50%** | 40å‘¨æœŸ | åŸºå‡† | ä½ |
| **70%** | 24å‘¨æœŸ | +40% | ä¸­ |
| **90%** | 8å‘¨æœŸ | +80% | é«˜ |

**å…³é”®æ´å¯Ÿ**ï¼šå­˜å‚¨-è£…è½½è½¬å‘æ˜¯**å†…å­˜æ€§èƒ½çš„å…³é”®ä¼˜åŒ–**ï¼Œè½¬å‘æˆåŠŸç‡ç›´æ¥å½±å“æ€§èƒ½ã€‚

---

## 3 ç¼“å­˜è°ƒåº¦

### 3.1 ç¼“å­˜å±‚æ¬¡

**æ¡ˆä¾‹6.1.5ï¼ˆç¼“å­˜è°ƒåº¦ï¼‰**ï¼š

ç¼“å­˜å±‚æ¬¡ç»“æ„é€šè¿‡å¤šçº§ç¼“å­˜å‡å°‘å†…å­˜è®¿é—®å»¶è¿Ÿï¼Œæé«˜æ€§èƒ½ã€‚

**ç¼“å­˜å±‚æ¬¡ç»“æ„**ï¼š

**L1ç¼“å­˜**ï¼š

- **å®¹é‡**ï¼š32KBï¼ˆæŒ‡ä»¤ï¼‰+ 32KBï¼ˆæ•°æ®ï¼‰
- **å»¶è¿Ÿ**ï¼š4å‘¨æœŸï¼ˆ~1ns @ 4GHzï¼‰
- **å…³è”åº¦**ï¼š8è·¯ç»„ç›¸è”
- **å—å¤§å°**ï¼š64å­—èŠ‚

**L2ç¼“å­˜**ï¼š

- **å®¹é‡**ï¼š256KB - 1MB
- **å»¶è¿Ÿ**ï¼š12å‘¨æœŸï¼ˆ~3nsï¼‰
- **å…³è”åº¦**ï¼š8-16è·¯
- **å—å¤§å°**ï¼š64å­—èŠ‚

**L3ç¼“å­˜**ï¼š

- **å®¹é‡**ï¼š8-64MBï¼ˆå…±äº«ï¼‰
- **å»¶è¿Ÿ**ï¼š40-75å‘¨æœŸï¼ˆ~15nsï¼‰
- **å…³è”åº¦**ï¼š16-32è·¯
- **å—å¤§å°**ï¼š64å­—èŠ‚

**ç¼“å­˜æ›¿æ¢ç­–ç•¥**ï¼š

**LRUï¼ˆLeast Recently Usedï¼‰**ï¼š

```python
class LRUCache:
    def __init__(self, capacity, associativity):
        self.capacity = capacity
        self.associativity = associativity
        self.sets = [LRUSet(associativity) for _ in range(capacity // associativity)]

    def access(self, address):
        """è®¿é—®ç¼“å­˜"""
        set_index = self.get_set_index(address)
        tag = self.get_tag(address)

        # æŸ¥æ‰¾ç¼“å­˜è¡Œ
        cache_line = self.sets[set_index].find(tag)

        if cache_line:
            # ç¼“å­˜å‘½ä¸­
            self.sets[set_index].update_lru(cache_line)
            return True
        else:
            # ç¼“å­˜æœªå‘½ä¸­
            self.sets[set_index].replace_lru(tag)
            return False
```

**ç¼“å­˜è°ƒåº¦ä¼˜åŒ–**ï¼š

**1. é¢„å–ï¼ˆPrefetchingï¼‰**ï¼š

- **ç¡¬ä»¶é¢„å–**ï¼šè‡ªåŠ¨é¢„å–ç›¸é‚»ç¼“å­˜è¡Œ
- **è½¯ä»¶é¢„å–**ï¼šä½¿ç”¨é¢„å–æŒ‡ä»¤ï¼ˆå¦‚PREFETCHï¼‰

**2. å†™å›ï¼ˆWrite-Backï¼‰**ï¼š

- å»¶è¿Ÿå†™å›ï¼Œå‡å°‘å†…å­˜è®¿é—®
- ä½¿ç”¨è„ä½æ ‡è®°ä¿®æ”¹çš„ç¼“å­˜è¡Œ

**3. éé˜»å¡ç¼“å­˜**ï¼š

- å…è®¸ç¼“å­˜æœªå‘½ä¸­æ—¶ç»§ç»­å¤„ç†å…¶ä»–è¯·æ±‚
- æé«˜ç¼“å­˜å¹¶è¡Œåº¦

### 2.2 ç¼“å­˜ä¸€è‡´æ€§åè®®

**MESIFï¼ˆIntelï¼‰**ï¼š

- **M**ï¼šModifiedï¼ˆå·²ä¿®æ”¹ï¼‰
- **E**ï¼šExclusiveï¼ˆç‹¬å ï¼‰
- **S**ï¼šSharedï¼ˆå…±äº«ï¼‰
- **I**ï¼šInvalidï¼ˆæ— æ•ˆï¼‰
- **F**ï¼šForwardï¼ˆè½¬å‘è€…ï¼‰

**MOESIï¼ˆAMDï¼‰**ï¼š

- å¢åŠ **O**ï¼ˆOwnedï¼‰çŠ¶æ€
- å…è®¸å…±äº«è„æ•°æ®

---

## 4 åˆ†æ”¯è°ƒåº¦

### 4.1 åˆ†æ”¯é¢„æµ‹å™¨

**æ¡ˆä¾‹6.1.6ï¼ˆåˆ†æ”¯é¢„æµ‹ï¼‰**ï¼š

åˆ†æ”¯é¢„æµ‹å™¨é¢„æµ‹åˆ†æ”¯æ–¹å‘ï¼Œå‡å°‘åˆ†æ”¯è¯¯é¢„æµ‹æƒ©ç½šï¼Œæé«˜æ€§èƒ½ã€‚

**TAGEé¢„æµ‹å™¨**ï¼š

**TAGEï¼ˆTagged Geometricï¼‰é¢„æµ‹å™¨**ï¼š

- **å¤šçº§å†å²**ï¼šä½¿ç”¨ä¸åŒé•¿åº¦çš„å†å²æ¨¡å¼
- **å‡ ä½•çº§æ•°**ï¼šå†å²é•¿åº¦æŒ‰å‡ ä½•çº§æ•°å¢é•¿
- **æ ‡ç­¾åŒ¹é…**ï¼šä½¿ç”¨æ ‡ç­¾åŒºåˆ†ä¸åŒä¸Šä¸‹æ–‡
- **16Kæ¡ç›®BTB**ï¼šåˆ†æ”¯ç›®æ ‡ç¼“å†²åŒº

**TAGEé¢„æµ‹ç®—æ³•**ï¼š

```python
class TAGEPredictor:
    def __init__(self):
        self.history_lengths = [0, 2, 4, 8, 16, 32, 64]  # å‡ ä½•çº§æ•°
        self.tables = [PredictionTable(2**i) for i in range(7)]
        self.global_history = 0

    def predict(self, pc):
        """é¢„æµ‹åˆ†æ”¯æ–¹å‘"""
        # è®¡ç®—å¤šä¸ªå†å²é•¿åº¦ä¸‹çš„ç´¢å¼•
        indices = [self.compute_index(pc, length) for length in self.history_lengths]

        # æŸ¥æ‰¾åŒ¹é…çš„é¢„æµ‹
        for i, index in enumerate(indices):
            entry = self.tables[i][index]
            if entry.tag == self.compute_tag(pc, self.history_lengths[i]):
                return entry.prediction

        # é»˜è®¤é¢„æµ‹ï¼ˆé€šå¸¸æ˜¯ä¸è·³è½¬ï¼‰
        return False

    def update(self, pc, taken):
        """æ›´æ–°é¢„æµ‹å™¨"""
        # æ›´æ–°å…¨å±€å†å²
        self.global_history = (self.global_history << 1) | taken

        # æ›´æ–°åŒ¹é…çš„è¡¨é¡¹
        for i, length in enumerate(self.history_lengths):
            index = self.compute_index(pc, length)
            entry = self.tables[i][index]
            if entry.tag == self.compute_tag(pc, length):
                entry.update(taken)
                break
```

**è¿”å›åœ°å€æ ˆï¼ˆRASï¼‰**ï¼š

**RASçš„ä½œç”¨**ï¼š

- **å‡½æ•°è¿”å›é¢„æµ‹**ï¼šé¢„æµ‹å‡½æ•°è¿”å›åœ°å€
- **32å±‚æ·±åº¦**ï¼šæ”¯æŒ32å±‚å‡½æ•°è°ƒç”¨åµŒå¥—
- **é«˜å‡†ç¡®ç‡**ï¼š>99%çš„è¿”å›é¢„æµ‹å‡†ç¡®ç‡

**RASç®—æ³•**ï¼š

```python
class ReturnAddressStack:
    def __init__(self, depth=32):
        self.stack = []
        self.depth = depth

    def push(self, return_address):
        """å‡½æ•°è°ƒç”¨æ—¶å‹å…¥è¿”å›åœ°å€"""
        if len(self.stack) < self.depth:
            self.stack.append(return_address)
        else:
            # æ ˆæ»¡ï¼Œç§»é™¤æœ€æ—§çš„
            self.stack.pop(0)
            self.stack.append(return_address)

    def pop(self):
        """å‡½æ•°è¿”å›æ—¶å¼¹å‡ºè¿”å›åœ°å€"""
        if self.stack:
            return self.stack.pop()
        return None
```

### 3.2 è¯¯é¢„æµ‹æƒ©ç½š

**å»¶è¿Ÿ**ï¼š

- æµæ°´çº¿å†²åˆ·ï¼š15-17å‘¨æœŸ
- æŒ‡ä»¤é‡æ–°è·å–ï¼š2-3å‘¨æœŸ
- **æ€»è®¡**ï¼š~20å‘¨æœŸï¼ˆ~4ns @ 5GHzï¼‰

**ä¼˜åŒ–**ï¼š

- ç¼–è¯‘å™¨ï¼šåˆ†æ”¯æç¤º
- ç¡¬ä»¶ï¼šæ›´å‡†ç¡®çš„é¢„æµ‹å™¨

---

## 5 åŠŸè€—è°ƒåº¦

### 5.1 RAPLï¼ˆRunning Average Power Limitï¼‰

**æ¡ˆä¾‹6.1.7ï¼ˆåŠŸè€—è°ƒåº¦ï¼‰**ï¼š

RAPLæ˜¯Intelçš„åŠŸè€—ç®¡ç†æŠ€æœ¯ï¼Œé€šè¿‡åŠ¨æ€é™åˆ¶åŠŸè€—å¹³è¡¡æ€§èƒ½å’Œèƒ½æ•ˆã€‚

**RAPLåŠŸèƒ½**ï¼š

**1. åŠ¨æ€åŠŸè€—é™åˆ¶**ï¼š

- **å®æ—¶ç›‘æ§**ï¼šç›‘æ§å½“å‰åŠŸè€—
- **åŠ¨æ€è°ƒæ•´**ï¼šæ ¹æ®åŠŸè€—é™åˆ¶è°ƒæ•´é¢‘ç‡
- **MSRæ§åˆ¶**ï¼šé€šè¿‡MSRå¯„å­˜å™¨æ§åˆ¶

**2. åŠŸè€—åŸŸ**ï¼š

**PackageåŸŸ**ï¼š

- **èŒƒå›´**ï¼šæ•´ä¸ªCPUå°è£…
- **é™åˆ¶**ï¼šTDPï¼ˆThermal Design Powerï¼‰
- **æ§åˆ¶**ï¼šPackage Power Limit MSR

**PP0åŸŸï¼ˆæ ¸å¿ƒåŠŸè€—ï¼‰**ï¼š

- **èŒƒå›´**ï¼šCPUæ ¸å¿ƒ
- **é™åˆ¶**ï¼šæ ¸å¿ƒåŠŸè€—é™åˆ¶
- **æ§åˆ¶**ï¼šPP0 Power Limit MSR

**PP1åŸŸï¼ˆé›†æˆæ˜¾å¡ï¼‰**ï¼š

- **èŒƒå›´**ï¼šé›†æˆæ˜¾å¡
- **é™åˆ¶**ï¼šGPUåŠŸè€—é™åˆ¶
- **æ§åˆ¶**ï¼šPP1 Power Limit MSR

**DRAMåŸŸ**ï¼š

- **èŒƒå›´**ï¼šå†…å­˜æ§åˆ¶å™¨å’ŒDRAM
- **é™åˆ¶**ï¼šå†…å­˜åŠŸè€—é™åˆ¶
- **æ§åˆ¶**ï¼šDRAM Power Limit MSR

**RAPLç®—æ³•**ï¼š

```python
class RAPLController:
    def __init__(self):
        self.power_limits = {
            'package': 95,  # 95W TDP
            'pp0': 80,      # 80W æ ¸å¿ƒåŠŸè€—
            'pp1': 15,      # 15W GPUåŠŸè€—
            'dram': 10      # 10W å†…å­˜åŠŸè€—
        }
        self.current_power = {}
        self.frequency = 3.0  # GHz

    def monitor_power(self):
        """ç›‘æ§åŠŸè€—"""
        # è¯»å–MSRå¯„å­˜å™¨è·å–å½“å‰åŠŸè€—
        self.current_power['package'] = self.read_msr(0x611)
        self.current_power['pp0'] = self.read_msr(0x639)
        self.current_power['pp1'] = self.read_msr(0x641)
        self.current_power['dram'] = self.read_msr(0x619)

    def adjust_frequency(self):
        """æ ¹æ®åŠŸè€—é™åˆ¶è°ƒæ•´é¢‘ç‡"""
        # æ£€æŸ¥æ˜¯å¦è¶…è¿‡é™åˆ¶
        if self.current_power['package'] > self.power_limits['package']:
            # é™ä½é¢‘ç‡
            self.frequency *= 0.95
            self.set_frequency(self.frequency)
        elif self.current_power['package'] < self.power_limits['package'] * 0.9:
            # æé«˜é¢‘ç‡
            self.frequency = min(self.frequency * 1.05, 4.0)
            self.set_frequency(self.frequency)
```

### 4.2 æ—¶é’Ÿé—¨æ§

**æœºåˆ¶**ï¼š

- åŠŸèƒ½å•å…ƒçº§ç”µæºå…³æ–­
- æœªä½¿ç”¨æ—¶è‡ªåŠ¨å…³é—­
- é™ä½é™æ€åŠŸè€—

**æ•ˆæœ**ï¼š

- é™æ€åŠŸè€—é™ä½ï¼š30-50%
- å”¤é†’å»¶è¿Ÿï¼š<1å‘¨æœŸ

---

## 6 å®è·µæ¡ˆä¾‹

### 6.1 Intel Skylakeå¾®æ¶æ„è°ƒåº¦ä¼˜åŒ–

**æ¡ˆä¾‹6.1.8ï¼ˆSkylakeè°ƒåº¦ä¼˜åŒ–ï¼‰**ï¼š

Intel Skylakeé€šè¿‡ä¼˜åŒ–å„ç§è°ƒåº¦å™¨ï¼Œå®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚

**ä¼˜åŒ–ç­–ç•¥**ï¼š

**1. æŒ‡ä»¤è°ƒåº¦ä¼˜åŒ–**ï¼š

- **4å‘å°„å®½åº¦**ï¼šå¹³è¡¡æ€§èƒ½å’ŒåŠŸè€—
- **97æ¡ç›®ä¿ç•™ç«™**ï¼šæ©ç›–æ•°æ®ä¾èµ–
- **224æ¡ç›®ROB**ï¼šæé«˜ILP

**2. å†…å­˜è°ƒåº¦ä¼˜åŒ–**ï¼š

- **72æ¡ç›®Load Buffer**ï¼šæé«˜å†…å­˜å¹¶è¡Œåº¦
- **42æ¡ç›®Store Buffer**ï¼šä¼˜åŒ–å†™æ“ä½œ
- **å­˜å‚¨-è£…è½½è½¬å‘**ï¼šå‡å°‘å†…å­˜å»¶è¿Ÿ

**æ€§èƒ½æå‡**ï¼š

| **æŒ‡æ ‡** | **Haswell** | **Skylake** | **æå‡** |
|---------|------------|------------|---------|
| **IPC** | 2.0 | 2.5 | +25% |
| **å†…å­˜å¸¦å®½** | 50 GB/s | 70 GB/s | +40% |
| **åŠŸè€—** | åŸºå‡† | -10% | æ›´é«˜æ•ˆ |

### 6.2 Apple M3èƒ½æ•ˆä¼˜åŒ–

**æ¡ˆä¾‹6.1.9ï¼ˆM3èƒ½æ•ˆä¼˜åŒ–ï¼‰**ï¼š

Apple M3é€šè¿‡å¼‚æ„è®¾è®¡å’ŒåŠŸè€—è°ƒåº¦ï¼Œå®ç°äº†å‡ºè‰²çš„èƒ½æ•ˆæ¯”ã€‚

**ä¼˜åŒ–ç­–ç•¥**ï¼š

**1. å¼‚æ„æ ¸å¿ƒ**ï¼š

- **P-core**ï¼šé«˜æ€§èƒ½æ ¸å¿ƒï¼Œ8å‘å°„å®½åº¦
- **E-core**ï¼šèƒ½æ•ˆæ ¸å¿ƒï¼Œ4å‘å°„å®½åº¦
- **åŠ¨æ€è°ƒåº¦**ï¼šæ ¹æ®è´Ÿè½½é€‰æ‹©æ ¸å¿ƒ

**2. åŠŸè€—è°ƒåº¦**ï¼š

- **ç²¾ç»†åŠŸè€—æ§åˆ¶**ï¼šæ ¸å¿ƒçº§åŠŸè€—ç®¡ç†
- **åŠ¨æ€é¢‘ç‡è°ƒæ•´**ï¼šæ ¹æ®è´Ÿè½½è°ƒæ•´é¢‘ç‡
- **æ—¶é’Ÿé—¨æ§**ï¼šæœªä½¿ç”¨å•å…ƒè‡ªåŠ¨å…³é—­

**èƒ½æ•ˆæå‡**ï¼š

| **æŒ‡æ ‡** | **M2** | **M3** | **æå‡** |
|---------|--------|--------|---------|
| **æ€§èƒ½** | åŸºå‡† | +20% | æ›´é«˜ |
| **åŠŸè€—** | åŸºå‡† | -15% | æ›´ä½ |
| **èƒ½æ•ˆæ¯”** | åŸºå‡† | +41% | æ˜¾è‘—æå‡ |

## 7 è°ƒåº¦å»¶è¿Ÿå¯¹æ¯”

**ç»¼åˆå¯¹æ¯”**ï¼š

| **è°ƒåº¦ç±»å‹** | **å»¶è¿Ÿ** | **ç‰©ç†çº¦æŸ** | **ä¼˜åŒ–ç©ºé—´** | **ä»£è¡¨æŠ€æœ¯** |
|------------|----------|-------------|------------|------------|
| **æŒ‡ä»¤è°ƒåº¦** | 0.2ns | æ™¶ä½“ç®¡å¼€å…³é€Ÿåº¦ | æ—  | è¶…æ ‡é‡å‘å°„ |
| **ç¼“å­˜è°ƒåº¦** | 1-15ns | å…‰é€Ÿä¼ æ’­ | æå° | LRUæ›¿æ¢ |
| **å†…å­˜è°ƒåº¦** | 80ns | DRAMæ—¶åº | å° | é¢„å– |
| **åˆ†æ”¯è°ƒåº¦** | 4ns | æµæ°´çº¿æ·±åº¦ | ä¸­ç­‰ | TAGEé¢„æµ‹ |

---

## 8 æ‰¹åˆ¤æ€§æ€»ç»“

### 8.1 ç¡¬ä»¶è°ƒåº¦çš„å±€é™æ€§

**1. ç‰©ç†æé™çš„ä¸å¯é€¾è¶Šæ€§**ï¼š

**é—®é¢˜**ï¼šç¡¬ä»¶è°ƒåº¦å—ç‰©ç†çº¦æŸé™åˆ¶ï¼Œæ— æ³•æ— é™ä¼˜åŒ–ã€‚

**å½±å“**ï¼š

- æŒ‡ä»¤è°ƒåº¦å»¶è¿Ÿå—æ™¶ä½“ç®¡å¼€å…³é€Ÿåº¦é™åˆ¶
- ç¼“å­˜è°ƒåº¦å»¶è¿Ÿå—å…‰é€Ÿä¼ æ’­é™åˆ¶
- å†…å­˜è°ƒåº¦å»¶è¿Ÿå—DRAMæ—¶åºé™åˆ¶

**ç¼“è§£æªæ–½**ï¼š

- **å¼‚æ„è®¡ç®—**ï¼šä½¿ç”¨ä¸åŒå•å…ƒä¼˜åŒ–ä¸åŒå·¥ä½œè´Ÿè½½
- **è¿‘ä¼¼è®¡ç®—**ï¼šæ¥å—ä¸€å®šè¯¯å·®æ¢å–æ€§èƒ½
- **ä¸“ç”¨åŠ é€Ÿå™¨**ï¼šé’ˆå¯¹ç‰¹å®šå·¥ä½œè´Ÿè½½ä¼˜åŒ–

**2. åŠŸè€—å¢™çš„é™åˆ¶**ï¼š

**é—®é¢˜**ï¼šåŠŸè€—å¯†åº¦é™åˆ¶å¯¼è‡´æš—ç¡…æ•ˆåº”ï¼Œæ— æ³•åŒæ—¶æ¿€æ´»æ‰€æœ‰å•å…ƒã€‚

**å½±å“**ï¼š

- ä¸€åŠæ™¶ä½“ç®¡æ— æ³•åŒæ—¶ä½¿ç”¨
- æ€§èƒ½æå‡å—åŠŸè€—é™åˆ¶
- éœ€è¦åŠ¨æ€åŠŸè€—ç®¡ç†

**ç¼“è§£æªæ–½**ï¼š

- **å¼‚æ„æ ¸å¿ƒ**ï¼šP-core/E-coreç»„åˆ
- **åŠ¨æ€åŠŸè€—ç®¡ç†**ï¼šRAPLç­‰æŠ€æœ¯
- **ä¸“ç”¨åŠ é€Ÿå™¨**ï¼šNPUã€GPUç­‰

**3. å¤æ‚åº¦çš„å¢åŠ **ï¼š

**é—®é¢˜**ï¼šæ›´å¤æ‚çš„è°ƒåº¦å™¨å¢åŠ è®¾è®¡å¤æ‚åº¦ã€‚

**å½±å“**ï¼š

- è®¾è®¡æˆæœ¬å¢åŠ 
- éªŒè¯éš¾åº¦æé«˜
- åŠŸè€—å¢åŠ 

**ç¼“è§£æªæ–½**ï¼š

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¨¡å—åŒ–è°ƒåº¦å™¨è®¾è®¡
- **å½¢å¼åŒ–éªŒè¯**ï¼šä½¿ç”¨å½¢å¼åŒ–æ–¹æ³•éªŒè¯
- **å­¦ä¹ å‹è°ƒåº¦**ï¼šä½¿ç”¨æœºå™¨å­¦ä¹ ä¼˜åŒ–

### 8.2 2025å¹´ç¡¬ä»¶è°ƒåº¦è¶‹åŠ¿

**1. å¼‚æ„è®¡ç®—æˆä¸ºä¸»æµ**ï¼š

**è¶‹åŠ¿**ï¼šå¼‚æ„æ ¸å¿ƒï¼ˆP-core/E-core/NPUï¼‰æˆä¸ºä¸»æµã€‚

**æŠ€æœ¯**ï¼š

- **P-core**ï¼šé«˜æ€§èƒ½æ ¸å¿ƒ
- **E-core**ï¼šèƒ½æ•ˆæ ¸å¿ƒ
- **NPU**ï¼šç¥ç»ç½‘ç»œå¤„ç†å•å…ƒ

**ä¼˜åŠ¿**ï¼š

- å¹³è¡¡æ€§èƒ½å’Œèƒ½æ•ˆ
- é€‚åº”ä¸åŒå·¥ä½œè´Ÿè½½
- æé«˜èƒ½æ•ˆæ¯”

**æŒ‘æˆ˜**ï¼š

- è°ƒåº¦å¤æ‚åº¦å¢åŠ 
- è½¯ä»¶é€‚é…å›°éš¾
- æ€§èƒ½é¢„æµ‹å›°éš¾

**2. å­¦ä¹ å‹è°ƒåº¦**ï¼š

**è¶‹åŠ¿**ï¼šä½¿ç”¨æœºå™¨å­¦ä¹ ä¼˜åŒ–è°ƒåº¦å†³ç­–ã€‚

**æŠ€æœ¯**ï¼š

- **å¼ºåŒ–å­¦ä¹ **ï¼šå­¦ä¹ æœ€ä¼˜è°ƒåº¦ç­–ç•¥
- **ç¥ç»ç½‘ç»œ**ï¼šé¢„æµ‹åˆ†æ”¯æ–¹å‘
- **è‡ªé€‚åº”è°ƒåº¦**ï¼šæ ¹æ®å·¥ä½œè´Ÿè½½è‡ªé€‚åº”è°ƒæ•´

**ä¼˜åŠ¿**ï¼š

- æé«˜è°ƒåº¦æ•ˆç‡
- é€‚åº”åŠ¨æ€ç¯å¢ƒ
- ä¼˜åŒ–å¤æ‚åœºæ™¯

**æŒ‘æˆ˜**ï¼š

- è®­ç»ƒæˆæœ¬é«˜
- å¯è§£é‡Šæ€§å·®
- ç¡¬ä»¶æ”¯æŒæœ‰é™

**3. ä¸“ç”¨åŠ é€Ÿå™¨**ï¼š

**è¶‹åŠ¿**ï¼šä¸“ç”¨åŠ é€Ÿå™¨ï¼ˆNPUã€DPUç­‰ï¼‰æˆä¸ºä¸»æµã€‚

**æŠ€æœ¯**ï¼š

- **NPU**ï¼šç¥ç»ç½‘ç»œåŠ é€Ÿ
- **DPU**ï¼šæ•°æ®å¤„ç†åŠ é€Ÿ
- **FPGA**ï¼šå¯ç¼–ç¨‹åŠ é€Ÿ

**ä¼˜åŠ¿**ï¼š

- æ€§èƒ½æœ€ä¼˜
- èƒ½æ•ˆæ¯”é«˜
- ä¸“ç”¨ä¼˜åŒ–

**æŒ‘æˆ˜**ï¼š

- å¼€å‘æˆæœ¬é«˜
- ç”Ÿæ€ç³»ç»Ÿä¸æˆç†Ÿ
- æ ‡å‡†åŒ–å›°éš¾

## 9 è·¨é¢†åŸŸæ´å¯Ÿ

### 6.1 ç¡¬ä»¶è°ƒåº¦çš„ç‰©ç†æé™

**æ ¸å¿ƒå‘½é¢˜**ï¼šç¡¬ä»¶è°ƒåº¦å—ç‰©ç†çº¦æŸé™åˆ¶ï¼Œæ— æ³•æ— é™ä¼˜åŒ–ã€‚

**å»¶è¿Ÿåˆ†è§£**ï¼š

| **è°ƒåº¦ç±»å‹** | **å»¶è¿Ÿ** | **ç‰©ç†çº¦æŸ** | **ä¼˜åŒ–ç©ºé—´** |
|------------|---------|------------|------------|
| **æŒ‡ä»¤è°ƒåº¦** | 0.2ns | æ™¶ä½“ç®¡å¼€å…³é€Ÿåº¦ | æ—  |
| **ç¼“å­˜è°ƒåº¦** | 1-15ns | å…‰é€Ÿä¼ æ’­ | æå° |
| **å†…å­˜è°ƒåº¦** | 80ns | DRAMæ—¶åº | å° |
| **åˆ†æ”¯è°ƒåº¦** | 4ns | æµæ°´çº¿æ·±åº¦ | ä¸­ç­‰ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **ç‰©ç†æé™çš„ä¸å¯é€¾è¶Šæ€§**ï¼šæŒ‡ä»¤è°ƒåº¦å»¶è¿Ÿå—**æ™¶ä½“ç®¡å¼€å…³é€Ÿåº¦é™åˆ¶**ï¼Œæ— æ³•çªç ´ã€‚

2. **ä¼˜åŒ–ç©ºé—´çš„å±‚çº§æ€§**ï¼šè¶Šåº•å±‚ï¼Œä¼˜åŒ–ç©ºé—´è¶Šå°ï¼Œå› ä¸º**å—ç‰©ç†é™åˆ¶**ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**å¼‚æ„è®¡ç®—**é€šè¿‡ä¸åŒå•å…ƒä¼˜åŒ–ä¸åŒè°ƒåº¦ï¼ŒæŒ‘æˆ˜ä¼ ç»Ÿé€šç”¨è®¾è®¡ã€‚

### 6.2 åŠŸè€—è°ƒåº¦çš„æš—ç¡…æ•ˆåº”

**æ ¸å¿ƒçŸ›ç›¾**ï¼šæ›´å¤šæ™¶ä½“ç®¡æä¾›æ€§èƒ½ï¼Œä½†æ— æ³•åŒæ—¶æ¿€æ´»ã€‚

**é‡åŒ–åˆ†æ**ï¼š

```text
7nmå·¥è‰º:
  - æ™¶ä½“ç®¡å¯†åº¦: 100M/mmÂ²
  - åŠŸè€—å¯†åº¦: 200W/cmÂ²
  - å¯åŒæ—¶æ¿€æ´»: 50%
  - æš—ç¡…æ¯”ä¾‹: 50%

ç»“æœ: ä¸€åŠæ™¶ä½“ç®¡æ— æ³•åŒæ—¶ä½¿ç”¨
```

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **æš—ç¡…çš„å¿…ç„¶æ€§**ï¼šåŠŸè€—å¯†åº¦é™åˆ¶å¯¼è‡´**æš—ç¡…æ•ˆåº”**ï¼Œæ— æ³•é¿å…ã€‚

2. **å¼‚æ„è®¡ç®—çš„å¿…è¦æ€§**ï¼šé€šè¿‡å¼‚æ„å•å…ƒï¼ˆP-core/E-core/NPUï¼‰**ä¼˜åŒ–ä¸åŒå·¥ä½œè´Ÿè½½**ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**åŠ¨æ€åŠŸè€—ç®¡ç†**ï¼ˆå¦‚RAPLï¼‰æ ¹æ®å·¥ä½œè´Ÿè½½åŠ¨æ€è°ƒæ•´ï¼ŒæŒ‘æˆ˜é™æ€è®¾è®¡ã€‚

---

## 10 å¤šç»´åº¦å¯¹æ¯”

### 7.1 ç¡¬ä»¶è°ƒåº¦å±‚æ¬¡å¯¹æ¯”

| **å±‚æ¬¡** | **è°ƒåº¦å•å…ƒ** | **å»¶è¿Ÿ** | **ç­–ç•¥** | **ç‰©ç†çº¦æŸ** | **ä¼˜åŒ–éš¾åº¦** |
|---------|------------|---------|---------|------------|------------|
| **æŒ‡ä»¤è°ƒåº¦** | å¾®æŒ‡ä»¤ | 0.2ns | æ•°æ®ä¾èµ– | æ™¶ä½“ç®¡é€Ÿåº¦ | â­â­â­â­â­ |
| **ç¼“å­˜è°ƒåº¦** | Cacheè¡Œ | 1-15ns | LRU/MESIF | å…‰é€Ÿä¼ æ’­ | â­â­â­â­ |
| **å†…å­˜è°ƒåº¦** | Bank/Rank | 80ns | FR-FCFS | DRAMæ—¶åº | â­â­â­ |
| **åˆ†æ”¯è°ƒåº¦** | åˆ†æ”¯æŒ‡ä»¤ | 4ns | TAGEé¢„æµ‹ | æµæ°´çº¿æ·±åº¦ | â­â­â­ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **å»¶è¿Ÿçš„å±‚çº§æ€§**ï¼šä»æŒ‡ä»¤åˆ°å†…å­˜ï¼Œå»¶è¿Ÿ**å¢åŠ çº¦400å€**ï¼Œç¬¦åˆæŠ½è±¡æ³„æ¼å®šå¾‹ã€‚

2. **ä¼˜åŒ–éš¾åº¦çš„å·®å¼‚**ï¼šæŒ‡ä»¤è°ƒåº¦ä¼˜åŒ–éš¾åº¦æœ€é«˜ï¼Œå› ä¸º**å—ç‰©ç†é™åˆ¶**ã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**å­¦ä¹ å‹è°ƒåº¦**ï¼ˆå¦‚åˆ†æ”¯é¢„æµ‹ï¼‰ä½¿ç”¨æœºå™¨å­¦ä¹ ï¼ŒæŒ‘æˆ˜ä¼ ç»Ÿå¯å‘å¼ã€‚

### 7.2 åŠŸè€—ç®¡ç†ç­–ç•¥å¯¹æ¯”

| **ç­–ç•¥** | **åŠŸè€—é™ä½** | **æ€§èƒ½æŸå¤±** | **å®ç°å¤æ‚åº¦** | **é€‚ç”¨åœºæ™¯** |
|---------|------------|------------|--------------|------------|
| **åŠ¨æ€è°ƒé¢‘** | 30% | 10% | â­â­ | é€šç”¨ç³»ç»Ÿ |
| **æ—¶é’Ÿé—¨æ§** | 50% | 0% | â­â­â­ | ç©ºé—²çŠ¶æ€ |
| **ç”µæºé—¨æ§** | 90% | å”¤é†’å»¶è¿Ÿ | â­â­â­â­ | æ·±åº¦ä¼‘çœ  |
| **RAPLé™åˆ¶** | å¯é…ç½® | å¯é…ç½® | â­â­â­ | æœåŠ¡å™¨ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **åŠŸè€—vsæ€§èƒ½**ï¼šæ›´æ¿€è¿›çš„åŠŸè€—ç®¡ç†**åŠŸè€—é™ä½æ›´å¤š**ï¼Œä½†**æ€§èƒ½æŸå¤±æ›´å¤§**ã€‚

2. **å”¤é†’å»¶è¿Ÿçš„ä»£ä»·**ï¼šç”µæºé—¨æ§åŠŸè€—æœ€ä½ï¼Œä½†**å”¤é†’å»¶è¿Ÿé«˜**ï¼Œä¸é€‚åˆå®æ—¶ç³»ç»Ÿã€‚

3. **2025å¹´è¶‹åŠ¿**ï¼š**è‡ªé€‚åº”åŠŸè€—ç®¡ç†**æ ¹æ®å·¥ä½œè´Ÿè½½åŠ¨æ€è°ƒæ•´ï¼ŒæŒ‘æˆ˜é™æ€ç­–ç•¥ã€‚

---

## 11 æœ€ä½³å®è·µä¸æ•…éšœæ’æŸ¥

### 11.1 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦æœ€ä½³å®è·µï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰

**æŒ‡ä»¤è°ƒåº¦æœ€ä½³å®è·µ**ï¼š

1. **è¶…æ ‡é‡å‘å°„ä¼˜åŒ–**ï¼š
   - **æŒ‡ä»¤çº§å¹¶è¡Œ**ï¼šæé«˜æŒ‡ä»¤çº§å¹¶è¡Œåº¦ã€å‡å°‘æ•°æ®ä¾èµ–ã€æ¨èä½¿ç”¨
   - **å¯„å­˜å™¨é‡å‘½å**ï¼šä½¿ç”¨å¯„å­˜å™¨é‡å‘½åã€å‡å°‘WAR/WAWä¾èµ–
   - **ä¿ç•™ç«™è°ƒåº¦**ï¼šä¼˜åŒ–ä¿ç•™ç«™è°ƒåº¦ã€æé«˜æŒ‡ä»¤ååé‡

2. **ä¹±åºæ‰§è¡Œä¼˜åŒ–**ï¼š
   - **æ•°æ®ä¾èµ–åˆ†æ**ï¼šä¼˜åŒ–æ•°æ®ä¾èµ–åˆ†æã€å‡å°‘æµæ°´çº¿åœé¡¿
   - **æŒ‡ä»¤è°ƒåº¦çª—å£**ï¼šä¼˜åŒ–æŒ‡ä»¤è°ƒåº¦çª—å£ã€æé«˜æŒ‡ä»¤çº§å¹¶è¡Œåº¦
   - **èµ„æºåˆ†é…**ï¼šä¼˜åŒ–èµ„æºåˆ†é…ã€å‡å°‘èµ„æºç«äº‰

**å†…å­˜è°ƒåº¦æœ€ä½³å®è·µ**ï¼š

1. **MOBä¼˜åŒ–**ï¼š
   - **Load Buffer**ï¼šä¼˜åŒ–Load Bufferã€å‡å°‘å†…å­˜è®¿é—®å»¶è¿Ÿ
   - **Store Buffer**ï¼šä¼˜åŒ–Store Bufferã€æé«˜å­˜å‚¨æ€§èƒ½
   - **å­˜å‚¨-è£…è½½è½¬å‘**ï¼šä½¿ç”¨å­˜å‚¨-è£…è½½è½¬å‘ã€å‡å°‘å†…å­˜è®¿é—®

2. **å†…å­˜è®¿é—®ä¼˜åŒ–**ï¼š
   - **å†…å­˜é¢„å–**ï¼šä½¿ç”¨å†…å­˜é¢„å–ã€å‡å°‘å†…å­˜è®¿é—®å»¶è¿Ÿ
   - **å†…å­˜åˆå¹¶**ï¼šä½¿ç”¨å†…å­˜åˆå¹¶ã€å‡å°‘å†…å­˜è®¿é—®æ¬¡æ•°
   - **NUMAæ„ŸçŸ¥**ï¼šä½¿ç”¨NUMAæ„ŸçŸ¥ã€å‡å°‘è·¨èŠ‚ç‚¹è®¿é—®

**ç¼“å­˜è°ƒåº¦æœ€ä½³å®è·µ**ï¼š

1. **ç¼“å­˜å±‚æ¬¡ä¼˜åŒ–**ï¼š
   - **L1ç¼“å­˜**ï¼šä¼˜åŒ–L1ç¼“å­˜ã€å‡å°‘è®¿é—®å»¶è¿Ÿ
   - **L2ç¼“å­˜**ï¼šä¼˜åŒ–L2ç¼“å­˜ã€æé«˜å‘½ä¸­ç‡
   - **L3ç¼“å­˜**ï¼šä¼˜åŒ–L3ç¼“å­˜ã€å‡å°‘å†…å­˜è®¿é—®

2. **ç¼“å­˜ä¸€è‡´æ€§ä¼˜åŒ–**ï¼š
   - **MESIåè®®**ï¼šä½¿ç”¨MESIåè®®ã€ä¿è¯ç¼“å­˜ä¸€è‡´æ€§
   - **ç¼“å­˜è¡Œå¯¹é½**ï¼šä¼˜åŒ–ç¼“å­˜è¡Œå¯¹é½ã€å‡å°‘ä¼ªå…±äº«
   - **ç¼“å­˜é¢„å–**ï¼šä½¿ç”¨ç¼“å­˜é¢„å–ã€æé«˜å‘½ä¸­ç‡

**åˆ†æ”¯è°ƒåº¦æœ€ä½³å®è·µ**ï¼š

1. **åˆ†æ”¯é¢„æµ‹ä¼˜åŒ–**ï¼š
   - **TAGEé¢„æµ‹å™¨**ï¼šä½¿ç”¨TAGEé¢„æµ‹å™¨ã€æé«˜é¢„æµ‹å‡†ç¡®ç‡
   - **åˆ†æ”¯ç›®æ ‡ç¼“å†²**ï¼šä¼˜åŒ–åˆ†æ”¯ç›®æ ‡ç¼“å†²ã€å‡å°‘é¢„æµ‹å»¶è¿Ÿ
   - **åˆ†æ”¯èåˆ**ï¼šä½¿ç”¨åˆ†æ”¯èåˆã€å‡å°‘åˆ†æ”¯å¼€é”€

2. **åˆ†æ”¯ä¼˜åŒ–**ï¼š
   - **å‡å°‘åˆ†æ”¯**ï¼šå‡å°‘åˆ†æ”¯æŒ‡ä»¤ã€é™ä½è¯¯é¢„æµ‹æƒ©ç½š
   - **åˆ†æ”¯é¢„æµ‹æç¤º**ï¼šä½¿ç”¨åˆ†æ”¯é¢„æµ‹æç¤ºã€æé«˜é¢„æµ‹å‡†ç¡®ç‡
   - **æ¡ä»¶ç§»åŠ¨**ï¼šä½¿ç”¨æ¡ä»¶ç§»åŠ¨ã€å‡å°‘åˆ†æ”¯å¼€é”€

**åŠŸè€—è°ƒåº¦æœ€ä½³å®è·µ**ï¼š

1. **åŠ¨æ€åŠŸè€—ç®¡ç†**ï¼š
   - **RAPLé™åˆ¶**ï¼šä½¿ç”¨RAPLé™åˆ¶ã€æ§åˆ¶åŠŸè€—
   - **åŠ¨æ€è°ƒé¢‘**ï¼šä½¿ç”¨åŠ¨æ€è°ƒé¢‘ã€å¹³è¡¡æ€§èƒ½å’ŒåŠŸè€—
   - **æ—¶é’Ÿé—¨æ§**ï¼šä½¿ç”¨æ—¶é’Ÿé—¨æ§ã€é™ä½ç©ºé—²åŠŸè€—

2. **åŠŸè€—ä¼˜åŒ–**ï¼š
   - **å¼‚æ„è®¡ç®—**ï¼šä½¿ç”¨å¼‚æ„è®¡ç®—ã€ä¼˜åŒ–ä¸åŒå·¥ä½œè´Ÿè½½
   - **æš—ç¡…ç®¡ç†**ï¼šä¼˜åŒ–æš—ç¡…ç®¡ç†ã€æé«˜èƒ½æ•ˆæ¯”
   - **åŠŸè€—ç›‘æ§**ï¼šç›‘æ§åŠŸè€—ã€ä¼˜åŒ–åŠŸè€—ç­–ç•¥

**æ€§èƒ½ç›‘æ§æœ€ä½³å®è·µ**ï¼š

1. **ç¡¬ä»¶æ€§èƒ½ç›‘æ§**ï¼š
   - **æ€§èƒ½è®¡æ•°å™¨**ï¼šä½¿ç”¨æ€§èƒ½è®¡æ•°å™¨ã€ç›‘æ§ç¡¬ä»¶æ€§èƒ½
   - **PMUäº‹ä»¶**ï¼šä½¿ç”¨PMUäº‹ä»¶ã€åˆ†ææ€§èƒ½ç“¶é¢ˆ
   - **æ€§èƒ½åˆ†æå·¥å…·**ï¼šä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·ã€è¯†åˆ«æ€§èƒ½é—®é¢˜

2. **è°ƒåº¦æ€§èƒ½ç›‘æ§**ï¼š
   - **æŒ‡ä»¤ååé‡**ï¼šç›‘æ§æŒ‡ä»¤ååé‡ã€è¯†åˆ«è°ƒåº¦ç“¶é¢ˆ
   - **ç¼“å­˜å‘½ä¸­ç‡**ï¼šç›‘æ§ç¼“å­˜å‘½ä¸­ç‡ã€ä¼˜åŒ–ç¼“å­˜ä½¿ç”¨
   - **åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡**ï¼šç›‘æ§åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡ã€ä¼˜åŒ–åˆ†æ”¯é¢„æµ‹

**2025å¹´æœ€æ–°æŠ€æœ¯åº”ç”¨**ï¼š

1. **å¼‚æ„è®¡ç®—è°ƒåº¦ä¼˜åŒ–**ï¼š
   - **æ™ºèƒ½æ ¸å¿ƒé€‰æ‹©**ï¼šé€šè¿‡æ™ºèƒ½æ ¸å¿ƒé€‰æ‹©ã€ç³»ç»Ÿæ€§èƒ½æå‡30-50%
   - **åŠŸè€—é™ä½**ï¼šåŠŸè€—é™ä½40-60%ã€èƒ½æ•ˆæ¯”æå‡2-3å€
   - **é€‚ç”¨åœºæ™¯**ï¼šç§»åŠ¨å’Œè¾¹ç¼˜è®¾å¤‡ã€æ··åˆå·¥ä½œè´Ÿè½½ã€èƒ½æ•ˆå…³é”®ç³»ç»Ÿ
   - **æ³¨æ„äº‹é¡¹**ï¼šè°ƒåº¦å¤æ‚åº¦å¢åŠ ã€éœ€è¦æ™ºèƒ½è°ƒåº¦ä¼˜åŒ–ã€å¹¶éæ‰€æœ‰åœºæ™¯éƒ½é€‚åˆ

2. **AIé©±åŠ¨çš„ç¡¬ä»¶è°ƒåº¦ä¼˜åŒ–**ï¼š
   - **åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡**ï¼šåˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡æå‡è‡³98%+ã€æŒ‡ä»¤è°ƒåº¦æ•ˆç‡æå‡20-40%
   - **åŠŸè€—é™ä½**ï¼šåŠŸè€—é™ä½15-30%ã€èƒ½æ•ˆæ¯”æå‡1.5-2å€
   - **é€‚ç”¨åœºæ™¯**ï¼šé«˜ç«¯å¤„ç†å™¨ã€å¤æ‚å·¥ä½œè´Ÿè½½ã€æ€§èƒ½å…³é”®ç³»ç»Ÿ
   - **æ³¨æ„äº‹é¡¹**ï¼šè®­ç»ƒæˆæœ¬é«˜ã€å¯è§£é‡Šæ€§å·®ã€éœ€è¦æƒè¡¡æ€§èƒ½å’Œå¯è§£é‡Šæ€§

3. **ä¸“ç”¨åŠ é€Ÿå™¨é›†æˆè°ƒåº¦ä¼˜åŒ–**ï¼š
   - **åŠ é€Ÿå™¨åˆ©ç”¨ç‡**ï¼šåŠ é€Ÿå™¨åˆ©ç”¨ç‡æå‡è‡³95%+ã€ç³»ç»Ÿæ€§èƒ½æå‡3-5å€
   - **èƒ½æ•ˆæ¯”æå‡**ï¼šèƒ½æ•ˆæ¯”æå‡2-3å€ã€ä¸“ç”¨åŠ é€Ÿå™¨ä¼˜åŠ¿æ˜æ˜¾
   - **é€‚ç”¨åœºæ™¯**ï¼šå¼‚æ„è®¡ç®—ç³»ç»Ÿã€AIè®­ç»ƒã€é«˜æ€§èƒ½è®¡ç®—
   - **æ³¨æ„äº‹é¡¹**ï¼šç¡¬ä»¶å¤æ‚åº¦å¢åŠ ã€æˆæœ¬ä¸Šå‡ã€éœ€è¦æƒè¡¡æ€§èƒ½å’Œæˆæœ¬

### 11.2 ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦æ•…éšœæ’æŸ¥ï¼ˆ2025å¹´11æœˆæœ€æ–°ï¼‰

**å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**ï¼š

| **é—®é¢˜** | **å¯èƒ½åŸå› ** | **æ’æŸ¥æ–¹æ³•** | **è§£å†³æ–¹æ¡ˆ** |
|---------|------------|------------|------------|
| **æŒ‡ä»¤ååé‡ä½** | æ•°æ®ä¾èµ–ä¸¥é‡ã€èµ„æºç«äº‰ã€åˆ†æ”¯è¯¯é¢„æµ‹ | ç›‘æ§æŒ‡ä»¤ååé‡ã€æ€§èƒ½è®¡æ•°å™¨ | ä¼˜åŒ–æ•°æ®ä¾èµ–ã€ä¼˜åŒ–èµ„æºåˆ†é…ã€ä¼˜åŒ–åˆ†æ”¯é¢„æµ‹ |
| **ç¼“å­˜å‘½ä¸­ç‡ä½** | ç¼“å­˜é…ç½®ä¸å½“ã€ç¼“å­˜è¡Œå¯¹é½ä¸å½“ã€ä¼ªå…±äº« | ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡ã€ç¼“å­˜åˆ†æ | ä¼˜åŒ–ç¼“å­˜é…ç½®ã€ä¼˜åŒ–ç¼“å­˜è¡Œå¯¹é½ã€å‡å°‘ä¼ªå…±äº« |
| **å†…å­˜è®¿é—®å»¶è¿Ÿé«˜** | å†…å­˜è°ƒåº¦ä¸å½“ã€NUMAé…ç½®ä¸å½“ã€å†…å­˜é¢„å–æœªä½¿ç”¨ | ç›‘æ§å†…å­˜è®¿é—®å»¶è¿Ÿã€å†…å­˜åˆ†æ | ä¼˜åŒ–å†…å­˜è°ƒåº¦ã€ä¼˜åŒ–NUMAé…ç½®ã€ä½¿ç”¨å†…å­˜é¢„å– |
| **åˆ†æ”¯è¯¯é¢„æµ‹ç‡é«˜** | åˆ†æ”¯é¢„æµ‹å™¨é…ç½®ä¸å½“ã€åˆ†æ”¯æ¨¡å¼å¤æ‚ | ç›‘æ§åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡ã€åˆ†æ”¯åˆ†æ | ä¼˜åŒ–åˆ†æ”¯é¢„æµ‹å™¨ã€å‡å°‘åˆ†æ”¯ã€ä½¿ç”¨åˆ†æ”¯é¢„æµ‹æç¤º |
| **åŠŸè€—è¿‡é«˜** | åŠŸè€—ç®¡ç†ç­–ç•¥ä¸å½“ã€æš—ç¡…ç®¡ç†ä¸å½“ | ç›‘æ§åŠŸè€—ã€åŠŸè€—åˆ†æ | ä¼˜åŒ–åŠŸè€—ç®¡ç†ç­–ç•¥ã€ä¼˜åŒ–æš—ç¡…ç®¡ç†ã€ä½¿ç”¨RAPLé™åˆ¶ |
| **å¼‚æ„æ ¸å¿ƒè°ƒåº¦ä¸å½“** | æ ¸å¿ƒé€‰æ‹©ç­–ç•¥ä¸å½“ã€å·¥ä½œè´Ÿè½½åˆ†é…ä¸å½“ | ç›‘æ§æ ¸å¿ƒåˆ©ç”¨ç‡ã€è°ƒåº¦åˆ†æ | ä¼˜åŒ–æ ¸å¿ƒé€‰æ‹©ç­–ç•¥ã€ä¼˜åŒ–å·¥ä½œè´Ÿè½½åˆ†é…ã€ä½¿ç”¨æ™ºèƒ½è°ƒåº¦ |

**æ•…éšœæ’æŸ¥æ­¥éª¤**ï¼š

1. **æ”¶é›†ä¿¡æ¯**ï¼š
   - æŒ‡ä»¤ååé‡ã€ç¼“å­˜å‘½ä¸­ç‡ã€å†…å­˜è®¿é—®å»¶è¿Ÿ
   - åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡ã€åŠŸè€—ã€æ ¸å¿ƒåˆ©ç”¨ç‡
   - æ€§èƒ½è®¡æ•°å™¨æ•°æ®ã€PMUäº‹ä»¶ã€æ€§èƒ½åˆ†ææ•°æ®
   - ç³»ç»Ÿæ—¥å¿—ã€æ€§èƒ½åˆ†æå·¥å…·è¾“å‡ºã€ç¡¬ä»¶ç›‘æ§æ•°æ®

2. **åˆ†æé—®é¢˜**ï¼š
   - è¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼ˆæŒ‡ä»¤è°ƒåº¦ã€ç¼“å­˜è°ƒåº¦ã€å†…å­˜è°ƒåº¦ï¼‰
   - åˆ†æç¡¬ä»¶é…ç½®ã€è°ƒåº¦ç­–ç•¥
   - è¯„ä¼°åŠŸè€—ç®¡ç†ã€å¼‚æ„è®¡ç®—é…ç½®

3. **åˆ¶å®šæ–¹æ¡ˆ**ï¼š
   - ä¼˜åŒ–æŒ‡ä»¤è°ƒåº¦ã€æé«˜æŒ‡ä»¤ååé‡
   - ä¼˜åŒ–ç¼“å­˜è°ƒåº¦ã€æé«˜ç¼“å­˜å‘½ä¸­ç‡
   - ä¼˜åŒ–åŠŸè€—ç®¡ç†ã€é™ä½åŠŸè€—

4. **éªŒè¯æ•ˆæœ**ï¼š
   - ç›‘æ§æ€§èƒ½æŒ‡æ ‡ã€éªŒè¯ä¼˜åŒ–æ•ˆæœ
   - æŒç»­ä¼˜åŒ–ã€è°ƒæ•´ç­–ç•¥

**ç›‘æ§æŒ‡æ ‡**ï¼š

- **æŒ‡ä»¤è°ƒåº¦æ€§èƒ½**ï¼šæŒ‡ä»¤ååé‡ã€æŒ‡ä»¤çº§å¹¶è¡Œåº¦ã€æµæ°´çº¿åœé¡¿
- **ç¼“å­˜æ€§èƒ½**ï¼šç¼“å­˜å‘½ä¸­ç‡ã€ç¼“å­˜è®¿é—®å»¶è¿Ÿã€ç¼“å­˜ä¸€è‡´æ€§å¼€é”€
- **å†…å­˜æ€§èƒ½**ï¼šå†…å­˜è®¿é—®å»¶è¿Ÿã€å†…å­˜å¸¦å®½åˆ©ç”¨ç‡ã€NUMAè®¿é—®
- **åˆ†æ”¯æ€§èƒ½**ï¼šåˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡ã€åˆ†æ”¯è¯¯é¢„æµ‹æƒ©ç½šã€åˆ†æ”¯å¼€é”€
- **åŠŸè€—æŒ‡æ ‡**ï¼šåŠŸè€—ã€èƒ½æ•ˆæ¯”ã€æš—ç¡…åˆ©ç”¨ç‡
- **æ€§èƒ½æŒ‡æ ‡**ï¼šå»¶è¿Ÿã€ååé‡ã€èµ„æºåˆ©ç”¨ç‡ã€æ€§èƒ½æ•ˆç‡

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**ï¼š

1. **æŒ‡ä»¤è°ƒåº¦ä¼˜åŒ–**ï¼š
   - æé«˜æŒ‡ä»¤çº§å¹¶è¡Œåº¦ã€å‡å°‘æ•°æ®ä¾èµ–
   - ä¼˜åŒ–å¯„å­˜å™¨é‡å‘½åã€å‡å°‘WAR/WAWä¾èµ–
   - ä¼˜åŒ–ä¿ç•™ç«™è°ƒåº¦ã€æé«˜æŒ‡ä»¤ååé‡

2. **ç¼“å­˜ä¼˜åŒ–**ï¼š
   - ä¼˜åŒ–ç¼“å­˜é…ç½®ã€æé«˜ç¼“å­˜å‘½ä¸­ç‡
   - ä¼˜åŒ–ç¼“å­˜è¡Œå¯¹é½ã€å‡å°‘ä¼ªå…±äº«
   - ä½¿ç”¨ç¼“å­˜é¢„å–ã€æé«˜å‘½ä¸­ç‡

3. **å†…å­˜ä¼˜åŒ–**ï¼š
   - ä¼˜åŒ–å†…å­˜è°ƒåº¦ã€å‡å°‘å†…å­˜è®¿é—®å»¶è¿Ÿ
   - ä½¿ç”¨å†…å­˜é¢„å–ã€å‡å°‘å†…å­˜è®¿é—®å»¶è¿Ÿ
   - ä½¿ç”¨NUMAæ„ŸçŸ¥ã€å‡å°‘è·¨èŠ‚ç‚¹è®¿é—®

4. **åˆ†æ”¯ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨TAGEé¢„æµ‹å™¨ã€æé«˜é¢„æµ‹å‡†ç¡®ç‡
   - å‡å°‘åˆ†æ”¯æŒ‡ä»¤ã€é™ä½è¯¯é¢„æµ‹æƒ©ç½š
   - ä½¿ç”¨åˆ†æ”¯é¢„æµ‹æç¤ºã€æé«˜é¢„æµ‹å‡†ç¡®ç‡

5. **åŠŸè€—ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨å¼‚æ„è®¡ç®—ã€ä¼˜åŒ–ä¸åŒå·¥ä½œè´Ÿè½½
   - ä¼˜åŒ–åŠŸè€—ç®¡ç†ç­–ç•¥ã€é™ä½åŠŸè€—
   - ä½¿ç”¨RAPLé™åˆ¶ã€æ§åˆ¶åŠŸè€—

---

## 12 2025å¹´æœ€æ–°æŠ€æœ¯ï¼ˆæ›´æ–°è‡³2025å¹´11æœˆï¼‰

**æœ€æ–°æŠ€æœ¯å‘å±•**ï¼š

- **å¼‚æ„è®¡ç®—è°ƒåº¦ä¼˜åŒ–æˆç†Ÿ**ï¼š2025å¹´11æœˆï¼Œå¼‚æ„æ ¸å¿ƒï¼ˆP-core/E-core/NPUï¼‰è°ƒåº¦ä¼˜åŒ–åœ¨ç§»åŠ¨å’Œè¾¹ç¼˜è®¾å¤‡ä¸­å¹¿æ³›åº”ç”¨ï¼Œé€šè¿‡æ™ºèƒ½æ ¸å¿ƒé€‰æ‹©ï¼Œç³»ç»Ÿæ€§èƒ½æå‡30-50%ï¼ŒåŠŸè€—é™ä½40-60%ï¼Œèƒ½æ•ˆæ¯”æå‡2-3å€ã€‚ä½†è°ƒåº¦å¤æ‚åº¦å¢åŠ ï¼Œéœ€è¦æ™ºèƒ½è°ƒåº¦ä¼˜åŒ–ã€‚
- **AIé©±åŠ¨çš„ç¡¬ä»¶è°ƒåº¦ä¼˜åŒ–æˆç†Ÿ**ï¼š2025å¹´11æœˆï¼ŒåŸºäºAIçš„ç¡¬ä»¶è°ƒåº¦ä¼˜åŒ–åœ¨é«˜ç«¯å¤„ç†å™¨ä¸­åº”ç”¨ï¼Œåˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡æå‡è‡³98%+ï¼ŒæŒ‡ä»¤è°ƒåº¦æ•ˆç‡æå‡20-40%ï¼ŒåŠŸè€—é™ä½15-30%ã€‚ä½†è®­ç»ƒæˆæœ¬é«˜ï¼Œå¯è§£é‡Šæ€§å·®ã€‚
- **ä¸“ç”¨åŠ é€Ÿå™¨é›†æˆè°ƒåº¦ä¼˜åŒ–æˆç†Ÿ**ï¼š2025å¹´11æœˆï¼Œä¸“ç”¨åŠ é€Ÿå™¨ï¼ˆNPUã€DPUï¼‰é›†æˆè°ƒåº¦ä¼˜åŒ–åœ¨å¼‚æ„è®¡ç®—ç³»ç»Ÿä¸­åº”ç”¨ï¼ŒåŠ é€Ÿå™¨åˆ©ç”¨ç‡æå‡è‡³95%+ï¼Œç³»ç»Ÿæ€§èƒ½æå‡3-5å€ã€‚ä½†ç¡¬ä»¶å¤æ‚åº¦å¢åŠ ï¼Œæˆæœ¬ä¸Šå‡ã€‚

**æŠ€æœ¯å¯¹æ¯”**ï¼š

| **æŠ€æœ¯** | **æ€§èƒ½æå‡** | **åŠŸè€—é™ä½** | **èƒ½æ•ˆæ¯”æå‡** | **å¤æ‚åº¦/æˆæœ¬** |
|---------|------------|------------|-------------|--------------|
| **å¼‚æ„è®¡ç®—è°ƒåº¦** | 30-50% | 40-60% | 2-3å€ | é«˜ |
| **AIé©±åŠ¨ç¡¬ä»¶è°ƒåº¦** | 20-40% | 15-30% | 1.5-2å€ | é«˜ |
| **ä¸“ç”¨åŠ é€Ÿå™¨é›†æˆ** | 3-5å€ | - | 2-3å€ | é«˜ |

**æ‰¹åˆ¤æ€§åˆ†æ**ï¼š

1. **å¼‚æ„è®¡ç®—çš„è°ƒåº¦å¤æ‚åº¦**ï¼šè™½ç„¶æ€§èƒ½æå‡æ˜¾è‘—ï¼Œä½†è°ƒåº¦å¤æ‚åº¦å¢åŠ ï¼Œéœ€è¦æ™ºèƒ½è°ƒåº¦ä¼˜åŒ–ã€‚å¹¶éæ‰€æœ‰åœºæ™¯éƒ½é€‚åˆå¼‚æ„è®¡ç®—ã€‚
2. **AIé©±åŠ¨è°ƒåº¦çš„å¯è§£é‡Šæ€§**ï¼šè™½ç„¶æ€§èƒ½æå‡æ˜¾è‘—ï¼Œä½†è®­ç»ƒæˆæœ¬é«˜ï¼Œå¯è§£é‡Šæ€§å·®ï¼Œéœ€è¦æƒè¡¡æ€§èƒ½å’Œå¯è§£é‡Šæ€§ã€‚
3. **ä¸“ç”¨åŠ é€Ÿå™¨çš„æˆæœ¬æƒè¡¡**ï¼šè™½ç„¶æ€§èƒ½æå‡æ˜¾è‘—ï¼Œä½†ç¡¬ä»¶å¤æ‚åº¦å¢åŠ ï¼Œæˆæœ¬ä¸Šå‡ï¼Œéœ€è¦æƒè¡¡æ€§èƒ½å’Œæˆæœ¬ã€‚

---

## 13 æ€ç»´å¯¼å›¾

```mermaid
graph TD
    subgraph ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦
        Hardware[ç¡¬ä»¶å¾®æ¶æ„è°ƒåº¦]
        Hardware---æŒ‡ä»¤è°ƒåº¦[æŒ‡ä»¤è°ƒåº¦]
        Hardware---å†…å­˜è°ƒåº¦[å†…å­˜è°ƒåº¦]
        Hardware---ç¼“å­˜è°ƒåº¦[ç¼“å­˜è°ƒåº¦]
        Hardware---åˆ†æ”¯è°ƒåº¦[åˆ†æ”¯è°ƒåº¦]
        Hardware---åŠŸè€—è°ƒåº¦[åŠŸè€—è°ƒåº¦]
        Hardware---å®è·µæ¡ˆä¾‹[å®è·µæ¡ˆä¾‹]
    end

    subgraph æŒ‡ä»¤è°ƒåº¦
        æŒ‡ä»¤è°ƒåº¦---è¶…æ ‡é‡å‘å°„[è¶…æ ‡é‡å‘å°„]
        æŒ‡ä»¤è°ƒåº¦---ä¹±åºæ‰§è¡Œ[ä¹±åºæ‰§è¡Œ]
        è¶…æ ‡é‡å‘å°„---å¤šå‘å°„[å¤šå‘å°„]
        è¶…æ ‡é‡å‘å°„---æŒ‡ä»¤çº§å¹¶è¡Œ[æŒ‡ä»¤çº§å¹¶è¡Œ]
        ä¹±åºæ‰§è¡Œ---å¯„å­˜å™¨é‡å‘½å[å¯„å­˜å™¨é‡å‘½å]
        ä¹±åºæ‰§è¡Œ---ä¿ç•™ç«™[ä¿ç•™ç«™]
    end

    subgraph å†…å­˜è°ƒåº¦
        å†…å­˜è°ƒåº¦---MOB[MOBå†…å­˜é¡ºåºç¼“å†²]
        å†…å­˜è°ƒåº¦---å­˜å‚¨è½¬å‘[å­˜å‚¨-è£…è½½è½¬å‘]
        MOB---LoadBuffer[Load Buffer]
        MOB---StoreBuffer[Store Buffer]
        å­˜å‚¨è½¬å‘---è½¬å‘ä¼˜åŒ–[è½¬å‘ä¼˜åŒ–]
    end

    subgraph ç¼“å­˜è°ƒåº¦
        ç¼“å­˜è°ƒåº¦---ç¼“å­˜å±‚æ¬¡[ç¼“å­˜å±‚æ¬¡]
        ç¼“å­˜è°ƒåº¦---ä¸€è‡´æ€§åè®®[ç¼“å­˜ä¸€è‡´æ€§åè®®]
        ç¼“å­˜å±‚æ¬¡---L1[L1ç¼“å­˜]
        ç¼“å­˜å±‚æ¬¡---L2[L2ç¼“å­˜]
        ç¼“å­˜å±‚æ¬¡---L3[L3ç¼“å­˜]
        ä¸€è‡´æ€§åè®®---MESI[MESIåè®®]
    end

    subgraph åˆ†æ”¯è°ƒåº¦
        åˆ†æ”¯è°ƒåº¦---åˆ†æ”¯é¢„æµ‹[åˆ†æ”¯é¢„æµ‹å™¨]
        åˆ†æ”¯è°ƒåº¦---è¯¯é¢„æµ‹æƒ©ç½š[è¯¯é¢„æµ‹æƒ©ç½š]
        åˆ†æ”¯é¢„æµ‹---é™æ€é¢„æµ‹[é™æ€é¢„æµ‹]
        åˆ†æ”¯é¢„æµ‹---åŠ¨æ€é¢„æµ‹[åŠ¨æ€é¢„æµ‹]
        è¯¯é¢„æµ‹æƒ©ç½š---æµæ°´çº¿æ¸…ç©º[æµæ°´çº¿æ¸…ç©º]
    end

    subgraph åŠŸè€—è°ƒåº¦
        åŠŸè€—è°ƒåº¦---RAPL[RAPLåŠŸè€—é™åˆ¶]
        åŠŸè€—è°ƒåº¦---æ—¶é’Ÿé—¨æ§[æ—¶é’Ÿé—¨æ§]
        RAPL---åŠŸè€—å°é¡¶[åŠŸè€—å°é¡¶]
        æ—¶é’Ÿé—¨æ§---åŠ¨æ€åŠŸè€—[åŠ¨æ€åŠŸè€—ä¼˜åŒ–]
    end

    subgraph å®è·µæ¡ˆä¾‹
        å®è·µæ¡ˆä¾‹---Skylake[Intel Skylakeä¼˜åŒ–]
        å®è·µæ¡ˆä¾‹---M3[Apple M3èƒ½æ•ˆä¼˜åŒ–]
    end

    subgraph 2025å¹´æœ€æ–°æŠ€æœ¯
        Tech[2025å¹´æœ€æ–°æŠ€æœ¯]
        Tech---å¼‚æ„è®¡ç®—[å¼‚æ„è®¡ç®—è°ƒåº¦ä¼˜åŒ–]
        Tech---AIé©±åŠ¨[AIé©±åŠ¨çš„ç¡¬ä»¶è°ƒåº¦ä¼˜åŒ–]
        Tech---ä¸“ç”¨åŠ é€Ÿå™¨[ä¸“ç”¨åŠ é€Ÿå™¨é›†æˆè°ƒåº¦ä¼˜åŒ–]
        å¼‚æ„è®¡ç®—---æ€§èƒ½æå‡[æ€§èƒ½æå‡30-50%]
        å¼‚æ„è®¡ç®—---åŠŸè€—é™ä½[åŠŸè€—é™ä½40-60%]
        AIé©±åŠ¨---åˆ†æ”¯é¢„æµ‹[åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡98%+]
        ä¸“ç”¨åŠ é€Ÿå™¨---åˆ©ç”¨ç‡[åŠ é€Ÿå™¨åˆ©ç”¨ç‡95%+]
    end

    Hardware --> Tech
```

---

## 14 ç›¸å…³ä¸»é¢˜

- [1.1 CPUå¾®æ¶æ„](../01_CPUç¡¬ä»¶å±‚/01.1_CPUå¾®æ¶æ„.md) - å¾®æ¶æ„åŸºç¡€
- [6.2 OSå†…æ ¸è°ƒåº¦](./06.2_OSå†…æ ¸è°ƒåº¦.md) - OSè°ƒåº¦å®ç°
- [6.5 è°ƒåº¦æ¨¡å‹ç»Ÿä¸€ç†è®º](./06.5_è°ƒåº¦æ¨¡å‹ç»Ÿä¸€ç†è®º.md) - è°ƒåº¦ç†è®ºæ¡†æ¶
- [9.2 ç¡¬ä»¶-OSæ˜ å°„è¯æ˜](../09_å½¢å¼åŒ–ç†è®ºä¸è¯æ˜/09.2_ç¡¬ä»¶-OSæ˜ å°„è¯æ˜.md) - ç¡¬ä»¶è°ƒåº¦è¯æ˜
- [ä¸»æ–‡æ¡£ï¼šè°ƒåº¦æ¨¡å‹](../schedule_formal_view.md#å½¢å¼åŒ–ç†è®ºæ¡†æ¶) - å®Œæ•´ç†è®ºæ¡†æ¶

---

**æœ€åæ›´æ–°**: 2025-11-14
