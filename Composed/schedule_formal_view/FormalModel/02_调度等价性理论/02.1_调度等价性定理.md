# 02.1 调度等价性定理

> **所属主题**: 02_调度等价性理论
> **最后更新**: 2025-01-27

## 📋 目录

- [02.1 调度等价性定理](#021-调度等价性定理)
  - [📋 目录](#-目录)
  - [1. 定理陈述](#1-定理陈述)
  - [2. 证明框架](#2-证明框架)
    - [2.1 步骤1：构造规约函数](#21-步骤1构造规约函数)
    - [2.2 步骤2：证明等价性](#22-步骤2证明等价性)
  - [3. 相关文档](#3-相关文档)

---

## 1. 定理陈述

**定理**：三层调度系统可规约为相同的**资源约束优化问题**，即存在多项式时间规约 f 使得：

```text
∀L₁, L₂ ∈ {OS, VM, Container},
OPT(L₁, I) = OPT(L₂, f(I))
```

---

## 2. 证明框架

### 2.1 步骤1：构造规约函数

```python
def reduction(instance_L1):
    # 统一抽象层
    unified = AbstractResourceGraph()

    for entity in instance_L1.entities:
        # 提取共性特征
        unified.add_node(
            id=entity.id,
            demand=normalize_demand(entity.resource_req),
            lifetime=entity.duration,
            affinity=entity.affinity_constraints,
            priority=entity.weight
        )

    # 转换资源拓扑
    unified.topology = build_bipartite_graph(
        consumers=instance_L1.entities,
        providers=instance_L1.resources,
        capacities=instance_L1.capacity_vector
    )

    return unified
```

### 2.2 步骤2：证明等价性

_引理1_（资源约束保持）：规约后的资源约束矩阵 M' 保持原始约束的语义不变。

```text
证明：通过构造线性变换 T: ℝ^(m×n) → ℝ^(m'×n')，其中 T 为保序同构。
∀t, M'(t) = T(M(t)) 且 ‖M'(t)‖_∞ = ‖M(t)‖_∞
```

_引理2_（目标函数不变性）：效用函数 U 在规约下保持序关系。

```text
证明：U'(A') = αU(A) + β, α > 0，因此最优解集合不变。
```

_定理证明_：
由引理1和引理2，根据Cook-Levin定理的推广形式，调度问题的最优解在多项式规约下保持。∎

---

## 3. 相关文档

- [返回 FormalModel 目录](../README.md)
- [01_基础形式化框架](../01_基础形式化框架/README.md)
- [03_多模型视角](../03_多模型视角/README.md)

---

**最后更新**: 2025-01-27
