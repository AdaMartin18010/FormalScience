# 19. 实时系统调度

> **主题**: 硬实时调度、软实时调度、混合关键性系统、实时调度验证
> **覆盖范围**: 从硬实时到混合关键性系统调度的完整体系

---

## 📋 目录

- [19. 实时系统调度](#19-实时系统调度)
  - [📋 目录](#-目录)
  - [1 子主题索引](#1-子主题索引)
  - [2 相关主题](#2-相关主题)
  - [3 核心概念矩阵](#3-核心概念矩阵)
  - [4 调度延迟层级](#4-调度延迟层级)
  - [5 形式化模型](#5-形式化模型)
    - [5.1 实时调度问题定义](#51-实时调度问题定义)
    - [5.2 可调度性条件](#52-可调度性条件)

---

## 1 子主题索引

- [19.1 硬实时调度](./19.1_硬实时调度.md) - 速率单调调度（RMS）、最早截止时间优先（EDF）、可调度性分析
- [19.2 软实时调度](./19.2_软实时调度.md) - 软实时调度算法、延迟容忍、服务质量保证
- [19.3 混合关键性系统](./19.3_混合关键性系统.md) - 多关键性级别调度、时间隔离、空间隔离
- [19.4 实时调度验证](./19.4_实时调度验证.md) - WCET分析、可调度性测试、形式化验证

---

## 2 相关主题

- [03.1 进程调度模型](../03_OS抽象层/03.1_进程调度模型.md) - 实时调度
- [09.1 调度模型形式化](../09_形式化理论与证明/09.1_调度模型形式化.md) - 形式化验证
- [09.3 性能边界证明](../09_形式化理论与证明/09.3_性能边界证明.md) - WCET分析
- [07.2 延迟穿透分析](../07_性能优化与安全/07.2_延迟穿透分析.md) - 延迟分析

---

## 3 核心概念矩阵

| **调度类型** | **截止时间** | **可调度性** | **优化目标** | **主要约束** |
|------------|------------|------------|------------|------------|
| **硬实时** | 严格保证 | 可调度性测试 | 保证截止时间 | WCET |
| **软实时** | 尽力保证 | 概率保证 | 最小化延迟 | 平均执行时间 |
| **混合关键性** | 分级保证 | 关键性隔离 | 多目标优化 | 资源隔离 |
| **实时验证** | 形式化保证 | 数学证明 | 可证明性 | WCET上界 |

---

## 4 调度延迟层级

```text
实时任务到达
  ↓ [中断处理] ~1-10μs
实时调度器
  ↓ [调度决策] ~1-5μs
任务执行
  ├─ 硬实时: 微秒级，严格截止时间
  └─ 软实时: 毫秒级，尽力保证
```

**关键洞察**：实时调度延迟必须可预测，WCET（最坏情况执行时间）分析是硬实时调度的基础。

---

## 5 形式化模型

### 5.1 实时调度问题定义

$$
\text{实时调度问题} = (T, D, C, S)
$$

其中：

- $T = \{t_1, t_2, \ldots, t_n\}$：实时任务集合
- $D = \{d_1, d_2, \ldots, d_n\}$：截止时间集合
- $C = \{c_1, c_2, \ldots, c_n\}$：WCET集合
- $S$：调度策略（RMS、EDF等）

### 5.2 可调度性条件

**RMS可调度性**（利用率测试）：
$$
U = \sum_{i=1}^{n} \frac{c_i}{p_i} \leq n(2^{1/n} - 1)
$$

**EDF可调度性**（利用率测试）：
$$
U = \sum_{i=1}^{n} \frac{c_i}{p_i} \leq 1
$$

---

**最后更新**: 2025-01-XX
**文档状态**: 🔄 规划中，待完善
