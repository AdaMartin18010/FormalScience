# 1.1 基本类型单元

> **子主题编号**: 01.1
> **主题**: 核心概念映射
> **最后更新**: 2025-01-XX

---

## 📋 目录

- [1.1 基本类型单元](#11-基本类型单元)
  - [📋 目录](#-目录)
  - [1 概述](#1-概述)
  - [📑 目录](#-目录-1)
  - [2 核心概念](#2-核心概念)
    - [2.1 编程语言中的基本类型](#21-编程语言中的基本类型)
    - [2.2 容器化中的对应](#22-容器化中的对应)
  - [3 对应关系表](#3-对应关系表)
  - [4 技术细节](#4-技术细节)
    - [4.1 OCI镜像层结构](#41-oci镜像层结构)
    - [4.2 类型签名对应](#42-类型签名对应)
  - [5 实际应用](#5-实际应用)
    - [5.1 Docker镜像构建](#51-docker镜像构建)
    - [5.2 类型安全保证](#52-类型安全保证)
  - [6 相关概念](#6-相关概念)
  - [7 延伸阅读](#7-延伸阅读)

---

## 1 概述

基本类型单元是类型系统的基础，对应到基础设施中，**OCI镜像层**是只读的原子单元，运行时实例化为**容器**，类似于类型实例化。

---

## 📑 目录

- [1.1 基本类型单元](#11-基本类型单元)
  - [📋 目录](#-目录)
  - [1 概述](#1-概述)
  - [📑 目录](#-目录-1)
  - [2 核心概念](#2-核心概念)
    - [2.1 编程语言中的基本类型](#21-编程语言中的基本类型)
    - [2.2 容器化中的对应](#22-容器化中的对应)
  - [3 对应关系表](#3-对应关系表)
  - [4 技术细节](#4-技术细节)
    - [4.1 OCI镜像层结构](#41-oci镜像层结构)
    - [4.2 类型签名对应](#42-类型签名对应)
  - [5 实际应用](#5-实际应用)
    - [5.1 Docker镜像构建](#51-docker镜像构建)
    - [5.2 类型安全保证](#52-类型安全保证)
  - [6 相关概念](#6-相关概念)
  - [7 延伸阅读](#7-延伸阅读)

---

## 2 核心概念

### 2.1 编程语言中的基本类型

- `int`, `string`, `bool` 等不可再分的原子类型
- 这些类型是类型系统的基础构建块

### 2.2 容器化中的对应

- **OCI镜像层**是只读的原子单元
- 运行时实例化为**容器**（类似类型实例化）
- **关键对应**：镜像层哈希 ≈ 类型签名，不可变性 ≈ 类型安全

---

## 3 对应关系表

| 编程语言 | 容器化 | 关键特性 |
|---------|--------|---------|
| `int` | OCI镜像层 | 原子性、不可变性 |
| 类型签名 | 镜像层哈希 | 唯一标识 |
| 类型实例化 | 容器运行 | 运行时创建 |
| 类型安全 | 不可变性 | 保证一致性 |

---

## 4 技术细节

### 4.1 OCI镜像层结构

```text
镜像层 (Layer)
├── 内容哈希 (Content Hash)
├── 元数据 (Metadata)
└── 文件系统变更 (Filesystem Changes)
```

### 4.2 类型签名对应

```haskell
-- 类型系统视角
type ImageLayer = Layer { hash :: SHA256, content :: ByteString }

-- 基础设施视角
type Container = ImageLayer -> RuntimeState
```

---

## 5 实际应用

### 5.1 Docker镜像构建

```dockerfile
FROM ubuntu:22.04  # 基础层（基类型）
RUN apt-get update # 新层（类型扩展）
COPY app /app      # 新层（类型组合）
```

### 5.2 类型安全保证

- **不可变性**: 镜像层一旦创建不可修改
- **内容寻址**: 通过哈希值唯一标识
- **可组合性**: 多个层可以组合成完整镜像

---

## 6 相关概念

- [1.2 复合类型与组合运算符](./01.2_复合类型与组合运算符.md)
- [1.3 类型层级与继承](./01.3_类型层级与继承.md)
- [02.1 自相似性（Fractal Architecture）](../02_递归结构/02.1_自相似性.md)

---

## 7 延伸阅读

- OCI Image Specification
- Docker Image Layers
- Content-Addressable Storage

---

**返回**: [01. 核心概念映射](./README.md) | [主题索引](../README.md)
