# 笛卡尔闭范畴 (Cartesian Closed Category)

> **主题**: λ演算的自然范畴模型
> **创建日期**: 2025-12-02
> **难度**: ⭐⭐⭐⭐
> **前置知识**: 范畴论基础、λ演算

---

## 📋 目录

- [笛卡尔闭范畴 (Cartesian Closed Category)](#笛卡尔闭范畴-cartesian-closed-category)
  - [📋 目录](#-目录)
  - [1. CCC的定义](#1-ccc的定义)
    - [1.1 笛卡尔闭范畴](#11-笛卡尔闭范畴)
    - [1.2 泛性质详解](#12-泛性质详解)
  - [2. 指数对象](#2-指数对象)
    - [2.1 Curry-Uncurry同构](#21-curry-uncurry同构)
    - [2.2 求值态射](#22-求值态射)
  - [3. λ演算的范畴语义](#3-λ演算的范畴语义)
    - [3.1 类型的解释](#31-类型的解释)
    - [3.2 项的解释](#32-项的解释)
    - [3.3 β归约 = 态射等式](#33-β归约--态射等式)
  - [4. Curry-Uncurry同构](#4-curry-uncurry同构)
    - [4.1 详细证明](#41-详细证明)
    - [4.2 实践应用](#42-实践应用)
  - [5. 例子: Set范畴](#5-例子-set范畴)
  - [6. 参考资源](#6-参考资源)
    - [教材](#教材)

---

## 1. CCC的定义

### 1.1 笛卡尔闭范畴

**定义1.1**: 范畴 C 是**笛卡尔闭的** (CCC)，如果它有：

1. **终对象** (Terminal Object): 对象 1，使得：

   ```text
   ∀A. ∃! f: A → 1
   ```

2. **积** (Product): 对任意 A, B，存在 A×B 及投影：

   ```text
   A ←^π₁ A×B →^π₂ B
   ```

   满足泛性质。

3. **指数对象** (Exponential Object): 对任意 A, B，存在 B^A 及求值态射：

   ```text
   eval: B^A × A → B
   ```

   使得B^A是A×_的右伴随。

### 1.2 泛性质详解

**积的泛性质**:

对任意 f: C → A, g: C → B，存在唯一 ⟨f, g⟩: C → A×B：

```text
      C
    /   \
   f     g
  ↓       ↓
  A ←── A×B ──→ B
    π₁      π₂
```

**指数的泛性质**:

```text
Hom(C × A, B) ≅ Hom(C, B^A)
```

**直觉**:

- 双参数函数 C×A → B
- ≅ 单参数返回函数的函数 C → (A → B)

---

## 2. 指数对象

### 2.1 Curry-Uncurry同构

**curry**: (A×B → C) → (A → C^B)
**uncurry**: (A → C^B) → (A×B → C)

**满足**: curry ∘ uncurry = id, uncurry ∘ curry = id

**λ演算对应**:

```haskell
curry f = \x -> \y -> f (x, y)
uncurry g = \(x, y) -> g x y
```

### 2.2 求值态射

**eval: B^A × A → B**

**含义**: "函数应用"作为态射

**与λ演算**:

```text
eval(f, a) = f(a)
```

**满足**: 对任意 g: C×A → B,

```text
    C×A ─────→ B^A×A
     │            │
   g │            │ eval
     ↓            ↓
     B ─────────→ B
          =
```

即 g = eval ∘ (curry(g) × id)

---

## 3. λ演算的范畴语义

### 3.1 类型的解释

| λ演算 | 范畴论 |
|-------|--------|
| 类型A | 对象A |
| A → B | 指数对象 B^A |
| A × B | 积 A×B |
| ⊤ | 终对象 1 |

### 3.2 项的解释

**上下文**: Γ = x₁:A₁, ..., xₙ:Aₙ
**解释**: ⟦Γ⟧ = A₁ × ··· × Aₙ

| λ项 | 态射 |
|------|------|
| Γ ⊢ M:A | ⟦M⟧: ⟦Γ⟧ → A |
| λx.M | curry(⟦M⟧) |
| M N | eval ∘ (⟦M⟧ × ⟦N⟧) |

### 3.3 β归约 = 态射等式

**β等式**: (λx.M)N = M[x:=N]

**范畴等式**:

```text
uncurry(curry(f)) = f
eval ∘ (curry(f) × id) = f
```

**深刻含义**: β归约是范畴论等式的语法表现！

---

## 4. Curry-Uncurry同构

### 4.1 详细证明

**目标**: curry ∘ uncurry = id

```text
curry(uncurry(g))
= curry(λ(x,y). g x y)
= λx. λy. g x y
= λx. g x
= g  ✓
```

**反向**: uncurry ∘ curry = id（类似）

### 4.2 实践应用

**Haskell标准库**:

```haskell
curry :: ((a, b) -> c) -> a -> b -> c
curry f x y = f (x, y)

uncurry :: (a -> b -> c) -> (a, b) -> c
uncurry g (x, y) = g x y
```

**用途**: API设计的灵活性

---

## 5. 例子: Set范畴

**对象**: 集合
**态射**: 函数

**积**: A × B = 笛卡尔积
**终对象**: 1 = {*} (单点集)
**指数**: B^A = 所有函数 A → B

**验证CCC**:

- ✅ 有终对象
- ✅ 有积
- ✅ 有指数（函数集）

**Hom-集同构**:

```text
Hom(C × A, B) ≅ Hom(C, B^A)
       ↕              ↕
  函数 C×A → B  ≅  函数 C → (A→B)
```

---

## 6. 参考资源

### 教材

1. **Lambek & Scott** - _Introduction to Higher Order Categorical Logic_
2. **Crole, R.** - _Categories for Types_

---

**最后更新**: 2025-12-04
**版本**: v2.1 (扩展版)
**状态**: ✅ 已完成Wikipedia对标、大学课程对标、思维表征扩展
