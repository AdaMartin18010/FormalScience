# ä¾èµ–ç±»å‹å®è·µæŒ‡å—

> **ä¸»é¢˜**: ä¾èµ–ç±»å‹è¯­è¨€çš„å®è·µåº”ç”¨
> **åˆ›å»ºæ—¥æœŸ**: 2025-12-02
> **éš¾åº¦**: â­â­â­â­â­
> **å‰ç½®çŸ¥è¯†**: å‡½æ•°å¼ç¼–ç¨‹ã€ç±»å‹ç†è®º

---

## ğŸ“‹ ç›®å½•

- [ä¾èµ–ç±»å‹å®è·µæŒ‡å—](#ä¾èµ–ç±»å‹å®è·µæŒ‡å—)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. ä¾èµ–ç±»å‹å…¥é—¨](#1-ä¾èµ–ç±»å‹å…¥é—¨)
    - [1.1 æ ¸å¿ƒæ€æƒ³](#11-æ ¸å¿ƒæ€æƒ³)
    - [1.2 ä¸æ™®é€šç±»å‹çš„åŒºåˆ«](#12-ä¸æ™®é€šç±»å‹çš„åŒºåˆ«)
  - [2. é•¿åº¦ç´¢å¼•å‘é‡](#2-é•¿åº¦ç´¢å¼•å‘é‡)
    - [2.1 Agdaå®ç°](#21-agdaå®ç°)
    - [2.2 Idriså®ç°](#22-idriså®ç°)
  - [3. è¯æ˜é©±åŠ¨å¼€å‘](#3-è¯æ˜é©±åŠ¨å¼€å‘)
    - [3.1 å·¥ä½œæµ](#31-å·¥ä½œæµ)
    - [3.2 æ’åºç®—æ³•æ¡ˆä¾‹](#32-æ’åºç®—æ³•æ¡ˆä¾‹)
  - [4. å¤æ‚åº¦æƒè¡¡](#4-å¤æ‚åº¦æƒè¡¡)
  - [5. ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾](#5-ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾)
    - [5.1 è®ºè¯ä¾èµ–å…³ç³»](#51-è®ºè¯ä¾èµ–å…³ç³»)
    - [5.2 æ¦‚å¿µä¾èµ–å…³ç³»](#52-æ¦‚å¿µä¾èµ–å…³ç³»)
  - [6. å‚è€ƒèµ„æº](#6-å‚è€ƒèµ„æº)
    - [6.1 ç»å…¸è®ºæ–‡](#61-ç»å…¸è®ºæ–‡)
    - [6.2 æ•™æ](#62-æ•™æ)
    - [6.3 åœ¨çº¿èµ„æº](#63-åœ¨çº¿èµ„æº)

---

## 1. ä¾èµ–ç±»å‹å…¥é—¨

### 1.1 æ ¸å¿ƒæ€æƒ³

```text
ä¾èµ–ç±»å‹ = ç±»å‹ä¾èµ–äºå€¼

æ™®é€šç±»å‹:
List : Type â†’ Type
List Int

ä¾èµ–ç±»å‹:
Vec : Type â†’ Nat â†’ Type
Vec Int 5  // é•¿åº¦ä¸º5çš„æ•´æ•°å‘é‡

å…³é”®:
ç±»å‹ä¸­åŒ…å«å€¼ä¿¡æ¯ â­
```

---

### 1.2 ä¸æ™®é€šç±»å‹çš„åŒºåˆ«

```text
æ™®é€šç±»å‹:
head : List a -> a
-- è¿è¡Œæ—¶å¯èƒ½é”™è¯¯ (ç©ºåˆ—è¡¨) âš ï¸

ä¾èµ–ç±»å‹:
head : Vec a (S n) -> a
-- ç±»å‹ä¿è¯éç©º! âœ“

ç¼–è¯‘å™¨: "Vec a 0æ— æ³•åŒ¹é…Vec a (S n)"
â†’ ç¼–è¯‘æ—¶æ‹’ç»head([]) âœ“
```

---

## 2. é•¿åº¦ç´¢å¼•å‘é‡

### 2.1 Agdaå®ç°

```agda
data Vec (A : Set) : â„• â†’ Set where
  []  : Vec A 0
  _âˆ·_ : {n : â„•} â†’ A â†’ Vec A n â†’ Vec A (suc n)

head : {A : Set} {n : â„•} â†’ Vec A (suc n) â†’ A
head (x âˆ· xs) = x

append : {A : Set} {m n : â„•} â†’
         Vec A m â†’ Vec A n â†’ Vec A (m + n)
append [] ys = ys
append (x âˆ· xs) ys = x âˆ· append xs ys

-- ç±»å‹çº§ç®—æœ¯!
-- m + nåœ¨ç±»å‹ä¸­è®¡ç®—
```

---

### 2.2 Idriså®ç°

```idris
data Vect : Nat -> Type -> Type where
  Nil  : Vect Z a
  (::) : a -> Vect k a -> Vect (S k) a

head : Vect (S n) a -> a
head (x :: xs) = x

safeDiv : (x : Int) -> (y : Int) -> {auto p : Not (y = 0)} -> Int
-- ä¾èµ–ç±»å‹ä¿è¯yâ‰ 0!
```

---

## 3. è¯æ˜é©±åŠ¨å¼€å‘

### 3.1 å·¥ä½œæµ

```text
1. æŒ‡å®šç²¾ç¡®ç±»å‹ (= è§„èŒƒ)
   sort : (l : List a) â†’
          (l' : List a **
           (Sorted l', Permutation l l'))

2. å®ç°å‡½æ•° (= è¯æ˜æ„é€ )
   sort l = (mergeSort l, (sortedProof, permProof))

3. ç±»å‹æ£€æŸ¥ (= è¯æ˜éªŒè¯)
   ç±»å‹æ£€æŸ¥é€šè¿‡ = è¯æ˜æ­£ç¡® âœ“

4. è¿è¡Œ
   ä¿è¯: sorted âœ“, permutation âœ“
```

---

### 3.2 æ’åºç®—æ³•æ¡ˆä¾‹

```text
ç±»å‹ç­¾å = å®Œæ•´è§„èŒƒ:

sort : (l : List Nat) â†’
       Î£ (l' : List Nat),
         Sorted l' Ã— Permutation l l'

å…¶ä¸­:
- Sorted : List â†’ Type
- Permutation : List â†’ List â†’ Type

å®ç°å¿…é¡»æ„é€ :
1. æ’åºåçš„åˆ—è¡¨l'
2. l'æœ‰åºçš„è¯æ˜
3. l'æ˜¯lçš„æ’åˆ—çš„è¯æ˜

â†’ ç±»å‹å³è§„èŒƒ â­â­â­â­â­
```

---

## 4. å¤æ‚åº¦æƒè¡¡

| æ“ä½œ | STLC | System F | ä¾èµ–ç±»å‹ |
|------|------|----------|---------|
| **ç±»å‹æ£€æŸ¥** | O(n)âœ“ | O(n)âœ“ | ä¸å¯åˆ¤å®šâœ— |
| **ç±»å‹æ¨å¯¼** | O(n)âœ“ | ä¸å¯åˆ¤å®šâœ— | ä¸å¯åˆ¤å®šâœ— |
| **è¡¨è¾¾åŠ›** | ä½ | é«˜ | æé«˜â­ |
| **è¯æ˜èƒ½åŠ›** | æ—  | æ—  | å®Œæ•´â­ |

**ä¸å¯åˆ¤å®šåŸå› **:

- ç±»å‹æ£€æŸ¥ = ç¨‹åºæ‰§è¡Œ
- ç±»å‹ = å‘½é¢˜
- æ£€æŸ¥ = è¯æ˜æœç´¢
â†’ åœæœºé—®é¢˜ âœ—

**å®è·µå¯¹ç­–**:

- ç»ˆæ­¢æ€§æ£€æŸ¥å™¨
- ç»“æ„é€’å½’è¦æ±‚
- ç”¨æˆ·æ ‡æ³¨è¾…åŠ©

---

## 5. ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾

### 5.1 è®ºè¯ä¾èµ–å…³ç³»

```mermaid
graph TD
    A[ä¾èµ–ç±»å‹å®è·µ] --> B[é—®é¢˜æå‡º]
    B --> C[ä¾èµ–ç±»å‹å…¥é—¨]

    C --> D[å®šä¹‰å»ºç«‹]
    D --> D1[æ ¸å¿ƒæ€æƒ³]
    D --> D2[ä¸æ™®é€šç±»å‹åŒºåˆ«]

    D1 --> E[æ€§è´¨æ¢ç´¢]
    D2 --> E
    E --> E1[é•¿åº¦ç´¢å¼•å‘é‡]
    E --> E2[è¯æ˜é©±åŠ¨å¼€å‘]

    E1 --> F[è¯æ˜æ„é€ ]
    E2 --> F
    F --> F1[Agdaå®ç°]
    F --> F2[Idriså®ç°]

    F1 --> G[åº”ç”¨å±•ç¤º]
    F2 --> G
    G --> G1[æ’åºç®—æ³•æ¡ˆä¾‹]
    G --> G2[å¤æ‚åº¦æƒè¡¡]

    G1 --> H[æ‰¹åˆ¤åæ€]
    G2 --> H
    H --> H1[é€’å½’ç†è®ºåˆ†æ]
    H --> H2[ä¸å¯åˆ¤å®šæ€§]

    style A fill:#ffcccc
    style D fill:#ccffcc
    style F fill:#ccccff
    style H fill:#ffffcc
```

### 5.2 æ¦‚å¿µä¾èµ–å…³ç³»

```mermaid
graph LR
    A[ä¾èµ–ç±»å‹] --> B[ç±»å‹ä¾èµ–å€¼]

    B --> C[é•¿åº¦ç´¢å¼•å‘é‡]
    B --> D[è¯æ˜é©±åŠ¨å¼€å‘]

    C --> E[Agda]
    C --> F[Idris]

    E --> G[å¤æ‚åº¦]
    F --> G

    G --> H[é€’å½’ç†è®º]
    G --> I[ä¸å¯åˆ¤å®šæ€§]

    H --> J[å®è·µå¯¹ç­–]
    I --> J

    style A fill:#ffffcc
    style B fill:#ffcccc
    style G fill:#ccffcc
    style J fill:#ccccff
```

**è®ºè¯é€»è¾‘é“¾æ¡**ï¼š

1. **é—®é¢˜æå‡º** (1èŠ‚)ï¼š
   - ä¾èµ–ç±»å‹å…¥é—¨

2. **å®šä¹‰å»ºç«‹** (1.1-1.2èŠ‚)ï¼š
   - æ ¸å¿ƒæ€æƒ³å’Œä¸æ™®é€šç±»å‹çš„åŒºåˆ«

3. **æ€§è´¨æ¢ç´¢** (2-3èŠ‚)ï¼š
   - é•¿åº¦ç´¢å¼•å‘é‡ï¼ˆ2èŠ‚ï¼‰
   - è¯æ˜é©±åŠ¨å¼€å‘ï¼ˆ3èŠ‚ï¼‰

4. **è¯æ˜æ„é€ ** (2.1-2.2, 3.2èŠ‚)ï¼š
   - Agdaå®ç°ã€Idriså®ç°å’Œæ’åºç®—æ³•æ¡ˆä¾‹

5. **åº”ç”¨å±•ç¤º** (è´¯ç©¿å…¨æ–‡)ï¼š
   - è¯æ˜é©±åŠ¨å¼€å‘å®è·µ

6. **æ‰¹åˆ¤åæ€** (4èŠ‚)ï¼š
   - å¤æ‚åº¦æƒè¡¡

---

## 6. å‚è€ƒèµ„æº

### 6.1 ç»å…¸è®ºæ–‡

1. **Martin-LÃ¶f, P.** (1984). "Intuitionistic Type Theory"
   - Bibliopolis. ISBN 978-8870881059
   - ä¾èµ–ç±»å‹ç†è®ºåŸºç¡€

2. **Norell, U.** (2007). "Towards a Practical Programming Language Based on Dependent Type Theory"
   - PhD thesis, Chalmers University of Technology
   - Agdaè¯­è¨€è®¾è®¡

3. **Brady, E.** (2013). "Idris - A General Purpose Dependently Typed Programming Language: Design and Implementation"
   - _Journal of Functional Programming_, 23(5), 552-593
   - Idrisè¯­è¨€è®¾è®¡

### 6.2 æ•™æ

1. **Pierce, B. C.** (2002)
   - _Types and Programming Languages_
   - MIT Press. ISBN 978-0262162098
   - ç±»å‹ç³»ç»ŸåŸºç¡€

2. **Norell, U.** (2009)
   - "Dependently Typed Programming in Agda"
   - AFP Summer School
   - Agdaå®è·µæ•™ç¨‹

### 6.3 åœ¨çº¿èµ„æº

1. **Agda Documentation**
   - https://agda.readthedocs.io/
   - Agdaå®˜æ–¹æ–‡æ¡£

2. **Idris Documentation**
   - https://www.idris-lang.org/docs/
   - Idriså®˜æ–¹æ–‡æ¡£

3. **Wikipedia - Dependent type**
   - https://en.wikipedia.org/wiki/Dependent_type
   - ä¾èµ–ç±»å‹åŸºæœ¬æ¦‚å¿µ

---

**æœ€åæ›´æ–°**: 2025-12-04
**çŠ¶æ€**: âœ… å·²æ·»åŠ ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾å’Œå‚è€ƒèµ„æºç« èŠ‚
