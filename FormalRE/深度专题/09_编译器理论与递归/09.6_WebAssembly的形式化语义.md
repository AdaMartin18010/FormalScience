# WebAssemblyçš„å½¢å¼åŒ–è¯­ä¹‰

> **ä¸»é¢˜**: Wasmçš„å½¢å¼åŒ–è§„èŒƒä¸éªŒè¯
> **åˆ›å»ºæ—¥æœŸ**: 2025-12-02
> **éš¾åº¦**: â­â­â­â­
> **å‰ç½®çŸ¥è¯†**: ç¼–è¯‘å™¨ã€è™šæ‹Ÿæœºã€å½¢å¼åŒ–è¯­ä¹‰

---

## ğŸ“‹ ç›®å½•

- [WebAssemblyçš„å½¢å¼åŒ–è¯­ä¹‰](#webassemblyçš„å½¢å¼åŒ–è¯­ä¹‰)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. WebAssemblyæ¦‚è¿°](#1-webassemblyæ¦‚è¿°)
    - [1.1 è®¾è®¡ç›®æ ‡](#11-è®¾è®¡ç›®æ ‡)
    - [1.2 æ ¸å¿ƒç‰¹æ€§](#12-æ ¸å¿ƒç‰¹æ€§)
  - [2. å½¢å¼åŒ–è¯­ä¹‰](#2-å½¢å¼åŒ–è¯­ä¹‰)
    - [2.1 æŒ‡ä»¤é›†](#21-æŒ‡ä»¤é›†)
    - [2.2 ç±»å‹ç³»ç»Ÿ](#22-ç±»å‹ç³»ç»Ÿ)
    - [2.3 æ“ä½œè¯­ä¹‰](#23-æ“ä½œè¯­ä¹‰)
  - [3. éªŒè¯ä¸è¯æ˜](#3-éªŒè¯ä¸è¯æ˜)
    - [3.1 ç±»å‹å®‰å…¨](#31-ç±»å‹å®‰å…¨)
    - [3.2 å†…å­˜å®‰å…¨](#32-å†…å­˜å®‰å…¨)
  - [4. æ€§èƒ½åˆ†æ](#4-æ€§èƒ½åˆ†æ)
    - [4.1 vs JavaScript](#41-vs-javascript)
    - [4.2 vs Native](#42-vs-native)
  - [5. åº”ç”¨ç”Ÿæ€](#5-åº”ç”¨ç”Ÿæ€)
    - [5.1 æµè§ˆå™¨](#51-æµè§ˆå™¨)
    - [5.2 æœåŠ¡ç«¯](#52-æœåŠ¡ç«¯)
  - [6. é€’å½’ç†è®ºåˆ†æ](#6-é€’å½’ç†è®ºåˆ†æ)
  - [7. ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾](#7-ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾)
    - [7.1 è®ºè¯ä¾èµ–å…³ç³»](#71-è®ºè¯ä¾èµ–å…³ç³»)
    - [7.2 æ¦‚å¿µä¾èµ–å…³ç³»](#72-æ¦‚å¿µä¾èµ–å…³ç³»)
  - [8. å‚è€ƒèµ„æº](#8-å‚è€ƒèµ„æº)
    - [8.1 ç»å…¸è®ºæ–‡](#81-ç»å…¸è®ºæ–‡)
    - [8.2 æ•™æ](#82-æ•™æ)
    - [8.3 åœ¨çº¿èµ„æº](#83-åœ¨çº¿èµ„æº)

---

## 1. WebAssemblyæ¦‚è¿°

### 1.1 è®¾è®¡ç›®æ ‡

**WasmåŠ¨æœº (2015)**:

```text
é—®é¢˜:
JavaScriptæ€§èƒ½ç“¶é¢ˆ
åŠ¨æ€ç±»å‹å¼€é”€
â†’ éœ€è¦æ›´å¿« âš ï¸

ç›®æ ‡:
âœ“ æ¥è¿‘åŸç”Ÿé€Ÿåº¦
âœ“ å®‰å…¨æ²™ç®±
âœ“ è¯­è¨€ä¸­ç«‹
âœ“ å¯ç§»æ¤
â†’ æµè§ˆå™¨æ±‡ç¼–è¯­è¨€ â­

vs asm.js:
asm.js: JSå­é›† (æ–‡æœ¬)
Wasm: äºŒè¿›åˆ¶æ ¼å¼ âœ“
â†’ æ›´å¿«åŠ è½½/æ‰§è¡Œ â­

æ ‡å‡†åŒ–:
2017: W3Cæ ‡å‡† âœ“
2019: æ‰€æœ‰æµè§ˆå™¨æ”¯æŒ âœ“
â†’ Webæ ‡å‡† â­â­â­â­â­
```

---

### 1.2 æ ¸å¿ƒç‰¹æ€§

```text
æ ˆæœºå™¨:
åŸºäºæ ˆçš„è™šæ‹Ÿæœº
ç®€å•è®¾è®¡ âœ“

ç»“æ„åŒ–æ§åˆ¶æµ:
block, loop, if
â†’ égoto âœ“
â†’ å¯éªŒè¯ â­

çº¿æ€§å†…å­˜:
å­—èŠ‚æ•°ç»„
load/storeè®¿é—®
è¾¹ç•Œæ£€æŸ¥ âœ“

è¡¨:
å‡½æ•°æŒ‡é’ˆè¡¨
é—´æ¥è°ƒç”¨ âœ“

é€’å½’æ€§è´¨:
âœ“ æ ˆé€’å½’å¢é•¿
âœ“ å‡½æ•°é€’å½’è°ƒç”¨
âœ“ æ§åˆ¶æµé€’å½’åµŒå¥—
```

---

## 2. å½¢å¼åŒ–è¯­ä¹‰

### 2.1 æŒ‡ä»¤é›†

**æŒ‡ä»¤åˆ†ç±»**:

```text
ç®—æœ¯:
i32.add, f64.mul, ...

æ§åˆ¶æµ:
block, loop, br, br_if, call

å†…å­˜:
i32.load, i32.store

å±€éƒ¨å˜é‡:
local.get, local.set

å½¢å¼åŒ– (PLT Redex):
æŒ‡ä»¤ ::= const | add | block | ...

æ‰§è¡Œ:
é…ç½® â†’ æŒ‡ä»¤ â†’ é…ç½®'
â†’ å°æ­¥è¯­ä¹‰ âœ“

é€’å½’:
âœ“ æŒ‡ä»¤é€’å½’è§£é‡Š
âœ“ å—é€’å½’åµŒå¥—
```

---

### 2.2 ç±»å‹ç³»ç»Ÿ

**æ ˆå¤šæ€ç±»å‹**:

```text
ç±»å‹:
valtype ::= i32 | i64 | f32 | f64

å‡½æ•°ç±»å‹:
[t1*] â†’ [t2*]
è¾“å…¥ç±»å‹ â†’ è¾“å‡ºç±»å‹

æŒ‡ä»¤ç±»å‹:
i32.add : [i32 i32] â†’ [i32]
block t* : [t1*] â†’ [t2*]

ç±»å‹æ£€æŸ¥:
æ ˆç±»å‹æ¨å¯¼
çº¿æ€§æ—¶é—´ O(n) âœ“

ä¿è¯:
âœ“ ç±»å‹å®‰å…¨
âœ“ æ ˆä¸æº¢å‡º/ä¸‹æº¢
âœ“ æ§åˆ¶æµæ­£ç¡®
â†’ é™æ€ä¿è¯ â­â­â­â­â­

é€’å½’ç†è®º:
âœ“ ç±»å‹æ£€æŸ¥å¯é€’å½’ O(n)
âœ“ Wasm âˆˆ P âŠ‚ RE
```

---

### 2.3 æ“ä½œè¯­ä¹‰

**æ‰§è¡Œæ¨¡å‹**:

```text
é…ç½®:
S = (stack, locals, memory, ...)

å°æ­¥è§„åˆ™:
S, (i32.const 5) â†’ S', 5
S, (stack: [5, 3]), i32.add â†’ S', 8

å—æ‰§è¡Œ:
block t*
  instr*
end
â†’ ç»“æ„åŒ–é€’å½’ âœ“

å½¢å¼åŒ– (Coq):
Inductive step : config -> config -> Prop :=
  | step_const : ...
  | step_add : ...
  | step_block : ...

è¯æ˜:
ç±»å‹ä¿æŒ (Preservation)
è¿›å±• (Progress)
â†’ ç±»å‹å®‰å…¨ â­

é€’å½’:
âœ“ æ‰§è¡Œé€’å½’æ­¥è¿›
âœ“ å—é€’å½’è¿›å…¥/é€€å‡º
```

---

## 3. éªŒè¯ä¸è¯æ˜

### 3.1 ç±»å‹å®‰å…¨

**å®šç†**: Wasmç±»å‹å®‰å…¨

```text
ç±»å‹ä¿æŒ:
Î“ âŠ¢ S : Ï„, S â†’* S'
â†’ Î“ âŠ¢ S' : Ï„

è¿›å±•:
Î“ âŠ¢ S : Ï„
â†’ Sæ˜¯å€¼ æˆ– âˆƒS': S â†’ S'

è¯æ˜:
Coqæœºæ¢°åŒ– (2017) âœ“
Isabelle/HOL (2018) âœ“
â†’ å½¢å¼åŒ–éªŒè¯ â­â­â­â­â­

æ„ä¹‰:
âœ“ æ•°å­¦ä¿è¯å®‰å…¨
âœ“ æ— æœªå®šä¹‰è¡Œä¸º
âœ“ æ²™ç®±ä¿è¯
â†’ æ¯”JavaScriptå®‰å…¨ â­

é€’å½’ç†è®º:
âœ“ ç±»å‹å®‰å…¨é€’å½’è¯æ˜
âœ“ å½’çº³åŸºç¡€+å½’çº³æ­¥éª¤
â†’ é€’å½’è®ºè¯ â­
```

---

### 3.2 å†…å­˜å®‰å…¨

**è¾¹ç•Œæ£€æŸ¥**:

```text
å†…å­˜è®¿é—®:
i32.load offset align

æ£€æŸ¥:
address = base + offset
if address + size > memory.length:
  trap âœ—
else:
  load âœ“

ä¿è¯:
âœ“ æ— è¶Šç•Œè®¿é—®
âœ“ æ— ç¼“å†²åŒºæº¢å‡º
âœ“ å†…å­˜éš”ç¦»
â†’ å®‰å…¨æ²™ç®± â­

vs Native:
Native: UB (æœªå®šä¹‰è¡Œä¸º) âš ï¸
Wasm: Trap (å¯é¢„æµ‹) âœ“
â†’ æ›´å®‰å…¨ â­

é€’å½’:
âœ“ è¾¹ç•Œé€’å½’æ£€æŸ¥
âœ“ æ¯æ¬¡è®¿é—®éªŒè¯
```

---

## 4. æ€§èƒ½åˆ†æ

### 4.1 vs JavaScript

```text
åŸºå‡†æµ‹è¯•:

è®¡ç®—å¯†é›†:
Wasm: 1.0Ã—
JS: 2-5Ã— æ…¢ âš ï¸
â†’ Wasmèƒœ â­

å†…å­˜æ“ä½œ:
Wasm: 1.0Ã—
JS: 10-20Ã— æ…¢ âš ï¸âš ï¸
â†’ Wasmå¤§èƒœ â­â­â­

DOMæ“ä½œ:
Wasm: éœ€è¦JSæ¡¥æ¥ âš ï¸
JS: åŸç”Ÿ âœ“
â†’ JSèƒœ

é€‚ç”¨åœºæ™¯:
âœ“ æ¸¸æˆ (Unity, Unreal)
âœ“ å›¾åƒ/è§†é¢‘å¤„ç†
âœ“ ç§‘å­¦è®¡ç®—
âœ“ åŠ å¯†è´§å¸æŒ–çŸ¿
â†’ è®¡ç®—å¯†é›†å‹ â­
```

---

### 4.2 vs Native

```text
æ€§èƒ½:
Wasm: 1.0Ã—
Native: 0.7-0.9Ã— â­
â†’ æ¥è¿‘åŸç”Ÿ âœ“

å¼€é”€æ¥æº:
- è¾¹ç•Œæ£€æŸ¥ (~5%)
- é—´æ¥è°ƒç”¨ (~5%)
- æ²™ç®± (~10%)
â†’ å®‰å…¨ä»£ä»·å¯æ¥å— âœ“

ä¼˜åŒ–:
JITç¼–è¯‘ (TurboFan)
SIMDæŒ‡ä»¤
å¤šçº¿ç¨‹
â†’ æŒç»­ä¼˜åŒ– â­

é€’å½’:
âœ“ Wasmå¯é€’å½’æ‰§è¡Œ
âœ“ JITé€’å½’ä¼˜åŒ–
â†’ æ¥è¿‘Nativeæ€§èƒ½ âœ“
```

---

## 5. åº”ç”¨ç”Ÿæ€

### 5.1 æµè§ˆå™¨

**Webåº”ç”¨**:

```text
æˆåŠŸæ¡ˆä¾‹:
- Figma (è®¾è®¡å·¥å…·)
- Google Earth (åœ°å›¾)
- AutoCAD Web
- Photoshop Web (2021)
â†’ æ¡Œé¢çº§åº”ç”¨ â­â­â­â­â­

ç¼–è¯‘ç›®æ ‡:
C/C++ â†’ Wasm (Emscripten)
Rust â†’ Wasm âœ“
Go â†’ Wasm âœ“
AssemblyScript (TSâ†’Wasm)
â†’ å¤šè¯­è¨€æ”¯æŒ â­

é€’å½’:
âœ“ å¤šè¯­è¨€é€’å½’ç¼–è¯‘
âœ“ Wasmé€’å½’æ‰§è¡Œ
```

---

### 5.2 æœåŠ¡ç«¯

**WASI (2019)**:

```text
WebAssembly System Interface:
Wasmåœ¨æœåŠ¡ç«¯ âœ“

èƒ½åŠ›:
- æ–‡ä»¶ç³»ç»Ÿè®¿é—®
- ç½‘ç»œ
- ç¯å¢ƒå˜é‡
â†’ ç³»ç»Ÿè°ƒç”¨æ¥å£ âœ“

åº”ç”¨:
- Serverless (Fastly, Cloudflare)
- æ’ä»¶ç³»ç»Ÿ (æ²™ç®±)
- è¾¹ç¼˜è®¡ç®—
â†’ é€šç”¨å¯ç§»æ¤äºŒè¿›åˆ¶ â­

vs Docker:
Docker: å®¹å™¨ (MBçº§)
Wasm: æ¨¡å— (KBçº§) âœ“
â†’ è½»é‡çº§ â­

é€’å½’:
âœ“ WASIé€’å½’æ‰©å±•
âœ“ èƒ½åŠ›é€’å½’ç»„åˆ
```

---

## 6. é€’å½’ç†è®ºåˆ†æ

```text
Wasm âˆˆ RE?

ç­”æ¡ˆ: âœ“æ˜¯çš„

è¯æ˜:
- Wasmå›¾çµå®Œå¤‡ âœ“
- å¯é€’å½’è§£é‡Š
- å¯é€’å½’ç¼–è¯‘
â†’ Wasm âˆˆ RE âœ“

å½¢å¼åŒ–:
âœ“ ç±»å‹ç³»ç»Ÿå¯é€’å½’æ£€æŸ¥ O(n)
âœ“ æ‰§è¡Œè¯­ä¹‰å¯é€’å½’å®šä¹‰
âœ“ å®‰å…¨æ€§å¯é€’å½’è¯æ˜
â†’ å½¢å¼åŒ–å®Œå¤‡ â­â­â­â­â­

vs JVM/CLR:
JVM: å¤æ‚ (OOP, GC)
Wasm: ç®€å• (æ ˆæœºå™¨) âœ“
â†’ Wasmæ›´æ˜“å½¢å¼åŒ– â­

é€’å½’æ€§è´¨:
âœ“ å‡½æ•°é€’å½’è°ƒç”¨
âœ“ å—é€’å½’åµŒå¥—
âœ“ æ ˆé€’å½’å¢é•¿
âœ“ æ¨¡å—é€’å½’å¯¼å…¥
â†’ å¤šå±‚é€’å½’ â­

å†å²åœ°ä½:
2017: æ ‡å‡†å‘å¸ƒ
2024: æ™®åŠæµè§ˆå™¨+æœåŠ¡ç«¯
â†’ Webç¬¬å››è¯­è¨€ â­â­â­â­â­
(HTML, CSS, JS, Wasm)

ç†è®ºvså·¥ç¨‹:
ç†è®º: å½¢å¼åŒ–è§„èŒƒ âœ“
å·¥ç¨‹: 4ä¸ªç‹¬ç«‹å®ç°ä¸€è‡´ âœ“
â†’ è§„èŒƒé©±åŠ¨å¼€å‘æˆåŠŸ â­

æœªæ¥:
GCææ¡ˆ (2024+)
å¼‚å¸¸å¤„ç†
å°¾è°ƒç”¨ä¼˜åŒ–
â†’ æŒç»­æ¼”åŒ– â­

é€’å½’èŒƒå¼:
âœ“ Wasm = å½¢å¼åŒ–é€’å½’è™šæ‹Ÿæœº
âœ“ è§„èŒƒ = é€’å½’è¯­ä¹‰
âœ“ éªŒè¯ = é€’å½’è¯æ˜
â†’ å½¢å¼åŒ–å·¥ç¨‹çš„å…¸èŒƒ â­â­â­â­â­
```

---

## 7. ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾

### 7.1 è®ºè¯ä¾èµ–å…³ç³»

```mermaid
graph TD
    A[WebAssembly] --> B[é—®é¢˜æå‡º]
    B --> C[WebAssemblyæ¦‚è¿°]

    C --> D[å®šä¹‰å»ºç«‹]
    D --> D1[å½¢å¼åŒ–è¯­ä¹‰]
    D --> D2[éªŒè¯ä¸è¯æ˜]

    D1 --> E[æ€§è´¨æ¢ç´¢]
    D2 --> E
    E --> E1[æ€§èƒ½åˆ†æ]
    E --> E2[åº”ç”¨ç”Ÿæ€]

    E1 --> F[è¯æ˜æ„é€ ]
    E2 --> F
    F --> F1[å½¢å¼åŒ–è§„èŒƒ]
    F --> F2[éªŒè¯æ–¹æ³•]

    F1 --> G[åº”ç”¨å±•ç¤º]
    F2 --> G
    G --> G1[Webæ ‡å‡†]
    G --> G2[å®è·µåº”ç”¨]

    G1 --> H[æ‰¹åˆ¤åæ€]
    G2 --> H
    H --> H1[é€’å½’ç†è®ºåˆ†æ]
    H --> H2[å½¢å¼åŒ–è¯­ä¹‰]

    style A fill:#ffcccc
    style D fill:#ccffcc
    style F fill:#ccccff
    style H fill:#ffffcc
```

### 7.2 æ¦‚å¿µä¾èµ–å…³ç³»

```mermaid
graph LR
    A[WebAssembly] --> B[å½¢å¼åŒ–è¯­ä¹‰]

    B --> C[éªŒè¯ä¸è¯æ˜]
    B --> D[æ€§èƒ½åˆ†æ]

    C --> E[åº”ç”¨ç”Ÿæ€]
    D --> E

    E --> F[é€’å½’ç†è®º]
    E --> G[Webæ ‡å‡†]

    F --> H[å½¢å¼åŒ–è§„èŒƒ]
    G --> H

    style A fill:#ffffcc
    style B fill:#ffcccc
    style E fill:#ccffcc
    style H fill:#ccccff
```

**è®ºè¯é€»è¾‘é“¾æ¡**ï¼š

1. **é—®é¢˜æå‡º** (1èŠ‚)ï¼š
   - WebAssemblyæ¦‚è¿°

2. **å®šä¹‰å»ºç«‹** (2èŠ‚)ï¼š
   - å½¢å¼åŒ–è¯­ä¹‰

3. **æ€§è´¨æ¢ç´¢** (3-5èŠ‚)ï¼š
   - éªŒè¯ä¸è¯æ˜ï¼ˆ3èŠ‚ï¼‰
   - æ€§èƒ½åˆ†æï¼ˆ4èŠ‚ï¼‰
   - åº”ç”¨ç”Ÿæ€ï¼ˆ5èŠ‚ï¼‰

4. **è¯æ˜æ„é€ ** (2-3èŠ‚)ï¼š
   - å½¢å¼åŒ–è§„èŒƒå’ŒéªŒè¯æ–¹æ³•

5. **åº”ç”¨å±•ç¤º** (5èŠ‚)ï¼š
   - åº”ç”¨ç”Ÿæ€

6. **æ‰¹åˆ¤åæ€** (6èŠ‚)ï¼š
   - é€’å½’ç†è®ºåˆ†æ

---

## 8. å‚è€ƒèµ„æº

### 8.1 ç»å…¸è®ºæ–‡

1. **Haas, A., et al.** (2017). "Bringing the Web up to Speed with WebAssembly"
   - _PLDI 2017_. Proceedings of the 38th ACM SIGPLAN Conference on Programming Language Design and Implementation
   - WebAssemblyè®ºæ–‡ â­â­â­â­â­

2. **Watt, C.** (2018). "Mechanising and Verifying the WebAssembly Specification"
   - _CPP 2018_. Proceedings of the 7th ACM SIGPLAN International Conference on Certified Programs and Proofs
   - WebAssemblyå½¢å¼åŒ–éªŒè¯

3. **Rossberg, A.** (2016). "WebAssembly Core Specification"
   - W3C Working Draft
   - WebAssemblyå½¢å¼åŒ–è§„èŒƒ â­â­â­â­â­

### 8.2 æ•™æ

1. **Haas, A., et al.** (2017)
   - "Bringing the Web up to Speed with WebAssembly"
   - _PLDI 2017_
   - WebAssemblyæŠ€æœ¯è®ºæ–‡

2. **WebAssembly Specification**
   - https://webassembly.github.io/spec/
   - WebAssemblyå®˜æ–¹è§„èŒƒ

### 8.3 åœ¨çº¿èµ„æº

1. **WebAssembly**
   - https://webassembly.org/
   - WebAssemblyå®˜æ–¹ç½‘ç«™

2. **WebAssembly Specification**
   - https://webassembly.github.io/spec/
   - WebAssemblyå½¢å¼åŒ–è§„èŒƒ

3. **Wikipedia - WebAssembly**
   - https://en.wikipedia.org/wiki/WebAssembly
   - WebAssemblyåŸºæœ¬æ¦‚å¿µ

---

**æœ€åæ›´æ–°**: 2025-12-04
**Tier**: 1-2 (ç†è®º+å·¥ç¨‹)
**é‡è¦æ€§**: Webæ ‡å‡† â­â­â­â­â­
**å½¢å¼åŒ–**: å®Œæ•´è§„èŒƒ âœ“
**çŠ¶æ€**: âœ… å·²æ·»åŠ ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾å’Œå‚è€ƒèµ„æºç« èŠ‚
