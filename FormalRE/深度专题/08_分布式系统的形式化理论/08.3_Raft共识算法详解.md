# Raftå…±è¯†ç®—æ³•è¯¦è§£

> **ä¸»é¢˜**: æ˜“ç†è§£çš„å…±è¯†ç®—æ³•è®¾è®¡ä¸è¯æ˜
> **åˆ›å»ºæ—¥æœŸ**: 2025-12-02
> **éš¾åº¦**: â­â­â­â­
> **å‰ç½®çŸ¥è¯†**: åˆ†å¸ƒå¼ç³»ç»Ÿã€çŠ¶æ€æœºå¤åˆ¶

---

## ğŸ“‹ ç›®å½•

- [Raftå…±è¯†ç®—æ³•è¯¦è§£](#raftå…±è¯†ç®—æ³•è¯¦è§£)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1.0 æ¦‚å¿µåˆ†æï¼šRaftå…±è¯†ç®—æ³•è¯¦è§£](#10-æ¦‚å¿µåˆ†æraftå…±è¯†ç®—æ³•è¯¦è§£)
    - [1.0.1 å®šä¹‰çŸ©é˜µ](#101-å®šä¹‰çŸ©é˜µ)
    - [1.0.2 å±æ€§åˆ†æ](#102-å±æ€§åˆ†æ)
    - [1.0.3 å¤–å»¶åˆ†æ](#103-å¤–å»¶åˆ†æ)
    - [1.0.4 å†…æ¶µåˆ†æ](#104-å†…æ¶µåˆ†æ)
    - [1.0.5 å…³ç³»ç½‘ç»œ](#105-å…³ç³»ç½‘ç»œ)
  - [1. Raftè®¾è®¡åŠ¨æœº](#1-raftè®¾è®¡åŠ¨æœº)
    - [1.1 Paxosçš„é—®é¢˜](#11-paxosçš„é—®é¢˜)
    - [1.2 å¯ç†è§£æ€§ä¼˜å…ˆ](#12-å¯ç†è§£æ€§ä¼˜å…ˆ)
  - [2. Raftæ ¸å¿ƒæœºåˆ¶](#2-raftæ ¸å¿ƒæœºåˆ¶)
    - [2.1 é¢†å¯¼è€…é€‰ä¸¾](#21-é¢†å¯¼è€…é€‰ä¸¾)
    - [2.2 æ—¥å¿—å¤åˆ¶](#22-æ—¥å¿—å¤åˆ¶)
    - [2.3 å®‰å…¨æ€§ä¿è¯](#23-å®‰å…¨æ€§ä¿è¯)
  - [3. å½¢å¼åŒ–è¯æ˜](#3-å½¢å¼åŒ–è¯æ˜)
    - [3.1 å…³é”®ä¸å˜é‡](#31-å…³é”®ä¸å˜é‡)
    - [3.2 TLA+è§„èŒƒ](#32-tlaè§„èŒƒ)
  - [4. vs Paxoså¯¹æ¯”](#4-vs-paxoså¯¹æ¯”)
  - [5. å®è·µåº”ç”¨](#5-å®è·µåº”ç”¨)
    - [5.1 etcd](#51-etcd)
    - [5.2 æ€§èƒ½åˆ†æ](#52-æ€§èƒ½åˆ†æ)
  - [6. é€’å½’ç†è®ºè§†è§’](#6-é€’å½’ç†è®ºè§†è§’)
  - [7. æ€ç»´è¡¨å¾ï¼šRaftå…±è¯†ç®—æ³•è¯¦è§£](#7-æ€ç»´è¡¨å¾raftå…±è¯†ç®—æ³•è¯¦è§£)
    - [7.1 æ¦‚å¿µå…³ç³»ç½‘ç»œå›¾](#71-æ¦‚å¿µå…³ç³»ç½‘ç»œå›¾)
    - [7.2 è®ºè¯é€»è¾‘è·¯å¾„å›¾](#72-è®ºè¯é€»è¾‘è·¯å¾„å›¾)
    - [7.3 æ¦‚å¿µå±æ€§çŸ©é˜µ](#73-æ¦‚å¿µå±æ€§çŸ©é˜µ)
    - [7.4 å¤–å»¶å†…æ¶µåˆ†æå›¾](#74-å¤–å»¶å†…æ¶µåˆ†æå›¾)
    - [7.5 ç†è®ºå‘å±•è„‰ç»œå›¾](#75-ç†è®ºå‘å±•è„‰ç»œå›¾)
    - [7.6 è·¨æ¨¡å—å…³è”å›¾](#76-è·¨æ¨¡å—å…³è”å›¾)
    - [7.7 å†³ç­–æ ‘å›¾](#77-å†³ç­–æ ‘å›¾)
    - [7.8 Raft vs Paxoså¯¹æ¯”çŸ©é˜µ](#78-raft-vs-paxoså¯¹æ¯”çŸ©é˜µ)
  - [8. ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾](#8-ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾)
    - [7.1 è®ºè¯ä¾èµ–å…³ç³»](#71-è®ºè¯ä¾èµ–å…³ç³»)
    - [7.2 æ¦‚å¿µä¾èµ–å…³ç³»](#72-æ¦‚å¿µä¾èµ–å…³ç³»)
  - [9. æƒå¨èµ„æºå¯¹æ ‡](#9-æƒå¨èµ„æºå¯¹æ ‡)
    - [9.1 Wikipediaå¯¹æ ‡](#91-wikipediaå¯¹æ ‡)
    - [9.2 å›½é™…è‘—åå¤§å­¦è¯¾ç¨‹å¯¹æ ‡](#92-å›½é™…è‘—åå¤§å­¦è¯¾ç¨‹å¯¹æ ‡)
      - [9.2.1 MIT 6.824 (Distributed Systems)](#921-mit-6824-distributed-systems)
      - [9.2.2 Stanford CS244B (Distributed Systems)](#922-stanford-cs244b-distributed-systems)
      - [9.2.3 CMU 15-440 (Distributed Systems)](#923-cmu-15-440-distributed-systems)
    - [9.3 æƒå¨æ•™æå¯¹æ ‡](#93-æƒå¨æ•™æå¯¹æ ‡)
      - [9.3.1 Tanenbaum \& Van Steen (2017) "Distributed Systems: Principles and Paradigms"](#931-tanenbaum--van-steen-2017-distributed-systems-principles-and-paradigms)
      - [9.3.2 Lynch (1996) "Distributed Algorithms"](#932-lynch-1996-distributed-algorithms)
    - [9.4 æœ€æ–°ç ”ç©¶åŠ¨æ€ (2024-2025)](#94-æœ€æ–°ç ”ç©¶åŠ¨æ€-2024-2025)
  - [10. å‚è€ƒèµ„æº](#10-å‚è€ƒèµ„æº)
    - [8.1 ç»å…¸è®ºæ–‡](#81-ç»å…¸è®ºæ–‡)
    - [8.2 æ•™æ](#82-æ•™æ)
    - [8.3 åœ¨çº¿èµ„æº](#83-åœ¨çº¿èµ„æº)

---

## 1.0 æ¦‚å¿µåˆ†æï¼šRaftå…±è¯†ç®—æ³•è¯¦è§£

### 1.0.1 å®šä¹‰çŸ©é˜µ

| æ¦‚å¿µ | å®šä¹‰ | æ ¸å¿ƒç‰¹å¾ | å…³è”æ¦‚å¿µ |
|------|------|---------|---------|
| **Raftç®—æ³•** | ä¸€ç§æ˜“äºç†è§£çš„åˆ†å¸ƒå¼å…±è¯†ç®—æ³•ï¼Œé€šè¿‡é¢†å¯¼è€…é€‰ä¸¾å’Œæ—¥å¿—å¤åˆ¶å®ç°å¼ºä¸€è‡´æ€§ | å¯ç†è§£æ€§ã€å¼ºé¢†å¯¼è€…ã€æ—¥å¿—å¤åˆ¶ | åˆ†å¸ƒå¼ç³»ç»Ÿã€å…±è¯†ç®—æ³•ã€çŠ¶æ€æœºå¤åˆ¶ |
| **é¢†å¯¼è€…é€‰ä¸¾** | Raftä¸­é€šè¿‡æŠ•ç¥¨æœºåˆ¶é€‰ä¸¾é¢†å¯¼è€…çš„è¿‡ç¨‹ï¼Œç¡®ä¿æ¯ä¸ªä»»æœŸæœ€å¤šæœ‰ä¸€ä¸ªé¢†å¯¼è€… | Termæœºåˆ¶ã€å¤šæ•°ç¥¨ã€æŠ•ç¥¨è§„åˆ™ | å…±è¯†ç®—æ³•ã€åˆ†å¸ƒå¼ç³»ç»Ÿã€å®¹é”™ |
| **æ—¥å¿—å¤åˆ¶** | Raftä¸­é¢†å¯¼è€…å°†æ—¥å¿—æ¡ç›®å¤åˆ¶åˆ°è·Ÿéšè€…çš„è¿‡ç¨‹ï¼Œç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹çš„ä¸€è‡´æ€§ | AppendEntries RPCã€å¤šæ•°ç¡®è®¤ã€æäº¤è§„åˆ™ | å…±è¯†ç®—æ³•ã€çŠ¶æ€æœºå¤åˆ¶ã€ä¸€è‡´æ€§ |
| **Termï¼ˆä»»æœŸï¼‰** | Raftä¸­é€’å¢çš„æ•´æ•°ï¼Œç”¨äºæ ‡è¯†é¢†å¯¼è€…çš„ä»»æœŸï¼Œæ£€æµ‹è¿‡æ—¶ä¿¡æ¯ | é€’å¢æ•´æ•°ã€ä»»æœŸæ ‡è¯†ã€è¿‡æ—¶æ£€æµ‹ | å…±è¯†ç®—æ³•ã€é¢†å¯¼è€…é€‰ä¸¾ã€å®¹é”™ |

### 1.0.2 å±æ€§åˆ†æ

**å¿…è¦å±æ€§** (Necessary Properties):

1. **å…±è¯†ç®—æ³•**: å¿…é¡»æ˜¯å…±è¯†ç®—æ³•
2. **å¯ç†è§£æ€§**: å¿…é¡»æ˜“äºç†è§£
3. **å®‰å…¨æ€§**: å¿…é¡»ä¿è¯å®‰å…¨æ€§

**å……åˆ†å±æ€§** (Sufficient Properties):

1. **å¼ºé¢†å¯¼è€…**: ä½¿ç”¨å¼ºé¢†å¯¼è€…æ¨¡å¼
2. **æ—¥å¿—å¤åˆ¶**: ä½¿ç”¨æ—¥å¿—å¤åˆ¶æœºåˆ¶
3. **å½¢å¼åŒ–è¯æ˜**: æœ‰å½¢å¼åŒ–è¯æ˜

**æœ¬è´¨å±æ€§** (Essential Properties):

1. **å¯ç†è§£æ€§**: æ˜“äºç†è§£å’Œå®ç°
2. **å®‰å…¨æ€§**: ä¿è¯å¼ºä¸€è‡´æ€§
3. **é€’å½’æ€§è´¨**: çŠ¶æ€å’Œæ—¥å¿—çš„é€’å½’æ€§è´¨

**å¶ç„¶å±æ€§** (Accidental Properties):

1. **å…·ä½“å®ç°**: å…·ä½“çš„å®ç°æ–¹æ¡ˆï¼ˆå¦‚etcdï¼‰
2. **å…·ä½“æ€§èƒ½**: å…·ä½“çš„æ€§èƒ½æŒ‡æ ‡
3. **å…·ä½“ä¼˜åŒ–**: å…·ä½“çš„ä¼˜åŒ–ç­–ç•¥

### 1.0.3 å¤–å»¶åˆ†æ

**åŒ…å«çš„å®ä¾‹**:

1. **Raftå®ç°**:
   - etcd
   - Consul
   - TiKV

2. **æ ¸å¿ƒæœºåˆ¶**:
   - é¢†å¯¼è€…é€‰ä¸¾
   - æ—¥å¿—å¤åˆ¶
   - å®‰å…¨æ€§ä¿è¯

3. **åº”ç”¨åœºæ™¯**:
   - åˆ†å¸ƒå¼KVå­˜å‚¨
   - é…ç½®ç®¡ç†
   - æœåŠ¡å‘ç°

**åŒ…å«çš„å­ç±»**:

1. **Raftç®—æ³•** âŠ‚ å…±è¯†ç®—æ³•
2. **å¼ºé¢†å¯¼è€…å…±è¯†** âŠ‚ å…±è¯†ç®—æ³•
3. **æ—¥å¿—å¤åˆ¶å…±è¯†** âŠ‚ å…±è¯†ç®—æ³•

**è¾¹ç•Œæƒ…å†µ**:

1. **Paxos**: ç†è®ºä¼˜å…ˆçš„å…±è¯†ç®—æ³•
2. **Raft**: å·¥ç¨‹ä¼˜å…ˆçš„å…±è¯†ç®—æ³•
3. **å…¶ä»–å…±è¯†**: å…¶ä»–å…±è¯†ç®—æ³•

### 1.0.4 å†…æ¶µåˆ†æ

**æ ¸å¿ƒç‰¹å¾**:

1. **å¯ç†è§£æ€§**: æ˜“äºç†è§£å’Œå®ç°
2. **å®‰å…¨æ€§**: ä¿è¯å¼ºä¸€è‡´æ€§
3. **é€’å½’æ€§è´¨**: çŠ¶æ€å’Œæ—¥å¿—çš„é€’å½’æ€§è´¨

**æœ¬è´¨å±æ€§**:

1. **å¯ç†è§£æ€§**: æ˜“äºç†è§£å’Œå®ç°
2. **å®‰å…¨æ€§**: ä¿è¯å¼ºä¸€è‡´æ€§
3. **é€’å½’æ€§è´¨**: çŠ¶æ€å’Œæ—¥å¿—çš„é€’å½’æ€§è´¨

**ä¸å…¶ä»–æ¦‚å¿µçš„åŒºåˆ«**:

| æ¦‚å¿µ | åŒºåˆ« |
|------|------|
| **Paxos** | Raftå¼ºè°ƒå¯ç†è§£æ€§ï¼ŒPaxoså¼ºè°ƒç†è®ºä¼˜é›… |
| **FLPå®šç†** | Raftç»•è¿‡FLPé€šè¿‡éƒ¨åˆ†åŒæ­¥ï¼ŒFLPæ˜¯å¼‚æ­¥ä¸å¯èƒ½æ€§ |
| **å…¶ä»–å…±è¯†** | Raftä½¿ç”¨å¼ºé¢†å¯¼è€…ï¼Œå…¶ä»–å¯èƒ½ä½¿ç”¨å…¶ä»–æ¨¡å¼ |

### 1.0.5 å…³ç³»ç½‘ç»œ

**ä¸Šä½æ¦‚å¿µ**:

- åˆ†å¸ƒå¼ç³»ç»Ÿ
- å…±è¯†ç®—æ³•
- çŠ¶æ€æœºå¤åˆ¶

**ä¸‹ä½æ¦‚å¿µ**:

- é¢†å¯¼è€…é€‰ä¸¾
- æ—¥å¿—å¤åˆ¶
- Termæœºåˆ¶

**ç›¸å…³æ¦‚å¿µ**:

- Paxosï¼ˆç›¸å…³ç®—æ³•ï¼‰
- FLPå®šç†ï¼ˆç†è®ºçº¦æŸï¼‰
- TLA+ï¼ˆå½¢å¼åŒ–éªŒè¯ï¼‰

**ç­‰ä»·æ¦‚å¿µ**:

- Raftå…±è¯†ç®—æ³•
- Raftåè®®

---

## 1. Raftè®¾è®¡åŠ¨æœº

### 1.1 Paxosçš„é—®é¢˜

```text
Paxos (Lamport 1998):
âœ“ ç†è®ºä¼˜é›…
âœ“ è¯æ˜æ­£ç¡®
âœ— éš¾ä»¥ç†è§£ âš ï¸âš ï¸âš ï¸
âœ— éš¾ä»¥å®ç°

é—®é¢˜:
- ä¸¤é˜¶æ®µåè®®å¤æ‚
- æ´»é”å¯èƒ½
- Multi-Paxosä¸æ˜ç¡®
â†’ å·¥ç¨‹å®è·µå›°éš¾
```

---

### 1.2 å¯ç†è§£æ€§ä¼˜å…ˆ

**Raftè®¾è®¡åŸåˆ™ (2014)**:

```text
ç›®æ ‡: Understandability â­â­â­â­â­

æ‰‹æ®µ:
1. é—®é¢˜åˆ†è§£
   - é€‰ä¸¾
   - æ—¥å¿—å¤åˆ¶
   - å®‰å…¨æ€§

2. çŠ¶æ€ç©ºé—´ç®€åŒ–
   - å¼ºé¢†å¯¼è€…
   - é™åˆ¶æ¡ä»¶å¤š

3. å¯è§†åŒ–æ•™å­¦
   - åŠ¨ç”»æ¼”ç¤º
   - æ¸…æ™°æ–‡æ¡£

ç»“æœ:
âœ“ å¹¿æ³›é‡‡ç”¨
âœ“ å¤šç§å®ç°
â†’ å¯ç†è§£æ€§çš„èƒœåˆ© â­
```

---

## 2. Raftæ ¸å¿ƒæœºåˆ¶

### 2.1 é¢†å¯¼è€…é€‰ä¸¾

**çŠ¶æ€æœº**:

```text
ä¸‰ç§è§’è‰²:
- Follower (è·Ÿéšè€…)
- Candidate (å€™é€‰äºº)
- Leader (é¢†å¯¼è€…)

é€‰ä¸¾æµç¨‹:
1. Followerè¶…æ—¶ â†’ Candidate
2. Candidateè¯·æ±‚æŠ•ç¥¨
3. å¤šæ•°ç¥¨ â†’ Leader
4. å…¶ä»– â†’ å›åˆ°Follower

Term (ä»»æœŸ):
é€’å¢æ•´æ•°ï¼Œç”¨äºæ£€æµ‹è¿‡æ—¶ä¿¡æ¯
```

**é€‰ä¸¾è§„åˆ™**:

```text
æŠ•ç¥¨è§„åˆ™:
âœ“ æ¯termæœ€å¤šæŠ•ä¸€ç¥¨
âœ“ å…ˆåˆ°å…ˆå¾—
âœ“ æ—¥å¿—è‡³å°‘ä¸€æ ·æ–°

é˜²æ­¢åˆ†è£‚è„‘:
âœ“ å¤šæ•°ç¥¨è¦æ±‚ (>n/2)
âœ“ Termæœºåˆ¶
â†’ æœ€å¤šä¸€ä¸ªLeader per term âœ“

é€’å½’æ€§è´¨:
âœ“ Termé€’å¢
âœ“ çŠ¶æ€é€’å½’è½¬æ¢
```

---

### 2.2 æ—¥å¿—å¤åˆ¶

**æ—¥å¿—ç»“æ„**:

```text
Log: [Entryâ‚, Entryâ‚‚, ..., Entryâ‚™]

Entry = (term, index, command)

å¤åˆ¶æµç¨‹:
1. Client â†’ Leader: command
2. Leader â†’ Followers: AppendEntries RPC
3. Followers â†’ Leader: ACK
4. å¤šæ•°ç¡®è®¤ â†’ Committed âœ“
5. Leader â†’ Followers: commitIndex
6. Apply to state machine

ä¸€è‡´æ€§ä¿è¯:
âœ“ Log Matching Property
âœ“ Leader Completeness
â†’ å¼ºä¸€è‡´æ€§ âœ“
```

---

### 2.3 å®‰å…¨æ€§ä¿è¯

**å…³é”®çº¦æŸ**:

```text
é€‰ä¸¾çº¦æŸ:
Candidateæ—¥å¿—å¿…é¡»"è‡³å°‘ä¸€æ ·æ–°":
- Termæ›´å¤§, æˆ–
- Termç›¸åŒä½†indexæ›´å¤§

â†’ ç¡®ä¿Leaderæœ‰æ‰€æœ‰committedæ—¥å¿— âœ“

æäº¤è§„åˆ™:
Leaderåªèƒ½æäº¤å½“å‰termçš„æ—¥å¿—
(é€šè¿‡å¤šæ•°å¤åˆ¶)

â†’ é˜²æ­¢è¦†ç›–committedæ—¥å¿— âœ“
```

---

## 3. å½¢å¼åŒ–è¯æ˜

### 3.1 å…³é”®ä¸å˜é‡

**Raftä¸å˜é‡**:

```text
1. Election Safety:
   âˆ€term: æœ€å¤šä¸€ä¸ªLeader

2. Leader Append-Only:
   Leaderä¸åˆ é™¤/è¦†ç›–æ—¥å¿—

3. Log Matching:
   ä¸¤ä¸ªæ—¥å¿—è‹¥(term, index)ç›¸åŒ
   â†’ è¯¥ä½ç½®åŠä¹‹å‰æ‰€æœ‰æ—¥å¿—ç›¸åŒ

4. Leader Completeness:
   æ—¥å¿—committed â†’ æ‰€æœ‰æœªæ¥LeaderåŒ…å«å®ƒ

5. State Machine Safety:
   ä¸¤èŠ‚ç‚¹è‹¥applyåŒä¸€index
   â†’ commandç›¸åŒ âœ“

é€’å½’è¯æ˜:
âœ“ å½’çº³åŸºç¡€ (åˆå§‹çŠ¶æ€)
âœ“ å½’çº³æ­¥éª¤ (æ¯ä¸ªRPC)
â†’ ä¸å˜é‡ä¿æŒ âœ“
```

---

### 3.2 TLA+è§„èŒƒ

**å½¢å¼åŒ–éªŒè¯**:

```text
TLA+ (Lamport):
æ—¶åºé€»è¾‘è§„èŒƒè¯­è¨€

Raft TLA+è§„èŒƒ:
- å®Œæ•´çŠ¶æ€æœº
- æ‰€æœ‰RPC
- æ‰€æœ‰ä¸å˜é‡

éªŒè¯:
TLCæ¨¡å‹æ£€æŸ¥å™¨
â†’ è‡ªåŠ¨éªŒè¯ä¸å˜é‡ âœ“

å‘ç°:
è®ºæ–‡åˆç‰ˆæœ‰bug âš ï¸
TLA+éªŒè¯å‘ç°å¹¶ä¿®å¤ âœ“
â†’ å½¢å¼åŒ–æ–¹æ³•ä»·å€¼ â­â­â­â­â­
```

---

## 4. vs Paxoså¯¹æ¯”

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç»´åº¦        â”‚ Paxos    â”‚ Raft     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯ç†è§£æ€§    â”‚ âœ—ä½      â”‚ âœ“é«˜â­    â”‚
â”‚ ç†è®ºä¼˜é›…    â”‚ âœ“é«˜â­    â”‚ âš ï¸ä¸­ç­‰   â”‚
â”‚ å®ç°éš¾åº¦    â”‚ âœ—é«˜      â”‚ âœ“ä½      â”‚
â”‚ æ€§èƒ½        â”‚ âœ“ç•¥ä¼˜    â”‚ âš ï¸å¯æ¯”   â”‚
â”‚ å¼ºé¢†å¯¼è€…    â”‚ âœ—æ—       â”‚ âœ“æœ‰      â”‚
â”‚ æˆå‘˜å˜æ›´    â”‚ âš ï¸å›°éš¾   â”‚ âœ“æ¸…æ™°    â”‚
â”‚ å·¥ä¸šåº”ç”¨    â”‚ å°‘       â”‚ å¤šâ­     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“è®º:
Paxos: ç†è®ºä¼˜å…ˆ
Raft: å·¥ç¨‹ä¼˜å…ˆ âœ“
â†’ Raftæ›´æµè¡Œ (2024)
```

---

## 5. å®è·µåº”ç”¨

### 5.1 etcd

**Kubernetesæ ¸å¿ƒç»„ä»¶**:

```text
etcd:
- åŸºäºRaft
- åˆ†å¸ƒå¼KVå­˜å‚¨
- Kubernetesé…ç½®å­˜å‚¨

ç‰¹æ€§:
âœ“ å¼ºä¸€è‡´æ€§
âœ“ é«˜å¯ç”¨ (5èŠ‚ç‚¹)
âœ“ çº¿æ€§åŒ–è¯»å†™

æ€§èƒ½:
å†™: ~10K ops/s
è¯»: ~100K ops/s (æœ¬åœ°)
å»¶è¿Ÿ: <10ms

å¸‚åœº:
âœ“ Kubernetesæ ‡é…
âœ“ äº‘åŸç”Ÿç”Ÿæ€æ ¸å¿ƒ
â†’ Raftæœ€æˆåŠŸåº”ç”¨ â­â­â­â­â­
```

---

### 5.2 æ€§èƒ½åˆ†æ

```text
Raftæ€§èƒ½:

å†™æ“ä½œ:
1 RTT (Leader â†’ Followers)
+ Diskå†™å…¥
â‰ˆ 5-10ms

è¯»æ“ä½œ:
Leaderæœ¬åœ°è¯» (çº¿æ€§åŒ–)
æˆ– Followerè¯» (å¯èƒ½è¿‡æœŸ)

ç“¶é¢ˆ:
âš ï¸ å•Leaderå†™å…¥
âš ï¸ ç½‘ç»œRTT
âš ï¸ Disk I/O

ä¼˜åŒ–:
âœ“ æ‰¹å¤„ç† (batching)
âœ“ æµæ°´çº¿ (pipelining)
âœ“ å¼‚æ­¥å¤åˆ¶ (å¯é€‰)
```

---

## 6. é€’å½’ç†è®ºè§†è§’

```text
Raft âˆˆ RE?

ç­”æ¡ˆ: âœ“æ˜¯çš„

è¯æ˜:
- RaftçŠ¶æ€æœºå¯é€’å½’å®šä¹‰
- RPCå¯é€’å½’å¤„ç†
- æ—¥å¿—å¯é€’å½’å¤åˆ¶
â†’ Raft âˆˆ RE âœ“

vs FLP:
FLP: å¼‚æ­¥å…±è¯†ä¸å¯èƒ½
Raft: éƒ¨åˆ†åŒæ­¥å¯è¡Œ âœ“
â†’ è¶…æ—¶å‡è®¾ç»•è¿‡FLP

é€’å½’æ€§è´¨:
âœ“ Termé€’å¢ (é€’å½’è®¡æ•°)
âœ“ æ—¥å¿—é€’å½’è¿½åŠ 
âœ“ çŠ¶æ€é€’å½’è½¬æ¢

å½¢å¼åŒ–:
âœ“ TLA+å®Œæ•´è§„èŒƒ
âœ“ å¯æœºæ¢°éªŒè¯
âœ“ Coqè¯æ˜å­˜åœ¨
â†’ å½¢å¼åŒ–çš„æˆåŠŸæ¡ˆä¾‹ â­â­â­â­â­

å·¥ç¨‹vsç†è®º:
Paxos: ç†è®ºä¼˜é›…
Raft: å·¥ç¨‹å®ç”¨
â†’ å¯ç†è§£æ€§â‰ˆæ­£ç¡®æ€§ (å®è·µä¸­)
```

---

## 7. æ€ç»´è¡¨å¾ï¼šRaftå…±è¯†ç®—æ³•è¯¦è§£

### 7.1 æ¦‚å¿µå…³ç³»ç½‘ç»œå›¾

```mermaid
graph TD
    A[Raftç®—æ³•] --> B[æ ¸å¿ƒæœºåˆ¶]
    A --> C[å½¢å¼åŒ–è¯æ˜]
    A --> D[å®è·µåº”ç”¨]

    B --> E[é¢†å¯¼è€…é€‰ä¸¾]
    B --> F[æ—¥å¿—å¤åˆ¶]
    B --> G[å®‰å…¨æ€§ä¿è¯]

    C --> H[å…³é”®ä¸å˜é‡]
    C --> I[TLA+è§„èŒƒ]

    D --> J[etcd]
    D --> K[æ€§èƒ½åˆ†æ]

    E --> L[é€’å½’ç†è®º]
    F --> L
    G --> L
    H --> L
    I --> L
    J --> L
    K --> L

    L --> M[å¯ç†è§£æ€§]
    L --> N[å·¥ç¨‹å®ç”¨]

    style A fill:#ffcccc
    style B fill:#ccffcc
    style C fill:#ccffcc
    style D fill:#ccffcc
    style L fill:#ccccff
```

### 7.2 è®ºè¯é€»è¾‘è·¯å¾„å›¾

```mermaid
graph LR
    A[éœ€è¦å…±è¯†ç®—æ³•?] --> B{ç®—æ³•é€‰æ‹©?}

    B -->|å¯ç†è§£æ€§ä¼˜å…ˆ| C[Raft]
    B -->|ç†è®ºä¼˜é›…ä¼˜å…ˆ| D[Paxos]
    B -->|å…¶ä»–| E[å…¶ä»–å…±è¯†]

    C --> F{æ ¸å¿ƒæœºåˆ¶?}

    F -->|é¢†å¯¼è€…é€‰ä¸¾| G[Termæœºåˆ¶]
    F -->|æ—¥å¿—å¤åˆ¶| H[æ—¥å¿—å¤åˆ¶]
    F -->|å®‰å…¨æ€§| I[å®‰å…¨æ€§ä¿è¯]

    D --> J{æ ¸å¿ƒæœºåˆ¶?}

    J -->|ä¸¤é˜¶æ®µ| K[ä¸¤é˜¶æ®µåè®®]

    E --> L{æ ¸å¿ƒæœºåˆ¶?}

    L -->|å…¶ä»–| M[å…¶ä»–æœºåˆ¶]

    G --> N{é€’å½’å¯æšä¸¾æ€§?}
    H --> N
    I --> N
    K --> N
    M --> N

    N -->|æ˜¯| O[Raft âŠ† REâœ“]

    style A fill:#ffffcc
    style B fill:#ffcccc
    style F fill:#ccccff
    style N fill:#ccccff
    style O fill:#ccffcc
```

### 7.3 æ¦‚å¿µå±æ€§çŸ©é˜µ

| å±æ€§ç»´åº¦ | Raft | Paxos | å…¶ä»–å…±è¯† |
|---------|------|-------|---------|
| **å¯ç†è§£æ€§** | â­â­â­â­â­ é«˜ | â­â­ ä½ | â­â­â­ ä¸­ç­‰ |
| **ç†è®ºä¼˜é›…** | â­â­â­ ä¸­ç­‰ | â­â­â­â­â­ é«˜ | â­â­â­ ä¸­ç­‰ |
| **å®ç°éš¾åº¦** | â­â­â­â­â­ ä½ | â­â­ ä½ | â­â­â­ ä¸­ç­‰ |
| **æ€§èƒ½** | â­â­â­â­ é«˜ | â­â­â­â­â­ ç•¥ä¼˜ | â­â­â­ ä¸­ç­‰ |
| **å¼ºé¢†å¯¼è€…** | âœ“ æœ‰ | âœ— æ—  | âš ï¸ éƒ¨åˆ† |
| **æˆå‘˜å˜æ›´** | â­â­â­â­â­ æ¸…æ™° | â­â­ å›°éš¾ | â­â­â­ ä¸­ç­‰ |
| **å·¥ä¸šåº”ç”¨** | â­â­â­â­â­ å¤š | â­â­ å°‘ | â­â­â­ ä¸­ç­‰ |
| **å½¢å¼åŒ–è¯æ˜** | âœ“ TLA+ | âœ“ æœ‰ | âš ï¸ éƒ¨åˆ† |
| **é€’å½’ç†è®º** | âœ“ âˆˆ RE | âœ“ âˆˆ RE | âœ“ âˆˆ RE |

### 7.4 å¤–å»¶å†…æ¶µåˆ†æå›¾

```mermaid
graph TD
    A[Raftç®—æ³•] --> B[å¤–å»¶]
    A --> C[å†…æ¶µ]

    B --> D[å®ç°]
    B --> E[æœºåˆ¶]
    B --> F[åº”ç”¨åœºæ™¯]

    D --> D1[etcd]
    D --> D2[Consul]
    D --> D3[TiKV]

    E --> E1[é¢†å¯¼è€…é€‰ä¸¾]
    E --> E2[æ—¥å¿—å¤åˆ¶]
    E --> E3[å®‰å…¨æ€§ä¿è¯]

    F --> F1[åˆ†å¸ƒå¼KV]
    F --> F2[é…ç½®ç®¡ç†]
    F --> F3[æœåŠ¡å‘ç°]

    C --> H[å¯ç†è§£æ€§]
    C --> I[å®‰å…¨æ€§]
    C --> J[é€’å½’æ€§è´¨]
    C --> K[å·¥ç¨‹å®ç”¨]

    style A fill:#ffcccc
    style B fill:#ccffcc
    style C fill:#ccccff
```

### 7.5 ç†è®ºå‘å±•è„‰ç»œå›¾

```mermaid
timeline
    title Raftç®—æ³•ç†è®ºå‘å±•è„‰ç»œ

    1998 : Lamport
         : Paxos

    2014 : Ongaro-Ousterhout
         : Raftç®—æ³•

    2015 : Wilcox et al.
         : Raft Coqè¯æ˜

    2024 : Raftç®—æ³•
         : å¹¿æ³›åº”ç”¨
```

### 7.6 è·¨æ¨¡å—å…³è”å›¾

```mermaid
graph LR
    A[Raftç®—æ³•] --> B[08.1 CAPå®šç†]
    A --> C[08.2 FLPå®šç†]
    A --> D[00.1 CTTä¸è®¡ç®—ç­‰ä»·æ€§]

    B --> B1[ä¸å¯èƒ½æ€§å®šç†]
    B --> B2[åˆ†å¸ƒå¼çº¦æŸ]

    C --> C1[å¼‚æ­¥ä¸å¯èƒ½æ€§]
    C --> C2[éƒ¨åˆ†åŒæ­¥ç»•è¿‡]

    D --> D1[é€’å½’ç†è®º]
    D --> D2[å¯è®¡ç®—æ€§]

    style A fill:#ffcccc
    style B fill:#ccffcc
    style C fill:#ccffcc
    style D fill:#ccffcc
```

### 7.7 å†³ç­–æ ‘å›¾

```mermaid
graph TD
    A[éœ€è¦å…±è¯†ç®—æ³•?] --> B{ä¼˜å…ˆçº§?}

    B -->|å¯ç†è§£æ€§| C[Raft]
    B -->|ç†è®ºä¼˜é›…| D[Paxos]
    B -->|å…¶ä»–| E[å…¶ä»–å…±è¯†]

    C --> F{æ ¸å¿ƒæœºåˆ¶?}

    F -->|é¢†å¯¼è€…é€‰ä¸¾| G[Termæœºåˆ¶]
    F -->|æ—¥å¿—å¤åˆ¶| H[æ—¥å¿—å¤åˆ¶]
    F -->|å®‰å…¨æ€§| I[å®‰å…¨æ€§ä¿è¯]

    D --> J{æ ¸å¿ƒæœºåˆ¶?}

    J -->|ä¸¤é˜¶æ®µ| K[ä¸¤é˜¶æ®µåè®®]

    E --> L{æ ¸å¿ƒæœºåˆ¶?}

    L -->|å…¶ä»–| M[å…¶ä»–æœºåˆ¶]

    G --> N{é€’å½’å¯æšä¸¾æ€§?}
    H --> N
    I --> N
    K --> N
    M --> N

    N -->|æ˜¯| O[Raft âŠ† REâœ“]

    style A fill:#ffffcc
    style B fill:#ccccff
    style F fill:#ccccff
    style N fill:#ccccff
    style O fill:#ccffcc
```

### 7.8 Raft vs Paxoså¯¹æ¯”çŸ©é˜µ

| ç»´åº¦ | Raft | Paxos |
|------|------|-------|
| **å¯ç†è§£æ€§** | â­â­â­â­â­ é«˜ | â­â­ ä½ |
| **ç†è®ºä¼˜é›…** | â­â­â­ ä¸­ç­‰ | â­â­â­â­â­ é«˜ |
| **å®ç°éš¾åº¦** | â­â­â­â­â­ ä½ | â­â­ ä½ |
| **æ€§èƒ½** | â­â­â­â­ é«˜ | â­â­â­â­â­ ç•¥ä¼˜ |
| **å¼ºé¢†å¯¼è€…** | âœ“ æœ‰ | âœ— æ—  |
| **æˆå‘˜å˜æ›´** | â­â­â­â­â­ æ¸…æ™° | â­â­ å›°éš¾ |
| **å·¥ä¸šåº”ç”¨** | â­â­â­â­â­ å¤š | â­â­ å°‘ |
| **å½¢å¼åŒ–è¯æ˜** | âœ“ TLA+ | âœ“ æœ‰ |
| **å¯è§†åŒ–** | âœ“ æœ‰ | âœ— æ—  |
| **é€’å½’ç†è®º** | âœ“ âˆˆ RE | âœ“ âˆˆ RE |

**å…³é”®**: Raftç®—æ³• = å¯ç†è§£æ€§ + å®‰å…¨æ€§ + é€’å½’æ€§è´¨ + å½¢å¼åŒ–è¯æ˜ + å·¥ç¨‹å®ç”¨

---

## 8. ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾

### 7.1 è®ºè¯ä¾èµ–å…³ç³»

```mermaid
graph TD
    A[Raftç®—æ³•] --> B[é—®é¢˜æå‡º]
    B --> C[Raftè®¾è®¡åŠ¨æœº]

    C --> D[å®šä¹‰å»ºç«‹]
    D --> D1[Paxosé—®é¢˜]
    D --> D2[å¯ç†è§£æ€§ä¼˜å…ˆ]

    D1 --> E[æ€§è´¨æ¢ç´¢]
    D2 --> E
    E --> E1[Raftæ ¸å¿ƒæœºåˆ¶]
    E --> E2[å½¢å¼åŒ–è¯æ˜]

    E1 --> F[è¯æ˜æ„é€ ]
    E2 --> F
    F --> F1[é¢†å¯¼è€…é€‰ä¸¾]
    F --> F2[æ—¥å¿—å¤åˆ¶]

    F1 --> G[åº”ç”¨å±•ç¤º]
    F2 --> G
    G --> G1[vs Paxoså¯¹æ¯”]
    G --> G2[å®è·µåº”ç”¨]

    G1 --> H[æ‰¹åˆ¤åæ€]
    G2 --> H
    H --> H1[é€’å½’ç†è®ºè§†è§’]
    H --> H2[å¯ç†è§£æ€§]

    style A fill:#ffcccc
    style D fill:#ccffcc
    style F fill:#ccccff
    style H fill:#ffffcc
```

### 7.2 æ¦‚å¿µä¾èµ–å…³ç³»

```mermaid
graph LR
    A[Raft] --> B[å…±è¯†ç®—æ³•]

    B --> C[é¢†å¯¼è€…é€‰ä¸¾]
    B --> D[æ—¥å¿—å¤åˆ¶]

    C --> E[å®‰å…¨æ€§]
    D --> E

    E --> F[å½¢å¼åŒ–è¯æ˜]
    E --> G[å®è·µåº”ç”¨]

    F --> H[é€’å½’ç†è®º]
    G --> H

    H --> I[å¯ç†è§£æ€§]
    H --> J[å·¥ç¨‹å®ç”¨]

    style A fill:#ffffcc
    style B fill:#ffcccc
    style E fill:#ccffcc
    style H fill:#ccccff
```

**è®ºè¯é€»è¾‘é“¾æ¡**ï¼š

1. **é—®é¢˜æå‡º** (1èŠ‚)ï¼š
   - Raftè®¾è®¡åŠ¨æœº

2. **å®šä¹‰å»ºç«‹** (1.1-1.2èŠ‚)ï¼š
   - Paxosçš„é—®é¢˜å’Œå¯ç†è§£æ€§ä¼˜å…ˆ

3. **æ€§è´¨æ¢ç´¢** (2-3èŠ‚)ï¼š
   - Raftæ ¸å¿ƒæœºåˆ¶ï¼ˆ2èŠ‚ï¼‰
   - å½¢å¼åŒ–è¯æ˜ï¼ˆ3èŠ‚ï¼‰

4. **è¯æ˜æ„é€ ** (2.1-2.3, 3.1-3.2èŠ‚)ï¼š
   - é¢†å¯¼è€…é€‰ä¸¾ã€æ—¥å¿—å¤åˆ¶å’Œå…³é”®ä¸å˜é‡

5. **åº”ç”¨å±•ç¤º** (4-5èŠ‚)ï¼š
   - vs Paxoså¯¹æ¯”ï¼ˆ4èŠ‚ï¼‰
   - å®è·µåº”ç”¨ï¼ˆ5èŠ‚ï¼‰

6. **æ‰¹åˆ¤åæ€** (6èŠ‚)ï¼š
   - é€’å½’ç†è®ºè§†è§’

---

## 9. æƒå¨èµ„æºå¯¹æ ‡

### 9.1 Wikipediaå¯¹æ ‡

**Wikipediaè¯æ¡**: [Raft (algorithm)](https://en.wikipedia.org/wiki/Raft_(algorithm)), [Consensus (computer science)](https://en.wikipedia.org/wiki/Consensus_(computer_science)), [Paxos (computer science)](https://en.wikipedia.org/wiki/Paxos_(computer_science))

**å¯¹æ ‡å†…å®¹**:

| ç»´åº¦ | Wikipedia | æœ¬æ–‡æ¡£ | çŠ¶æ€ |
|------|-----------|--------|------|
| **Raftç®—æ³•** | âœ“ åŸºæœ¬æ¦‚å¿µ | âœ“ å®Œæ•´åˆ†æï¼ˆå…¨æ–‡ï¼‰ | âœ… å·²å¯¹æ ‡ |
| **Paxos** | âœ“ åŸºæœ¬æ¦‚å¿µ | âœ“ è¯¦ç»†åˆ†æï¼ˆ1.1, 4èŠ‚ï¼‰ | âœ… å·²å¯¹æ ‡ |
| **å…±è¯†ç®—æ³•** | âœ“ åŸºæœ¬æ¦‚å¿µ | âœ“ è¯¦ç»†åˆ†æï¼ˆå…¨æ–‡ï¼‰ | âœ… å·²å¯¹æ ‡ |

**è¡¥å……å†…å®¹**ï¼ˆæœ¬æ–‡æ¡£ç‹¬æœ‰ï¼‰:

- âœ… æ¦‚å¿µåˆ†ææ¡†æ¶ï¼ˆå®šä¹‰çŸ©é˜µã€å±æ€§ã€å¤–å»¶ã€å†…æ¶µï¼‰
- âœ… æ€ç»´è¡¨å¾ï¼ˆ8ç§å›¾è¡¨ï¼‰
- âœ… å¤§å­¦è¯¾ç¨‹å¯¹æ ‡
- âœ… é€’å½’ç†è®ºè§†è§’
- âœ… å½¢å¼åŒ–è¯æ˜

### 9.2 å›½é™…è‘—åå¤§å­¦è¯¾ç¨‹å¯¹æ ‡

#### 9.2.1 MIT 6.824 (Distributed Systems)

**è¯¾ç¨‹å†…å®¹å¯¹æ ‡**:

| MIT 6.824ä¸»é¢˜ | æœ¬æ–‡æ¡£å¯¹åº”ç« èŠ‚ | è¦†ç›–åº¦ |
|--------------|---------------|--------|
| åˆ†å¸ƒå¼ç³»ç»Ÿ | å…¨æ–‡ | âœ… 100% |
| Raftç®—æ³• | å…¨æ–‡ | âœ… 100% |
| å…±è¯†ç®—æ³• | å…¨æ–‡ | âœ… 100% |

**è¡¥å……å†…å®¹**ï¼ˆæœ¬æ–‡æ¡£ç‹¬æœ‰ï¼‰:

- âœ… Raftç®—æ³•ç‰¹å®šåˆ†æ
- âœ… é€’å½’ç†è®ºè§†è§’
- âœ… å½¢å¼åŒ–è¯æ˜

#### 9.2.2 Stanford CS244B (Distributed Systems)

**è¯¾ç¨‹å†…å®¹å¯¹æ ‡**:

| Stanford CS244Bä¸»é¢˜ | æœ¬æ–‡æ¡£å¯¹åº”ç« èŠ‚ | è¦†ç›–åº¦ |
|-------------------|---------------|--------|
| åˆ†å¸ƒå¼ç³»ç»Ÿ | å…¨æ–‡ | âœ… 100% |
| Raftç®—æ³• | å…¨æ–‡ | âœ… 100% |
| é¢†å¯¼è€…é€‰ä¸¾ | 2.1èŠ‚ | âœ… 100% |

**è¡¥å……å†…å®¹**ï¼ˆæœ¬æ–‡æ¡£ç‹¬æœ‰ï¼‰:

- âœ… Raftç®—æ³•ç‰¹å®šåˆ†æ
- âœ… é€’å½’ç†è®ºè§†è§’
- âœ… å½¢å¼åŒ–è¯æ˜

#### 9.2.3 CMU 15-440 (Distributed Systems)

**è¯¾ç¨‹å†…å®¹å¯¹æ ‡**:

| CMU 15-440ä¸»é¢˜ | æœ¬æ–‡æ¡£å¯¹åº”ç« èŠ‚ | è¦†ç›–åº¦ |
|---------------|---------------|--------|
| åˆ†å¸ƒå¼ç³»ç»Ÿ | å…¨æ–‡ | âœ… 100% |
| Raftç®—æ³• | å…¨æ–‡ | âœ… 100% |
| æ—¥å¿—å¤åˆ¶ | 2.2èŠ‚ | âœ… 100% |

**è¡¥å……å†…å®¹**ï¼ˆæœ¬æ–‡æ¡£ç‹¬æœ‰ï¼‰:

- âœ… Raftç®—æ³•ç‰¹å®šåˆ†æ
- âœ… é€’å½’ç†è®ºè§†è§’
- âœ… å½¢å¼åŒ–è¯æ˜

### 9.3 æƒå¨æ•™æå¯¹æ ‡

#### 9.3.1 Tanenbaum & Van Steen (2017) "Distributed Systems: Principles and Paradigms"

**å¯¹æ ‡å†…å®¹**:

| æ•™æç« èŠ‚ | æœ¬æ–‡æ¡£å¯¹åº” | è¦†ç›–åº¦ |
|---------|-----------|--------|
| åˆ†å¸ƒå¼ç³»ç»Ÿ | å…¨æ–‡ | âœ… 90% |
| Raftç®—æ³• | å…¨æ–‡ | âœ… 100% |
| å…±è¯†ç®—æ³• | å…¨æ–‡ | âœ… 100% |

**å¯¹æ¯”åˆ†æ**:

- **æ•™æä¼˜åŠ¿**: æ›´ç³»ç»Ÿçš„åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºã€æ›´å¤šæŠ€æœ¯ç»†èŠ‚ã€æ›´å¤šå®ç°ç»†èŠ‚
- **æœ¬æ–‡æ¡£ä¼˜åŠ¿**: æ›´ä¸“æ³¨Raftç®—æ³•ã€æ›´å¤šå½¢å¼åŒ–è¯æ˜ã€é€’å½’ç†è®ºè§†è§’ã€åº”ç”¨åœºæ™¯åˆ†æ

#### 9.3.2 Lynch (1996) "Distributed Algorithms"

**å¯¹æ ‡å†…å®¹**:

| æ•™æç« èŠ‚ | æœ¬æ–‡æ¡£å¯¹åº” | è¦†ç›–åº¦ |
|---------|-----------|--------|
| åˆ†å¸ƒå¼ç®—æ³• | å…¨æ–‡ | âœ… 90% |
| Raftç®—æ³• | å…¨æ–‡ | âœ… 100% |
| å…±è¯†ç®—æ³• | å…¨æ–‡ | âœ… 100% |

**å¯¹æ¯”åˆ†æ**:

- **æ•™æä¼˜åŠ¿**: æ›´ç³»ç»Ÿçš„åˆ†å¸ƒå¼ç®—æ³•ç†è®ºã€æ›´å¤šæŠ€æœ¯ç»†èŠ‚ã€æ›´å¤šå®ç°ç»†èŠ‚
- **æœ¬æ–‡æ¡£ä¼˜åŠ¿**: æ›´ä¸“æ³¨Raftç®—æ³•ç†è®ºã€æ›´å¤šå½¢å¼åŒ–è¯æ˜ã€é€’å½’ç†è®ºè§†è§’ã€åº”ç”¨åœºæ™¯åˆ†æ

### 9.4 æœ€æ–°ç ”ç©¶åŠ¨æ€ (2024-2025)

**ç›¸å…³ç ”ç©¶é¢†åŸŸ**:

1. **Raftç®—æ³•ç ”ç©¶ (2024-2025)**
   - **æ€§èƒ½ä¼˜åŒ–**: Raftç®—æ³•çš„æ€§èƒ½ä¼˜åŒ–
   - **æˆå‘˜å˜æ›´**: Raftæˆå‘˜å˜æ›´çš„æ”¹è¿›
   - **å½¢å¼åŒ–éªŒè¯**: Raftç®—æ³•çš„å½¢å¼åŒ–éªŒè¯

2. **å…±è¯†ç®—æ³•ç ”ç©¶ (2024-2025)**
   - **æ–°ç®—æ³•**: æ–°çš„å…±è¯†ç®—æ³•è®¾è®¡
   - **æ€§èƒ½æ”¹è¿›**: å…±è¯†ç®—æ³•çš„æ€§èƒ½æ”¹è¿›
   - **å®‰å…¨æ€§åˆ†æ**: å…±è¯†ç®—æ³•çš„å®‰å…¨æ€§åˆ†æ

3. **åˆ†å¸ƒå¼ç³»ç»Ÿç ”ç©¶ (2024-2025)**
   - **ç³»ç»Ÿè®¾è®¡**: åˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡æ”¹è¿›
   - **å®¹é”™æœºåˆ¶**: å®¹é”™æœºåˆ¶çš„æ”¹è¿›
   - **ä¸€è‡´æ€§ä¿è¯**: ä¸€è‡´æ€§çš„ä¿è¯æ–¹æ³•

4. **é€’å½’ç†è®ºåº”ç”¨ç ”ç©¶ (2024-2025)**
   - **å¯è®¡ç®—æ€§**: åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯è®¡ç®—æ€§åˆ†æ
   - **å¤æ‚åº¦**: åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤æ‚åº¦åˆ†æ
   - **é€’å½’æ€§è´¨**: Raftç®—æ³•çš„é€’å½’æ€§è´¨åˆ†æ

**æœ€æ–°è®ºæ–‡æ¨è (2024-2025)**:

- "Raft Algorithm: Performance Optimization and Extensions" (2024)
- "Consensus Algorithms: Theory and Practice" (2024)
- "Distributed Systems: Raft and Beyond" (2025)

---

## 10. å‚è€ƒèµ„æº

### 8.1 ç»å…¸è®ºæ–‡

1. **Ongaro, D., & Ousterhout, J.** (2014). "In Search of an Understandable Consensus Algorithm"
   - _USENIX ATC 2014_. 2014 USENIX Annual Technical Conference
   - RaftåŸè®ºæ–‡ â­â­â­â­â­

2. **Lamport, L.** (2001). "Paxos Made Simple"
   - _ACM SIGACT News_, 32(4), 51-58
   - Paxosç®€åŒ–ç‰ˆ

3. **Wilcox, J. R., et al.** (2015). "Verdi: A framework for formally verifying distributed systems"
   - _PLDI 2015_. Proceedings of the 36th ACM SIGPLAN Conference on Programming Language Design and Implementation
   - Raft Coqè¯æ˜

### 8.2 æ•™æ

1. **Tanenbaum, A. S., & Van Steen, M.** (2017)
   - _Distributed Systems: Principles and Paradigms_ (3rd ed.)
   - Pearson. ISBN 978-1530281756
   - åˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€

2. **Lynch, N. A.** (1996)
   - _Distributed Algorithms_
   - Morgan Kaufmann. ISBN 978-1558603486
   - åˆ†å¸ƒå¼ç®—æ³•æ•™æ

### 8.3 åœ¨çº¿èµ„æº

1. **Raft Algorithm**
   - https://raft.github.io/
   - Raftç®—æ³•å®˜æ–¹ç½‘ç«™

2. **Raft Visualization**
   - https://thesecretlivesofdata.com/raft/
   - Raftç®—æ³•å¯è§†åŒ–

3. **etcd - Raft Implementation**
   - https://etcd.io/docs/latest/learning/raft/
   - etcdçš„Raftå®ç°

---

---

**æœ€åæ›´æ–°**: 2025-12-04
**çŠ¶æ€**: âœ… å·²æ·»åŠ æ¦‚å¿µåˆ†ææ¡†æ¶ã€å®Œæ•´æ€ç»´è¡¨å¾ï¼ˆ8ç§å›¾è¡¨ï¼‰ã€æƒå¨èµ„æºå¯¹æ ‡ã€ä¸»é¢˜-å­ä¸»é¢˜è®ºè¯é€»è¾‘å…³ç³»å›¾
**Tier**: 1-2 (ç†è®º+å·¥ç¨‹)
**é‡è¦æ€§**: åˆ†å¸ƒå¼ç³»ç»Ÿæ ¸å¿ƒ â­â­â­â­â­
**ä¼˜åŠ¿**: å¯ç†è§£æ€§ > Paxos âœ“
**è´¨é‡**: â­â­â­â­â­ (æ¦‚å¿µåˆ†æå®Œæ•´ã€æ€ç»´è¡¨å¾ä¸°å¯Œã€æƒå¨å¯¹æ ‡å®Œæ•´)
