# 形式语言与Chomsky层级

> **主题**: Noam Chomsky的语言层次理论
> **创建日期**: 2025-12-02
> **难度**: ⭐⭐⭐
> **前置知识**: 有限自动机、文法基础

---

## 📋 目录

- [形式语言与Chomsky层级](#形式语言与chomsky层级)
  - [📋 目录](#-目录)
  - [1. 形式语言基础](#1-形式语言基础)
    - [1.1 基本概念](#11-基本概念)
    - [1.2 文法](#12-文法)
  - [2. Chomsky层级](#2-chomsky层级)
    - [2.1 四层结构](#21-四层结构)
    - [2.2 产生式形式](#22-产生式形式)
  - [3. 各层级详解](#3-各层级详解)
    - [3.1 正则语言](#31-正则语言)
    - [3.2 上下文无关语言 (CFL)](#32-上下文无关语言-cfl)
    - [3.3 上下文有关语言 (CSL)](#33-上下文有关语言-csl)
    - [3.4 递归可枚举语言 (REL)](#34-递归可枚举语言-rel)
  - [4. 泵引理](#4-泵引理)
    - [4.1 正则语言泵引理证明](#41-正则语言泵引理证明)
    - [4.2 应用案例](#42-应用案例)
  - [5. 闭包性质](#5-闭包性质)
    - [5.1 闭包性质总表](#51-闭包性质总表)
    - [5.2 CFL不在交集下封闭](#52-cfl不在交集下封闭)
  - [6. 参考资源](#6-参考资源)
    - [教材](#教材)

---

## 1. 形式语言基础

### 1.1 基本概念

**字母表**: Σ = 有限符号集

- 例: Σ = {0, 1}, Σ = {a, b, c}

**字符串**: Σ* = 所有有限字符串的集合

- ε = 空串
- |w| = 字符串w的长度

**语言**: L ⊆ Σ* (字符串的集合)

### 1.2 文法

**定义1.1 (形式文法)**: G = (V, Σ, R, S)

- V: 非终结符集
- Σ: 终结符集
- R: 产生式规则集 (V ∪ Σ)_→ (V ∪ Σ)_
- S ∈ V: 开始符号

**推导**: α →_G β 如果存在产生式 γ → δ 使得:

```text
α = uγv, β = uδv
```

**生成语言**: L(G) = {w ∈ Σ*| S →* w}

---

## 2. Chomsky层级

### 2.1 四层结构

```text
类型3: 正则语言 (Regular)
  ⊂
类型2: 上下文无关语言 (Context-Free)
  ⊂
类型1: 上下文有关语言 (Context-Sensitive)
  ⊂
类型0: 递归可枚举语言 (Recursively Enumerable)
```

**对应机器模型**:

| 类型 | 语言类 | 文法 | 自动机 |
|------|--------|------|--------|
| 3 | 正则 | 右线性 | 有限自动机 (DFA/NFA) |
| 2 | 上下文无关 | CFG | 下推自动机 (PDA) |
| 1 | 上下文有关 | CSG | 线性有界自动机 (LBA) |
| 0 | 递归可枚举 | 无限制 | 图灵机 (TM) |

### 2.2 产生式形式

**类型3 (正则)**:

```text
A → aB | a  (右线性)
或 A → Ba | a  (左线性)
```

**类型2 (上下文无关)**:

```text
A → α  (左边单个非终结符)
```

**类型1 (上下文有关)**:

```text
αAβ → αγβ  (|γ| ≥ 1, 除了 S → ε)
```

**类型0 (无限制)**:

```text
α → β  (α 包含至少一个非终结符)
```

---

## 3. 各层级详解

### 3.1 正则语言

**闭包性质**: ✅ ∪, ∩, ¯, ·, *

**泵引理 (Pumping Lemma)**:

对任意正则语言 L，存在常数 p，使得对所有 |w| ≥ p, w ∈ L:

```text
∃xyz. w = xyz ∧ |xy| ≤ p ∧ y ≠ ε ∧ ∀i≥0. xyⁱz ∈ L
```

**应用**: 证明非正则性

**例子**: L = {0ⁿ1ⁿ | n ≥ 0} 不是正则的

### 3.2 上下文无关语言 (CFL)

**闭包**: ✅ ∪, ·, * | ❌ ∩, ¯

**泵引理 (CFL版)**:

```text
∃uvxyz. w = uvxyz ∧ |vxy| ≤ p ∧ vy ≠ ε
         ∧ ∀i≥0. uvⁱxyⁱz ∈ L
```

**经典例子**:

- {0ⁿ1ⁿ | n ≥ 0} ✅ CFL
- {0ⁿ1ⁿ2ⁿ | n ≥ 0} ❌ 不是CFL

**应用**: 编程语言语法

### 3.3 上下文有关语言 (CSL)

**闭包**: ✅ ∪, ∩, ·, * | ❌ ¯ (未知)

**例子**:

- {0ⁿ1ⁿ2ⁿ | n ≥ 0} ✅ CSL

**LBA**: 线性有界自动机

- 磁带长度 ≤ c·|input|

**定理**: CSL = LBA识别的语言

### 3.4 递归可枚举语言 (REL)

**闭包**: ✅ ∪, ∩, ·, * | ❌ ¯

**关键**: 补集运算破坏RE！

**定理**: L 递归 ⟺ L 和 L̄ 都是RE

---

## 4. 泵引理

### 4.1 正则语言泵引理证明

**思路**: 鸽笼原理

DFA有p个状态，读入长度≥p的字符串时，必有状态重复：

```text
q₀ →···→ q →···→ q →···→ qf
        ⌞____⌟
          循环
```

可以"泵"这个循环任意次！

### 4.2 应用案例

**证明** L = {0ⁿ1ⁿ} **不是正则**:

```text
假设L正则，泵引理给出p
取 w = 0ᵖ1ᵖ ∈ L
分解 w = xyz, |xy| ≤ p, y ≠ ε

∵ |xy| ≤ p, xy 只包含0
∴ y = 0ᵏ (k ≥ 1)

泵两次: xy²z = 0^(p+k) 1^p ∉ L  ❌

矛盾! ∴ L 不正则  □
```

---

## 5. 闭包性质

### 5.1 闭包性质总表

| 运算 | 正则 | CFL | CSL | REL |
|------|------|-----|-----|-----|
| 并集 ∪ | ✅ | ✅ | ✅ | ✅ |
| 交集 ∩ | ✅ | ❌ | ✅ | ✅ |
| 补集 ¯ | ✅ | ❌ | ❌? | ❌ |
| 连接 · | ✅ | ✅ | ✅ | ✅ |
| Kleene闭包 * | ✅ | ✅ | ✅ | ✅ |
| 同态 h | ✅ | ✅ | ❌ | ✅ |
| 逆同态 h⁻¹ | ✅ | ✅ | ✅ | ✅ |

### 5.2 CFL不在交集下封闭

**反例**:

```text
L₁ = {0ⁿ1ⁿ2^m | n,m ≥ 0}  ✅ CFL
L₂ = {0^m1ⁿ2ⁿ | n,m ≥ 0}  ✅ CFL
L₁ ∩ L₂ = {0ⁿ1ⁿ2ⁿ | n ≥ 0}  ❌ 不是CFL
```

---

## 6. 参考资源

### 教材

1. **Sipser** - Ch. 1-2 (正则、CFL)
2. **Hopcroft & Ullman** - 完整Chomsky层级

---

**最后更新**: 2025-12-02
**状态**: 初稿完成
